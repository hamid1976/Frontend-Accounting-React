{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Logic-Unit\\\\my-account\\\\src\\\\components\\\\AccountsReceivable\\\\RecordPaymentModal.jsx\",\n  _s = $RefreshSig$();\n// import { useState, useEffect } from 'react';\n// import { Modal, DatePicker, Input, Select, Button, Spin } from 'antd';\n// import { formatCurrency } from '../../Utility/formatters';\n\n// // Properly destructure all needed components from Select\n// const { Option, OptGroup } = Select;\n\n// const RecordPaymentModal = ({ invoiceId, amount, onClose, onSubmit }) => {\n//    console.log('RecordPaymentModal props:', { invoiceId, amount, onClose, onSubmit });\n//   const [date, setDate] = useState(null);  \n//   const [enteredAmount, setEnteredAmount] = useState('');\n//   const [method, setMethod] = useState('');\n//   const [account, setAccount] = useState('');\n//   const [memo, setMemo] = useState('');\n//   const [accounts, setAccounts] = useState([]);\n//   const [loading, setLoading] = useState(false);\n\n//   useEffect(()=>{\n//    setEnteredAmount(amount.toString());\n//   },[amount])\n//   // Use the amount prop directly instead of fetching from API\n//   useEffect(() => {\n//     if (amount) {\n//       setEnteredAmount(amount.toString());\n//     }\n//   }, [amount]);\n\n//   // Fetch accounts as before\n//   useEffect(() => {\n//     const fetchAccounts = async () => {\n//       try {\n//         const response = await fetch('http://localhost:8080/api/accounts');\n//         const data = await response.json();\n\n//         // Only asset accounts\n//         const assetAccounts = data.filter(acct => acct.type === 'assets');\n\n//         // Build parent-child map\n//         const accountMap = {};\n//         assetAccounts.forEach(acct => accountMap[acct.id] = { ...acct, children: [] });\n\n//         assetAccounts.forEach(acct => {\n//           if (acct.parentId && accountMap[acct.parentId]) {\n//             accountMap[acct.parentId].children.push(accountMap[acct.id]);\n//           }\n//         });\n\n//         // Top-level accounts\n//         const tree = assetAccounts.filter(acct => !acct.parentId || !accountMap[acct.parentId]);\n//         setAccounts(tree);\n//       } catch (err) {\n//         console.error('Failed to fetch accounts:', err);\n//       }\n//     };\n\n//     fetchAccounts();\n//   }, []);\n\n//   const handleSubmit = () => {\n//     if (!date || !enteredAmount || !method || !account) return;\n//     onSubmit(date, parseFloat(enteredAmount), method, account, memo);\n//     onClose();\n//   };\n\n//   return (\n//     <Modal\n//       title={`Record Payment for Invoice ${invoiceId}`}\n//       open={true}\n//       onCancel={onClose}\n//       footer={[\n//         <Button key=\"cancel\" onClick={onClose}>\n//           Close\n//         </Button>\n//       ]}\n//     >\n//       <div className=\"space-y-4\">\n//         <div>\n//           <label className=\"text-gray-700\">Date</label>\n//           <DatePicker \n//             className=\"w-full\"\n//             value={date}\n//             onChange={(val) => setDate(val)}\n//           />\n//         </div>\n//         <div>\n//           <label className=\"text-gray-700\">Amount</label>\n//           <Input\n//             value={enteredAmount} \n//             onChange={(e) => setEnteredAmount(e.target.value)}\n//             prefix={<span className=\"text-gray-500\">Rs</span>}\n//           />\n//           <div className=\"text-sm text-gray-500\">\n\n//             Remaining amount: {formatCurrency(amount - (parseFloat(enteredAmount) || 0))}\n//           </div>\n//         </div>\n\n//         <div>\n//           <label className=\"text-gray-700\">Payment Method</label>\n//           <Select value={method} onChange={setMethod} className=\"w-full\">\n//             <Option value=\"cash\">Cash</Option>\n//             <Option value=\"check\">Check</Option>\n//             <Option value=\"eft\">Bank/Electronic Funds</Option>\n//             <Option value=\"credit\">Credit Card</Option> \n//           </Select>\n//         </div>\n//         <div>\n//           <label className=\"text-gray-700\">Deposit Account</label>\n//           <Select\n//             value={account}\n//             onChange={setAccount}\n//             showSearch\n//             filterOption={(input, option) =>\n//               (option?.children ?? '').toLowerCase().includes(input.toLowerCase())\n//             }\n//             className=\"w-full\"\n//           >\n//             {accounts.map(parent =>\n//               parent.children.length > 0 ? (\n//                 <OptGroup key={parent.id} label={`${parent.code} - ${parent.name}`}>\n//                   {parent.children.map(child => (\n//                     <Option key={child.id} value={child.id}>\n//                       {child.code} - {child.name}\n//                     </Option>\n//                   ))}\n//                 </OptGroup>\n//               ) : (\n//                 <Option key={parent.id} value={parent.id}>\n//                   {parent.code} - {parent.name}\n//                 </Option>\n//               )\n//             )}\n//           </Select>\n//         </div>\n//         <div>\n//           <label className=\"text-gray-700\">Memo</label>\n//           <Input.TextArea value={memo} onChange={(e) => setMemo(e.target.value)} />\n//         </div>\n\n//         <Button \n//           type=\"primary\"\n//           className=\"mt-6\"\n//           disabled={!date || !enteredAmount || !method || !account}\n//           onClick={handleSubmit}\n//         >\n//           Submit Payment\n//         </Button>\n//       </div>\n//     </Modal>\n//   );\n// };\n\n// export default RecordPaymentModal;\n\n// import { useState, useEffect } from 'react';\n// import { Modal, DatePicker, Input, Select, Button, message } from 'antd';\n// import { formatCurrency } from '../../Utility/formatters';\n\n// // Properly destructure all needed components from Select\n// const { Option, OptGroup } = Select;\n\n// const RecordPaymentModal = ({ invoiceId, amount, onClose, onSubmit }) => {\n//   console.log('RecordPaymentModal props:', { invoiceId, amount, onClose, onSubmit });\n//   const [date, setDate] = useState(null);  \n//   const [enteredAmount, setEnteredAmount] = useState('');\n//   const [method, setMethod] = useState('');\n//   const [account, setAccount] = useState('');\n//   const [memo, setMemo] = useState('');\n//   const [accounts, setAccounts] = useState([]);\n//   const [loading, setLoading] = useState(false);\n\n//   useEffect(() => {\n//     setEnteredAmount(amount.toString());\n//   }, [amount]);\n\n//   // Fetch accounts as before\n//   useEffect(() => {\n//     const fetchAccounts = async () => {\n//       try {\n//         const response = await fetch('http://localhost:8080/api/accounts');\n//         const data = await response.json();\n\n//         // Only asset accounts\n//         const assetAccounts = data.filter(acct => acct.type === 'assets');\n\n//         // Build parent-child map\n//         const accountMap = {};\n//         assetAccounts.forEach(acct => accountMap[acct.id] = { ...acct, children: [] });\n\n//         assetAccounts.forEach(acct => {\n//           if (acct.parentId && accountMap[acct.parentId]) {\n//             accountMap[acct.parentId].children.push(accountMap[acct.id]);\n//           }\n//         });\n\n//         // Top-level accounts\n//         const tree = assetAccounts.filter(acct => !acct.parentId || !accountMap[acct.parentId]);\n//         setAccounts(tree);\n//       } catch (err) {\n//         console.error('Failed to fetch accounts:', err);\n//       }\n//     };\n\n//     fetchAccounts();\n//   }, []);\n\n//   const handleSubmit = async () => {\n//     if (!date || !enteredAmount || !method || !account) return;\n\n//     setLoading(true);\n//     try {\n//       // Create payment data object\n//       const paymentData = {\n//         id: Date.now(), // Generate a unique ID\n//         invoiceId,\n//         date: date.format('YYYY-MM-DD'),\n//         amount: parseFloat(enteredAmount),\n//         paymentMethod: method,\n//         accountId: account,\n//         memo,\n//         status: 'completed',\n//         createdAt: new Date().toISOString()\n//       };\n\n//       // Save to localStorage (temporary solution)\n//       const existingPayments = JSON.parse(localStorage.getItem('payments') || '[]');\n//       const updatedPayments = [...existingPayments, paymentData];\n//       localStorage.setItem('payments', JSON.stringify(updatedPayments));\n\n//       // Also update the order status in localStorage\n//       const existingOrders = JSON.parse(localStorage.getItem('orders') || '[]');\n//       const orderIndex = existingOrders.findIndex(order => \n//         order.orderId === invoiceId || order.id === invoiceId\n//       );\n\n//       if (orderIndex !== -1) {\n//         existingOrders[orderIndex].paid = true;\n//         existingOrders[orderIndex].paymentDate = paymentData.date;\n//         localStorage.setItem('orders', JSON.stringify(existingOrders));\n//       }\n\n//       message.success('Payment recorded successfully!');\n\n//       // Call the onSubmit callback with the payment data\n//       onSubmit(date, parseFloat(enteredAmount), method, account, memo, paymentData);\n\n//       onClose();\n//     } catch (error) {\n//       console.error('Error recording payment:', error);\n//       message.error('Failed to record payment. Please try again.');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   return (\n//     <Modal\n//       title={`Record Payment for Invoice ${invoiceId}`}\n//       open={true}\n//       onCancel={onClose}\n//       footer={[\n//         <Button key=\"cancel\" onClick={onClose}>\n//           Close\n//         </Button>\n//       ]}\n//     >\n//       <div className=\"space-y-4\">\n//         <div>\n//           <label className=\"text-gray-700\">Date</label>\n//           <DatePicker \n//             className=\"w-full\"\n//             value={date}\n//             onChange={(val) => setDate(val)}\n//           />\n//         </div>\n//         <div>\n//           <label className=\"text-gray-700\">Amount</label>\n//           <Input\n//             value={enteredAmount} \n//             onChange={(e) => setEnteredAmount(e.target.value)}\n//             prefix={<span className=\"text-gray-500\">Rs</span>}\n//           />\n//           <div className=\"text-sm text-gray-500\">\n//             Invoice amount: {formatCurrency(amount)} <br />\n//             Remaining amount: {formatCurrency(amount - (parseFloat(enteredAmount) || 0))}\n//           </div>\n//         </div>\n\n//         <div>\n//           <label className=\"text-gray-700\">Payment Method</label>\n//           <Select value={method} onChange={setMethod} className=\"w-full\">\n//             <Option value=\"cash\">Cash</Option>\n//             <Option value=\"check\">Check</Option>\n//             <Option value=\"eft\">Bank/Electronic Funds</Option>\n//             <Option value=\"credit\">Credit Card</Option> \n//           </Select>\n//         </div>\n//         <div>\n//           <label className=\"text-gray-700\">Deposit Account</label>\n//           <Select\n//             value={account}\n//             onChange={setAccount}\n//             showSearch\n//             filterOption={(input, option) =>\n//               (option?.children ?? '').toLowerCase().includes(input.toLowerCase())\n//             }\n//             className=\"w-full\"\n//           >\n//             {accounts.map(parent =>\n//               parent.children.length > 0 ? (\n//                 <OptGroup key={parent.id} label={`${parent.code} - ${parent.name}`}>\n//                   {parent.children.map(child => (\n//                     <Option key={child.id} value={child.id}>\n//                       {child.code} - {child.name}\n//                     </Option>\n//                   ))}\n//                 </OptGroup>\n//               ) : (\n//                 <Option key={parent.id} value={parent.id}>\n//                   {parent.code} - {parent.name}\n//                 </Option>\n//               )\n//             )}\n//           </Select>\n//         </div>\n//         <div>\n//           <label className=\"text-gray-700\">Memo</label>\n//           <Input.TextArea value={memo} onChange={(e) => setMemo(e.target.value)} />\n//         </div>\n\n//         <Button \n//           type=\"primary\"\n//           className=\"mt-6\"\n//           disabled={!date || !enteredAmount || !method || !account}\n//           onClick={handleSubmit}\n//           loading={loading}\n//         >\n//           Submit Payment\n//         </Button>\n//       </div>\n//     </Modal>\n//   );\n// };\n\n// export default RecordPaymentModal;\n\nimport { useState, useEffect } from 'react';\nimport { Modal, DatePicker, Input, Select, Button, message } from 'antd';\nimport { formatCurrency } from '../../Utility/formatters';\n\n// Properly destructure all needed components from Select\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Option,\n  OptGroup\n} = Select;\nconst RecordPaymentModal = ({\n  invoiceId,\n  amount,\n  onClose,\n  onSubmit\n}) => {\n  _s();\n  console.log('RecordPaymentModal props:', {\n    invoiceId,\n    amount,\n    onClose,\n    onSubmit\n  });\n  const [date, setDate] = useState(null);\n  const [enteredAmount, setEnteredAmount] = useState('');\n  const [method, setMethod] = useState('');\n  const [account, setAccount] = useState('');\n  const [memo, setMemo] = useState('');\n  const [accounts, setAccounts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [showConfirmation, setShowConfirmation] = useState(false);\n  useEffect(() => {\n    setEnteredAmount(amount.toString());\n  }, [amount]);\n\n  // Fetch accounts as before\n  useEffect(() => {\n    const fetchAccounts = async () => {\n      try {\n        const response = await fetch('http://localhost:8080/api/accounts');\n        const data = await response.json();\n\n        // Only asset accounts\n        const assetAccounts = data.filter(acct => acct.type === 'assets');\n\n        // Build parent-child map\n        const accountMap = {};\n        assetAccounts.forEach(acct => accountMap[acct.id] = {\n          ...acct,\n          children: []\n        });\n        assetAccounts.forEach(acct => {\n          if (acct.parentId && accountMap[acct.parentId]) {\n            accountMap[acct.parentId].children.push(accountMap[acct.id]);\n          }\n        });\n\n        // Top-level accounts\n        const tree = assetAccounts.filter(acct => !acct.parentId || !accountMap[acct.parentId]);\n        setAccounts(tree);\n      } catch (err) {\n        console.error('Failed to fetch accounts:', err);\n      }\n    };\n    fetchAccounts();\n  }, []);\n  const handleSubmit = async () => {\n    if (!date || !enteredAmount || !method || !account) return;\n\n    // Show confirmation modal instead of directly submitting\n    setShowConfirmation(true);\n  };\n  const confirmPayment = async () => {\n    setLoading(true);\n    setShowConfirmation(false);\n    try {\n      // Create payment data object\n      const paymentData = {\n        id: Date.now(),\n        // Generate a unique ID\n        invoiceId,\n        date: date.format('YYYY-MM-DD'),\n        amount: parseFloat(enteredAmount),\n        paymentMethod: method,\n        accountId: account,\n        memo,\n        status: 'completed',\n        createdAt: new Date().toISOString()\n      };\n\n      // Save to localStorage (temporary solution)\n      const existingPayments = JSON.parse(localStorage.getItem('payments') || '[]');\n      const updatedPayments = [...existingPayments, paymentData];\n      localStorage.setItem('payments', JSON.stringify(updatedPayments));\n\n      // Also update the order status in localStorage\n      const existingOrders = JSON.parse(localStorage.getItem('orders') || '[]');\n      const orderIndex = existingOrders.findIndex(order => order.orderId === invoiceId || order.id === invoiceId);\n      if (orderIndex !== -1) {\n        existingOrders[orderIndex].paid = true;\n        existingOrders[orderIndex].paymentDate = paymentData.date;\n        localStorage.setItem('orders', JSON.stringify(existingOrders));\n      }\n      message.success('Payment recorded successfully!');\n\n      // Call the onSubmit callback with the payment data\n      onSubmit(date, parseFloat(enteredAmount), method, account, memo, paymentData);\n      onClose();\n    } catch (error) {\n      console.error('Error recording payment:', error);\n      message.error('Failed to record payment. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const cancelPayment = () => {\n    setShowConfirmation(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      title: `Record Payment for Invoice ${invoiceId}`,\n      open: true,\n      onCancel: onClose,\n      footer: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: onClose,\n        children: \"Close\"\n      }, \"cancel\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 11\n      }, this)],\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-gray-700\",\n            children: \"Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n            className: \"w-full\",\n            value: date,\n            onChange: val => setDate(val)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-gray-700\",\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            value: enteredAmount,\n            onChange: e => setEnteredAmount(e.target.value),\n            prefix: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500\",\n              children: \"Rs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: [\"Invoice amount: \", formatCurrency(amount), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 56\n            }, this), \"Remaining amount: \", formatCurrency(amount - (parseFloat(enteredAmount) || 0))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-gray-700\",\n            children: \"Payment Method\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: method,\n            onChange: setMethod,\n            className: \"w-full\",\n            children: [/*#__PURE__*/_jsxDEV(Option, {\n              value: \"cash\",\n              children: \"Cash\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Option, {\n              value: \"check\",\n              children: \"Check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Option, {\n              value: \"eft\",\n              children: \"Bank/Electronic Funds\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Option, {\n              value: \"credit\",\n              children: \"Credit Card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-gray-700\",\n            children: \"Deposit Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            value: account,\n            onChange: setAccount,\n            showSearch: true,\n            filterOption: (input, option) => {\n              var _option$children;\n              return ((_option$children = option === null || option === void 0 ? void 0 : option.children) !== null && _option$children !== void 0 ? _option$children : '').toLowerCase().includes(input.toLowerCase());\n            },\n            className: \"w-full\",\n            children: accounts.map(parent => parent.children.length > 0 ? /*#__PURE__*/_jsxDEV(OptGroup, {\n              label: `${parent.code} - ${parent.name}`,\n              children: parent.children.map(child => /*#__PURE__*/_jsxDEV(Option, {\n                value: child.id,\n                children: [child.code, \" - \", child.name]\n              }, child.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 23\n              }, this))\n            }, parent.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Option, {\n              value: parent.id,\n              children: [parent.code, \" - \", parent.name]\n            }, parent.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-gray-700\",\n            children: \"Memo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input.TextArea, {\n            value: memo,\n            onChange: e => setMemo(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          className: \"mt-6\",\n          disabled: !date || !enteredAmount || !method || !account,\n          onClick: handleSubmit,\n          loading: loading,\n          children: \"Submit Payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Confirm Payment\",\n      open: showConfirmation,\n      onOk: confirmPayment,\n      onCancel: cancelPayment,\n      okText: \"Confirm\",\n      cancelText: \"Cancel\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Are you sure you want to record this payment?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-3 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Invoice:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 16\n            }, this), \" #\", invoiceId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Amount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 16\n            }, this), \" \", formatCurrency(parseFloat(enteredAmount))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Method:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 16\n            }, this), \" \", method]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 16\n            }, this), \" \", date ? date.format('YYYY-MM-DD') : 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"This action cannot be undone.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(RecordPaymentModal, \"eCGo7Xm7uRMsPQUjLYocvkjl0jE=\");\n_c = RecordPaymentModal;\nexport default RecordPaymentModal;\nvar _c;\n$RefreshReg$(_c, \"RecordPaymentModal\");","map":{"version":3,"names":["useState","useEffect","Modal","DatePicker","Input","Select","Button","message","formatCurrency","jsxDEV","_jsxDEV","Fragment","_Fragment","Option","OptGroup","RecordPaymentModal","invoiceId","amount","onClose","onSubmit","_s","console","log","date","setDate","enteredAmount","setEnteredAmount","method","setMethod","account","setAccount","memo","setMemo","accounts","setAccounts","loading","setLoading","showConfirmation","setShowConfirmation","toString","fetchAccounts","response","fetch","data","json","assetAccounts","filter","acct","type","accountMap","forEach","id","children","parentId","push","tree","err","error","handleSubmit","confirmPayment","paymentData","Date","now","format","parseFloat","paymentMethod","accountId","status","createdAt","toISOString","existingPayments","JSON","parse","localStorage","getItem","updatedPayments","setItem","stringify","existingOrders","orderIndex","findIndex","order","orderId","paid","paymentDate","success","cancelPayment","title","open","onCancel","footer","onClick","fileName","_jsxFileName","lineNumber","columnNumber","className","value","onChange","val","e","target","prefix","showSearch","filterOption","input","option","_option$children","toLowerCase","includes","map","parent","length","label","code","name","child","TextArea","disabled","onOk","okText","cancelText","_c","$RefreshReg$"],"sources":["C:/Users/Logic-Unit/my-account/src/components/AccountsReceivable/RecordPaymentModal.jsx"],"sourcesContent":["// import { useState, useEffect } from 'react';\r\n// import { Modal, DatePicker, Input, Select, Button, Spin } from 'antd';\r\n// import { formatCurrency } from '../../Utility/formatters';\r\n\r\n// // Properly destructure all needed components from Select\r\n// const { Option, OptGroup } = Select;\r\n\r\n// const RecordPaymentModal = ({ invoiceId, amount, onClose, onSubmit }) => {\r\n//    console.log('RecordPaymentModal props:', { invoiceId, amount, onClose, onSubmit });\r\n//   const [date, setDate] = useState(null);  \r\n//   const [enteredAmount, setEnteredAmount] = useState('');\r\n//   const [method, setMethod] = useState('');\r\n//   const [account, setAccount] = useState('');\r\n//   const [memo, setMemo] = useState('');\r\n//   const [accounts, setAccounts] = useState([]);\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   useEffect(()=>{\r\n//    setEnteredAmount(amount.toString());\r\n//   },[amount])\r\n//   // Use the amount prop directly instead of fetching from API\r\n//   useEffect(() => {\r\n//     if (amount) {\r\n//       setEnteredAmount(amount.toString());\r\n//     }\r\n//   }, [amount]);\r\n\r\n//   // Fetch accounts as before\r\n//   useEffect(() => {\r\n//     const fetchAccounts = async () => {\r\n//       try {\r\n//         const response = await fetch('http://localhost:8080/api/accounts');\r\n//         const data = await response.json();\r\n\r\n//         // Only asset accounts\r\n//         const assetAccounts = data.filter(acct => acct.type === 'assets');\r\n\r\n//         // Build parent-child map\r\n//         const accountMap = {};\r\n//         assetAccounts.forEach(acct => accountMap[acct.id] = { ...acct, children: [] });\r\n\r\n//         assetAccounts.forEach(acct => {\r\n//           if (acct.parentId && accountMap[acct.parentId]) {\r\n//             accountMap[acct.parentId].children.push(accountMap[acct.id]);\r\n//           }\r\n//         });\r\n\r\n//         // Top-level accounts\r\n//         const tree = assetAccounts.filter(acct => !acct.parentId || !accountMap[acct.parentId]);\r\n//         setAccounts(tree);\r\n//       } catch (err) {\r\n//         console.error('Failed to fetch accounts:', err);\r\n//       }\r\n//     };\r\n\r\n//     fetchAccounts();\r\n//   }, []);\r\n\r\n//   const handleSubmit = () => {\r\n//     if (!date || !enteredAmount || !method || !account) return;\r\n//     onSubmit(date, parseFloat(enteredAmount), method, account, memo);\r\n//     onClose();\r\n//   };\r\n\r\n//   return (\r\n//     <Modal\r\n//       title={`Record Payment for Invoice ${invoiceId}`}\r\n//       open={true}\r\n//       onCancel={onClose}\r\n//       footer={[\r\n//         <Button key=\"cancel\" onClick={onClose}>\r\n//           Close\r\n//         </Button>\r\n//       ]}\r\n//     >\r\n//       <div className=\"space-y-4\">\r\n//         <div>\r\n//           <label className=\"text-gray-700\">Date</label>\r\n//           <DatePicker \r\n//             className=\"w-full\"\r\n//             value={date}\r\n//             onChange={(val) => setDate(val)}\r\n//           />\r\n//         </div>\r\n//         <div>\r\n//           <label className=\"text-gray-700\">Amount</label>\r\n//           <Input\r\n//             value={enteredAmount} \r\n//             onChange={(e) => setEnteredAmount(e.target.value)}\r\n//             prefix={<span className=\"text-gray-500\">Rs</span>}\r\n//           />\r\n//           <div className=\"text-sm text-gray-500\">\r\n          \r\n//             Remaining amount: {formatCurrency(amount - (parseFloat(enteredAmount) || 0))}\r\n//           </div>\r\n//         </div>\r\n\r\n//         <div>\r\n//           <label className=\"text-gray-700\">Payment Method</label>\r\n//           <Select value={method} onChange={setMethod} className=\"w-full\">\r\n//             <Option value=\"cash\">Cash</Option>\r\n//             <Option value=\"check\">Check</Option>\r\n//             <Option value=\"eft\">Bank/Electronic Funds</Option>\r\n//             <Option value=\"credit\">Credit Card</Option> \r\n//           </Select>\r\n//         </div>\r\n//         <div>\r\n//           <label className=\"text-gray-700\">Deposit Account</label>\r\n//           <Select\r\n//             value={account}\r\n//             onChange={setAccount}\r\n//             showSearch\r\n//             filterOption={(input, option) =>\r\n//               (option?.children ?? '').toLowerCase().includes(input.toLowerCase())\r\n//             }\r\n//             className=\"w-full\"\r\n//           >\r\n//             {accounts.map(parent =>\r\n//               parent.children.length > 0 ? (\r\n//                 <OptGroup key={parent.id} label={`${parent.code} - ${parent.name}`}>\r\n//                   {parent.children.map(child => (\r\n//                     <Option key={child.id} value={child.id}>\r\n//                       {child.code} - {child.name}\r\n//                     </Option>\r\n//                   ))}\r\n//                 </OptGroup>\r\n//               ) : (\r\n//                 <Option key={parent.id} value={parent.id}>\r\n//                   {parent.code} - {parent.name}\r\n//                 </Option>\r\n//               )\r\n//             )}\r\n//           </Select>\r\n//         </div>\r\n//         <div>\r\n//           <label className=\"text-gray-700\">Memo</label>\r\n//           <Input.TextArea value={memo} onChange={(e) => setMemo(e.target.value)} />\r\n//         </div>\r\n        \r\n//         <Button \r\n//           type=\"primary\"\r\n//           className=\"mt-6\"\r\n//           disabled={!date || !enteredAmount || !method || !account}\r\n//           onClick={handleSubmit}\r\n//         >\r\n//           Submit Payment\r\n//         </Button>\r\n//       </div>\r\n//     </Modal>\r\n//   );\r\n// };\r\n\r\n// export default RecordPaymentModal;\r\n\r\n\r\n// import { useState, useEffect } from 'react';\r\n// import { Modal, DatePicker, Input, Select, Button, message } from 'antd';\r\n// import { formatCurrency } from '../../Utility/formatters';\r\n\r\n// // Properly destructure all needed components from Select\r\n// const { Option, OptGroup } = Select;\r\n\r\n// const RecordPaymentModal = ({ invoiceId, amount, onClose, onSubmit }) => {\r\n//   console.log('RecordPaymentModal props:', { invoiceId, amount, onClose, onSubmit });\r\n//   const [date, setDate] = useState(null);  \r\n//   const [enteredAmount, setEnteredAmount] = useState('');\r\n//   const [method, setMethod] = useState('');\r\n//   const [account, setAccount] = useState('');\r\n//   const [memo, setMemo] = useState('');\r\n//   const [accounts, setAccounts] = useState([]);\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   useEffect(() => {\r\n//     setEnteredAmount(amount.toString());\r\n//   }, [amount]);\r\n\r\n//   // Fetch accounts as before\r\n//   useEffect(() => {\r\n//     const fetchAccounts = async () => {\r\n//       try {\r\n//         const response = await fetch('http://localhost:8080/api/accounts');\r\n//         const data = await response.json();\r\n\r\n//         // Only asset accounts\r\n//         const assetAccounts = data.filter(acct => acct.type === 'assets');\r\n\r\n//         // Build parent-child map\r\n//         const accountMap = {};\r\n//         assetAccounts.forEach(acct => accountMap[acct.id] = { ...acct, children: [] });\r\n\r\n//         assetAccounts.forEach(acct => {\r\n//           if (acct.parentId && accountMap[acct.parentId]) {\r\n//             accountMap[acct.parentId].children.push(accountMap[acct.id]);\r\n//           }\r\n//         });\r\n\r\n//         // Top-level accounts\r\n//         const tree = assetAccounts.filter(acct => !acct.parentId || !accountMap[acct.parentId]);\r\n//         setAccounts(tree);\r\n//       } catch (err) {\r\n//         console.error('Failed to fetch accounts:', err);\r\n//       }\r\n//     };\r\n\r\n//     fetchAccounts();\r\n//   }, []);\r\n\r\n//   const handleSubmit = async () => {\r\n//     if (!date || !enteredAmount || !method || !account) return;\r\n    \r\n//     setLoading(true);\r\n//     try {\r\n//       // Create payment data object\r\n//       const paymentData = {\r\n//         id: Date.now(), // Generate a unique ID\r\n//         invoiceId,\r\n//         date: date.format('YYYY-MM-DD'),\r\n//         amount: parseFloat(enteredAmount),\r\n//         paymentMethod: method,\r\n//         accountId: account,\r\n//         memo,\r\n//         status: 'completed',\r\n//         createdAt: new Date().toISOString()\r\n//       };\r\n\r\n//       // Save to localStorage (temporary solution)\r\n//       const existingPayments = JSON.parse(localStorage.getItem('payments') || '[]');\r\n//       const updatedPayments = [...existingPayments, paymentData];\r\n//       localStorage.setItem('payments', JSON.stringify(updatedPayments));\r\n\r\n//       // Also update the order status in localStorage\r\n//       const existingOrders = JSON.parse(localStorage.getItem('orders') || '[]');\r\n//       const orderIndex = existingOrders.findIndex(order => \r\n//         order.orderId === invoiceId || order.id === invoiceId\r\n//       );\r\n      \r\n//       if (orderIndex !== -1) {\r\n//         existingOrders[orderIndex].paid = true;\r\n//         existingOrders[orderIndex].paymentDate = paymentData.date;\r\n//         localStorage.setItem('orders', JSON.stringify(existingOrders));\r\n//       }\r\n\r\n//       message.success('Payment recorded successfully!');\r\n      \r\n//       // Call the onSubmit callback with the payment data\r\n//       onSubmit(date, parseFloat(enteredAmount), method, account, memo, paymentData);\r\n      \r\n//       onClose();\r\n//     } catch (error) {\r\n//       console.error('Error recording payment:', error);\r\n//       message.error('Failed to record payment. Please try again.');\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <Modal\r\n//       title={`Record Payment for Invoice ${invoiceId}`}\r\n//       open={true}\r\n//       onCancel={onClose}\r\n//       footer={[\r\n//         <Button key=\"cancel\" onClick={onClose}>\r\n//           Close\r\n//         </Button>\r\n//       ]}\r\n//     >\r\n//       <div className=\"space-y-4\">\r\n//         <div>\r\n//           <label className=\"text-gray-700\">Date</label>\r\n//           <DatePicker \r\n//             className=\"w-full\"\r\n//             value={date}\r\n//             onChange={(val) => setDate(val)}\r\n//           />\r\n//         </div>\r\n//         <div>\r\n//           <label className=\"text-gray-700\">Amount</label>\r\n//           <Input\r\n//             value={enteredAmount} \r\n//             onChange={(e) => setEnteredAmount(e.target.value)}\r\n//             prefix={<span className=\"text-gray-500\">Rs</span>}\r\n//           />\r\n//           <div className=\"text-sm text-gray-500\">\r\n//             Invoice amount: {formatCurrency(amount)} <br />\r\n//             Remaining amount: {formatCurrency(amount - (parseFloat(enteredAmount) || 0))}\r\n//           </div>\r\n//         </div>\r\n\r\n//         <div>\r\n//           <label className=\"text-gray-700\">Payment Method</label>\r\n//           <Select value={method} onChange={setMethod} className=\"w-full\">\r\n//             <Option value=\"cash\">Cash</Option>\r\n//             <Option value=\"check\">Check</Option>\r\n//             <Option value=\"eft\">Bank/Electronic Funds</Option>\r\n//             <Option value=\"credit\">Credit Card</Option> \r\n//           </Select>\r\n//         </div>\r\n//         <div>\r\n//           <label className=\"text-gray-700\">Deposit Account</label>\r\n//           <Select\r\n//             value={account}\r\n//             onChange={setAccount}\r\n//             showSearch\r\n//             filterOption={(input, option) =>\r\n//               (option?.children ?? '').toLowerCase().includes(input.toLowerCase())\r\n//             }\r\n//             className=\"w-full\"\r\n//           >\r\n//             {accounts.map(parent =>\r\n//               parent.children.length > 0 ? (\r\n//                 <OptGroup key={parent.id} label={`${parent.code} - ${parent.name}`}>\r\n//                   {parent.children.map(child => (\r\n//                     <Option key={child.id} value={child.id}>\r\n//                       {child.code} - {child.name}\r\n//                     </Option>\r\n//                   ))}\r\n//                 </OptGroup>\r\n//               ) : (\r\n//                 <Option key={parent.id} value={parent.id}>\r\n//                   {parent.code} - {parent.name}\r\n//                 </Option>\r\n//               )\r\n//             )}\r\n//           </Select>\r\n//         </div>\r\n//         <div>\r\n//           <label className=\"text-gray-700\">Memo</label>\r\n//           <Input.TextArea value={memo} onChange={(e) => setMemo(e.target.value)} />\r\n//         </div>\r\n        \r\n//         <Button \r\n//           type=\"primary\"\r\n//           className=\"mt-6\"\r\n//           disabled={!date || !enteredAmount || !method || !account}\r\n//           onClick={handleSubmit}\r\n//           loading={loading}\r\n//         >\r\n//           Submit Payment\r\n//         </Button>\r\n//       </div>\r\n//     </Modal>\r\n//   );\r\n// };\r\n\r\n// export default RecordPaymentModal;\r\n\r\n\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Modal, DatePicker, Input, Select, Button, message } from 'antd';\r\nimport { formatCurrency } from '../../Utility/formatters';\r\n\r\n// Properly destructure all needed components from Select\r\nconst { Option, OptGroup } = Select;\r\n\r\nconst RecordPaymentModal = ({ invoiceId, amount, onClose, onSubmit }) => {\r\n  console.log('RecordPaymentModal props:', { invoiceId, amount, onClose, onSubmit });\r\n  const [date, setDate] = useState(null);  \r\n  const [enteredAmount, setEnteredAmount] = useState('');\r\n  const [method, setMethod] = useState('');\r\n  const [account, setAccount] = useState('');\r\n  const [memo, setMemo] = useState('');\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showConfirmation, setShowConfirmation] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setEnteredAmount(amount.toString());\r\n  }, [amount]);\r\n\r\n  // Fetch accounts as before\r\n  useEffect(() => {\r\n    const fetchAccounts = async () => {\r\n      try {\r\n        const response = await fetch('http://localhost:8080/api/accounts');\r\n        const data = await response.json();\r\n\r\n        // Only asset accounts\r\n        const assetAccounts = data.filter(acct => acct.type === 'assets');\r\n\r\n        // Build parent-child map\r\n        const accountMap = {};\r\n        assetAccounts.forEach(acct => accountMap[acct.id] = { ...acct, children: [] });\r\n\r\n        assetAccounts.forEach(acct => {\r\n          if (acct.parentId && accountMap[acct.parentId]) {\r\n            accountMap[acct.parentId].children.push(accountMap[acct.id]);\r\n          }\r\n        });\r\n\r\n        // Top-level accounts\r\n        const tree = assetAccounts.filter(acct => !acct.parentId || !accountMap[acct.parentId]);\r\n        setAccounts(tree);\r\n      } catch (err) {\r\n        console.error('Failed to fetch accounts:', err);\r\n      }\r\n    };\r\n\r\n    fetchAccounts();\r\n  }, []);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!date || !enteredAmount || !method || !account) return;\r\n    \r\n    // Show confirmation modal instead of directly submitting\r\n    setShowConfirmation(true);\r\n  };\r\n\r\n  const confirmPayment = async () => {\r\n    setLoading(true);\r\n    setShowConfirmation(false);\r\n    \r\n    try {\r\n      // Create payment data object\r\n      const paymentData = {\r\n        id: Date.now(), // Generate a unique ID\r\n        invoiceId,\r\n        date: date.format('YYYY-MM-DD'),\r\n        amount: parseFloat(enteredAmount),\r\n        paymentMethod: method,\r\n        accountId: account,\r\n        memo,\r\n        status: 'completed',\r\n        createdAt: new Date().toISOString()\r\n      };\r\n\r\n      // Save to localStorage (temporary solution)\r\n      const existingPayments = JSON.parse(localStorage.getItem('payments') || '[]');\r\n      const updatedPayments = [...existingPayments, paymentData];\r\n      localStorage.setItem('payments', JSON.stringify(updatedPayments));\r\n\r\n      // Also update the order status in localStorage\r\n      const existingOrders = JSON.parse(localStorage.getItem('orders') || '[]');\r\n      const orderIndex = existingOrders.findIndex(order => \r\n        order.orderId === invoiceId || order.id === invoiceId\r\n      );\r\n      \r\n      if (orderIndex !== -1) {\r\n        existingOrders[orderIndex].paid = true;\r\n        existingOrders[orderIndex].paymentDate = paymentData.date;\r\n        localStorage.setItem('orders', JSON.stringify(existingOrders));\r\n      }\r\n\r\n      message.success('Payment recorded successfully!');\r\n      \r\n      // Call the onSubmit callback with the payment data\r\n      onSubmit(date, parseFloat(enteredAmount), method, account, memo, paymentData);\r\n      \r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Error recording payment:', error);\r\n      message.error('Failed to record payment. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const cancelPayment = () => {\r\n    setShowConfirmation(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        title={`Record Payment for Invoice ${invoiceId}`}\r\n        open={true}\r\n        onCancel={onClose}\r\n        footer={[\r\n          <Button key=\"cancel\" onClick={onClose}>\r\n            Close\r\n          </Button>\r\n        ]}\r\n      >\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"text-gray-700\">Date</label>\r\n            <DatePicker \r\n              className=\"w-full\"\r\n              value={date}\r\n              onChange={(val) => setDate(val)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-gray-700\">Amount</label>\r\n            <Input\r\n              value={enteredAmount} \r\n              onChange={(e) => setEnteredAmount(e.target.value)}\r\n              prefix={<span className=\"text-gray-500\">Rs</span>}\r\n            />\r\n            <div className=\"text-sm text-gray-500\">\r\n              Invoice amount: {formatCurrency(amount)} <br />\r\n              Remaining amount: {formatCurrency(amount - (parseFloat(enteredAmount) || 0))}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"text-gray-700\">Payment Method</label>\r\n            <Select value={method} onChange={setMethod} className=\"w-full\">\r\n              <Option value=\"cash\">Cash</Option>\r\n              <Option value=\"check\">Check</Option>\r\n              <Option value=\"eft\">Bank/Electronic Funds</Option>\r\n              <Option value=\"credit\">Credit Card</Option> \r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <label className=\"text-gray-700\">Deposit Account</label>\r\n            <Select\r\n              value={account}\r\n              onChange={setAccount}\r\n              showSearch\r\n              filterOption={(input, option) =>\r\n                (option?.children ?? '').toLowerCase().includes(input.toLowerCase())\r\n              }\r\n              className=\"w-full\"\r\n            >\r\n              {accounts.map(parent =>\r\n                parent.children.length > 0 ? (\r\n                  <OptGroup key={parent.id} label={`${parent.code} - ${parent.name}`}>\r\n                    {parent.children.map(child => (\r\n                      <Option key={child.id} value={child.id}>\r\n                        {child.code} - {child.name}\r\n                      </Option>\r\n                    ))}\r\n                  </OptGroup>\r\n                ) : (\r\n                  <Option key={parent.id} value={parent.id}>\r\n                    {parent.code} - {parent.name}\r\n                  </Option>\r\n                )\r\n              )}\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <label className=\"text-gray-700\">Memo</label>\r\n            <Input.TextArea value={memo} onChange={(e) => setMemo(e.target.value)} />\r\n          </div>\r\n          \r\n          <Button \r\n            type=\"primary\"\r\n            className=\"mt-6\"\r\n            disabled={!date || !enteredAmount || !method || !account}\r\n            onClick={handleSubmit}\r\n            loading={loading}\r\n          >\r\n            Submit Payment\r\n          </Button>\r\n        </div>\r\n      </Modal>\r\n\r\n      {/* Confirmation Modal */}\r\n      <Modal\r\n        title=\"Confirm Payment\"\r\n        open={showConfirmation}\r\n        onOk={confirmPayment}\r\n        onCancel={cancelPayment}\r\n        okText=\"Confirm\"\r\n        cancelText=\"Cancel\"\r\n      >\r\n        <div className=\"space-y-4\">\r\n          <p>Are you sure you want to record this payment?</p>\r\n          <div className=\"bg-gray-50 p-3 rounded\">\r\n            <p><strong>Invoice:</strong> #{invoiceId}</p>\r\n            <p><strong>Amount:</strong> {formatCurrency(parseFloat(enteredAmount))}</p>\r\n            <p><strong>Method:</strong> {method}</p>\r\n            <p><strong>Date:</strong> {date ? date.format('YYYY-MM-DD') : 'N/A'}</p>\r\n          </div>\r\n          <p className=\"text-sm text-gray-500\">This action cannot be undone.</p>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RecordPaymentModal;"],"mappings":";;AAAA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}