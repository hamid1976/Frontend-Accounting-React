{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Logic-Unit\\\\my-account\\\\src\\\\pages\\\\GeneralLedger.jsx\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from 'react';\n// import { \n//   Book, \n//   Plus, \n//   Filter, \n//   Search, \n//   Calendar, \n//   FileText, \n//   Edit, \n//   Trash2, \n//   Save, \n//   X, \n//   AlertCircle,\n//   CheckCircle,\n//   DollarSign,\n//   TrendingUp,\n//   Eye,\n//   Download\n// } from 'lucide-react';\n\n// const GeneralLedger = () => {\n//   const [journalEntries, setJournalEntries] = useState([]);\n//   const [accounts, setAccounts] = useState([]);\n//   const [filteredEntries, setFilteredEntries] = useState([]);\n//   const [selectedEntry, setSelectedEntry] = useState(null);\n//   const [isAddingEntry, setIsAddingEntry] = useState(false);\n//   const [filters, setFilters] = useState({\n//     dateFrom: '',\n//     dateTo: '',\n//     accountId: '',\n//     transactionType: 'all',\n//     searchTerm: ''\n//   });\n//   const [trialBalance, setTrialBalance] = useState([]);\n//   const [showTrialBalance, setShowTrialBalance] = useState(false);\n//   const [newEntry, setNewEntry] = useState({\n//     date: new Date().toISOString().split('T')[0],\n//     description: '',\n//     reference: '',\n//     entries: [\n//       { accountId: '', debit: 0, credit: 0, description: '' },\n//       { accountId: '', debit: 0, credit: 0, description: '' }\n//     ]\n//   });\n\n//   // Sample Chart of Accounts\n//   const chartOfAccounts = [\n//     { id: '1111', code: '1111', name: 'Petty Cash', type: 'assets' },\n//     { id: '1112', code: '1112', name: 'Bank - Main Account', type: 'assets' },\n//     { id: '1120', code: '1120', name: 'Accounts Receivable', type: 'assets' },\n//     { id: '1130', code: '1130', name: 'Inventory', type: 'assets' },\n//     { id: '2110', code: '2110', name: 'Accounts Payable', type: 'liabilities' },\n//     { id: '2130', code: '2130', name: 'Sales Tax Payable', type: 'liabilities' },\n//     { id: '4100', code: '4100', name: 'Sales Revenue - Medical', type: 'revenue' },\n//     { id: '5100', code: '5100', name: 'Cost of Goods Sold', type: 'expenses' },\n//     { id: '5200', code: '5200', name: 'Purchase Expenses', type: 'expenses' },\n//     { id: '5210', code: '5210', name: 'Office Supplies', type: 'expenses' }\n//   ];\n\n//   useEffect(() => {\n//     setAccounts(chartOfAccounts);\n//     loadSampleJournalEntries();\n//   }, []);\n\n//   useEffect(() => {\n//     filterEntries();\n//   }, [journalEntries, filters]);\n\n//   const loadSampleJournalEntries = () => {\n//     const sampleEntries = [\n//       {\n//         id: 'JE001',\n//         date: '2025-01-15',\n//         description: 'POS Sale #POS001 - Medical products',\n//         reference: 'POS001',\n//         transactionType: 'automatic',\n//         source: 'POS',\n//         status: 'posted',\n//         entries: [\n//           { accountId: '1111', accountName: 'Petty Cash', debit: 60.50, credit: 0, description: 'Cash received from customer' },\n//           { accountId: '4100', accountName: 'Sales Revenue - Medical', debit: 0, credit: 55.00, description: 'Revenue from medical products' },\n//           { accountId: '2130', accountName: 'Sales Tax Payable', debit: 0, credit: 5.50, description: 'Sales tax collected' },\n//           { accountId: '5100', accountName: 'Cost of Goods Sold', debit: 33.00, credit: 0, description: 'Cost of products sold' },\n//           { accountId: '1130', accountName: 'Inventory', debit: 0, credit: 33.00, description: 'Inventory reduction' }\n//         ],\n//         totalDebit: 93.50,\n//         totalCredit: 93.50,\n//         createdAt: '2025-01-15T10:30:00Z'\n//       },\n//       {\n//         id: 'JE002',\n//         date: '2025-01-14',\n//         description: 'Purchase Order #PO002 - Medical inventory',\n//         reference: 'PO002',\n//         transactionType: 'automatic',\n//         source: 'Purchase',\n//         status: 'posted',\n//         entries: [\n//           { accountId: '1130', accountName: 'Inventory', debit: 350.00, credit: 0, description: 'Medical products purchased' },\n//           { accountId: '2110', accountName: 'Accounts Payable', debit: 0, credit: 350.00, description: 'Amount owed to Medical Supply Co.' }\n//         ],\n//         totalDebit: 350.00,\n//         totalCredit: 350.00,\n//         createdAt: '2025-01-14T14:20:00Z'\n//       },\n//       {\n//         id: 'JE003',\n//         date: '2025-01-13',\n//         description: 'Manual adjustment - Inventory count variance',\n//         reference: 'ADJ001',\n//         transactionType: 'manual',\n//         source: 'Manual',\n//         status: 'posted',\n//         entries: [\n//           { accountId: '1130', accountName: 'Inventory', debit: 25.00, credit: 0, description: 'Inventory adjustment - undercount' },\n//           { accountId: '5200', accountName: 'Purchase Expenses', debit: 0, credit: 25.00, description: 'Adjustment to purchase variance' }\n//         ],\n//         totalDebit: 25.00,\n//         totalCredit: 25.00,\n//         createdAt: '2025-01-13T16:45:00Z'\n//       },\n//       {\n//         id: 'JE004',\n//         date: '2025-01-15',\n//         description: 'POS Sale #POS002 - Medical products',\n//         reference: 'POS002',\n//         transactionType: 'automatic',\n//         source: 'POS',\n//         status: 'posted',\n//         entries: [\n//           { accountId: '1112', accountName: 'Bank - Main Account', debit: 85.00, credit: 0, description: 'Card payment received' },\n//           { accountId: '4100', accountName: 'Sales Revenue - Medical', debit: 0, credit: 77.27, description: 'Revenue from medical products' },\n//           { accountId: '2130', accountName: 'Sales Tax Payable', debit: 0, credit: 7.73, description: 'Sales tax collected' },\n//           { accountId: '5100', accountName: 'Cost of Goods Sold', debit: 46.36, credit: 0, description: 'Cost of products sold' },\n//           { accountId: '1130', accountName: 'Inventory', debit: 0, credit: 46.36, description: 'Inventory reduction' }\n//         ],\n//         totalDebit: 131.36,\n//         totalCredit: 131.36,\n//         createdAt: '2025-01-15T15:20:00Z'\n//       }\n//     ];\n\n//     setJournalEntries(sampleEntries);\n//   };\n\n//   const filterEntries = () => {\n//     let filtered = [...journalEntries];\n\n//     if (filters.dateFrom) {\n//       filtered = filtered.filter(entry => entry.date >= filters.dateFrom);\n//     }\n//     if (filters.dateTo) {\n//       filtered = filtered.filter(entry => entry.date <= filters.dateTo);\n//     }\n//     if (filters.accountId) {\n//       filtered = filtered.filter(entry => \n//         entry.entries.some(e => e.accountId === filters.accountId)\n//       );\n//     }\n//     if (filters.transactionType !== 'all') {\n//       filtered = filtered.filter(entry => entry.transactionType === filters.transactionType);\n//     }\n//     if (filters.searchTerm) {\n//       const term = filters.searchTerm.toLowerCase();\n//       filtered = filtered.filter(entry => \n//         entry.description.toLowerCase().includes(term) ||\n//         entry.reference.toLowerCase().includes(term) ||\n//         entry.entries.some(e => e.description.toLowerCase().includes(term))\n//       );\n//     }\n\n//     setFilteredEntries(filtered);\n//   };\n\n//   const generateTrialBalance = () => {\n//     const balances = {};\n\n//     // Initialize all accounts\n//     chartOfAccounts.forEach(account => {\n//       balances[account.id] = {\n//         accountId: account.id,\n//         accountCode: account.code,\n//         accountName: account.name,\n//         accountType: account.type,\n//         debit: 0,\n//         credit: 0,\n//         balance: 0\n//       };\n//     });\n\n//     // Calculate balances from journal entries\n//     journalEntries.forEach(entry => {\n//       if (entry.status === 'posted') {\n//         entry.entries.forEach(entryLine => {\n//           if (balances[entryLine.accountId]) {\n//             balances[entryLine.accountId].debit += entryLine.debit;\n//             balances[entryLine.accountId].credit += entryLine.credit;\n//           }\n//         });\n//       }\n//     });\n\n//     // Calculate net balances\n//     Object.values(balances).forEach(account => {\n//       if (account.accountType === 'assets' || account.accountType === 'expenses') {\n//         account.balance = account.debit - account.credit;\n//       } else {\n//         account.balance = account.credit - account.debit;\n//       }\n//     });\n\n//     const trialBalanceData = Object.values(balances)\n//       .filter(account => account.debit !== 0 || account.credit !== 0)\n//       .sort((a, b) => a.accountCode.localeCompare(b.accountCode));\n\n//     setTrialBalance(trialBalanceData);\n//     setShowTrialBalance(true);\n//   };\n\n//   const addEntryLine = () => {\n//     setNewEntry({\n//       ...newEntry,\n//       entries: [...newEntry.entries, { accountId: '', debit: 0, credit: 0, description: '' }]\n//     });\n//   };\n\n//   const removeEntryLine = (index) => {\n//     if (newEntry.entries.length > 2) {\n//       const updatedEntries = newEntry.entries.filter((_, i) => i !== index);\n//       setNewEntry({ ...newEntry, entries: updatedEntries });\n//     }\n//   };\n\n//   const updateEntryLine = (index, field, value) => {\n//     const updatedEntries = [...newEntry.entries];\n//     updatedEntries[index] = { ...updatedEntries[index], [field]: value };\n//     setNewEntry({ ...newEntry, entries: updatedEntries });\n//   };\n\n//   const calculateTotals = (entries) => {\n//     const totalDebit = entries.reduce((sum, entry) => sum + (parseFloat(entry.debit) || 0), 0);\n//     const totalCredit = entries.reduce((sum, entry) => sum + (parseFloat(entry.credit) || 0), 0);\n//     return { totalDebit, totalCredit };\n//   };\n\n//   const isBalanced = (entries) => {\n//     const { totalDebit, totalCredit } = calculateTotals(entries);\n//     return Math.abs(totalDebit - totalCredit) < 0.01;\n//   };\n\n//   const saveJournalEntry = () => {\n//     if (!newEntry.description || !newEntry.entries.every(e => e.accountId)) {\n//       alert('Please fill in all required fields');\n//       return;\n//     }\n\n//     if (!isBalanced(newEntry.entries)) {\n//       alert('Journal entry must be balanced - total debits must equal total credits');\n//       return;\n//     }\n\n//     const { totalDebit, totalCredit } = calculateTotals(newEntry.entries);\n\n//     // Add account names to entries\n//     const entriesWithNames = newEntry.entries.map(entry => ({\n//       ...entry,\n//       accountName: accounts.find(acc => acc.id === entry.accountId)?.name || '',\n//       debit: parseFloat(entry.debit) || 0,\n//       credit: parseFloat(entry.credit) || 0\n//     }));\n\n//     const journalEntry = {\n//       id: `JE${String(journalEntries.length + 1).padStart(3, '0')}`,\n//       date: newEntry.date,\n//       description: newEntry.description,\n//       reference: newEntry.reference || `MAN${Date.now()}`,\n//       transactionType: 'manual',\n//       source: 'Manual',\n//       status: 'posted',\n//       entries: entriesWithNames,\n//       totalDebit,\n//       totalCredit,\n//       createdAt: new Date().toISOString()\n//     };\n\n//     setJournalEntries([...journalEntries, journalEntry]);\n\n//     // Reset form\n//     setNewEntry({\n//       date: new Date().toISOString().split('T')[0],\n//       description: '',\n//       reference: '',\n//       entries: [\n//         { accountId: '', debit: 0, credit: 0, description: '' },\n//         { accountId: '', debit: 0, credit: 0, description: '' }\n//       ]\n//     });\n//     setIsAddingEntry(false);\n//   };\n\n//   const getAccountName = (accountId) => {\n//     const account = accounts.find(acc => acc.id === accountId);\n//     return account ? `${account.code} - ${account.name}` : '';\n//   };\n\n//   const { totalDebit, totalCredit } = calculateTotals(newEntry.entries);\n//   const entryIsBalanced = isBalanced(newEntry.entries);\n\n//   return (\n//     <div className=\"max-w-7xl mx-auto p-6 bg-white\">\n//       {/* Header */}\n//       <div className=\"mb-8\">\n//         <h1 className=\"text-3xl font-bold text-gray-900 mb-2 flex items-center\">\n//           <Book className=\"mr-3 text-emerald-600\" />\n//           General Ledger\n//         </h1>\n//         <p className=\"text-gray-600\">Real-time transaction recording and journal entry management</p>\n//       </div>\n\n//       {/* Quick Stats */}\n//       <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n//         <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\n//           <div className=\"flex items-center justify-between\">\n//             <div>\n//               <p className=\"text-blue-600 text-sm font-medium\">Total Entries</p>\n//               <p className=\"text-2xl font-bold text-blue-900\">{journalEntries.length}</p>\n//             </div>\n//             <FileText className=\"text-blue-600\" size={24} />\n//           </div>\n//         </div>\n\n//         <div className=\"bg-green-50 p-4 rounded-lg border border-green-200\">\n//           <div className=\"flex items-center justify-between\">\n//             <div>\n//               <p className=\"text-green-600 text-sm font-medium\">Automatic Entries</p>\n//               <p className=\"text-2xl font-bold text-green-900\">\n//                 {journalEntries.filter(e => e.transactionType === 'automatic').length}\n//               </p>\n//             </div>\n//             <TrendingUp className=\"text-green-600\" size={24} />\n//           </div>\n//         </div>\n\n//         <div className=\"bg-orange-50 p-4 rounded-lg border border-orange-200\">\n//           <div className=\"flex items-center justify-between\">\n//             <div>\n//               <p className=\"text-orange-600 text-sm font-medium\">Manual Entries</p>\n//               <p className=\"text-2xl font-bold text-orange-900\">\n//                 {journalEntries.filter(e => e.transactionType === 'manual').length}\n//               </p>\n//             </div>\n//             <Edit className=\"text-orange-600\" size={24} />\n//           </div>\n//         </div>\n\n//         <div className=\"bg-purple-50 p-4 rounded-lg border border-purple-200\">\n//           <div className=\"flex items-center justify-between\">\n//             <div>\n//               <p className=\"text-purple-600 text-sm font-medium\">Total Value</p>\n//               <p className=\"text-2xl font-bold text-purple-900\">\n//                 ${journalEntries.reduce((sum, entry) => sum + entry.totalDebit, 0).toFixed(2)}\n//               </p>\n//             </div>\n//             <DollarSign className=\"text-purple-600\" size={24} />\n//           </div>\n//         </div>\n//       </div>\n\n//       {/* Controls */}\n//       <div className=\"flex flex-wrap items-center justify-between gap-4 mb-6\">\n//         <div className=\"flex flex-wrap items-center gap-4\">\n//           {/* Date Filters */}\n//           <div className=\"flex items-center space-x-2\">\n//             <Calendar size={16} className=\"text-gray-400\" />\n//             <input\n//               type=\"date\"\n//               value={filters.dateFrom}\n//               onChange={(e) => setFilters({ ...filters, dateFrom: e.target.value })}\n//               className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n//               placeholder=\"From\"\n//             />\n//             <span className=\"text-gray-500\">to</span>\n//             <input\n//               type=\"date\"\n//               value={filters.dateTo}\n//               onChange={(e) => setFilters({ ...filters, dateTo: e.target.value })}\n//               className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n//               placeholder=\"To\"\n//             />\n//           </div>\n\n//           {/* Account Filter */}\n//           <div className=\"relative\">\n//             <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\n//             <select\n//               value={filters.accountId}\n//               onChange={(e) => setFilters({ ...filters, accountId: e.target.value })}\n//               className=\"pl-10 pr-8 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n//             >\n//               <option value=\"\">All Accounts</option>\n//               {accounts.map(account => (\n//                 <option key={account.id} value={account.id}>\n//                   {account.code} - {account.name}\n//                 </option>\n//               ))}\n//             </select>\n//           </div>\n\n//           {/* Transaction Type Filter */}\n//           <select\n//             value={filters.transactionType}\n//             onChange={(e) => setFilters({ ...filters, transactionType: e.target.value })}\n//             className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n//           >\n//             <option value=\"all\">All Types</option>\n//             <option value=\"automatic\">Automatic</option>\n//             <option value=\"manual\">Manual</option>\n//           </select>\n\n//           {/* Search */}\n//           <div className=\"relative\">\n//             <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\n//             <input\n//               type=\"text\"\n//               placeholder=\"Search entries...\"\n//               value={filters.searchTerm}\n//               onChange={(e) => setFilters({ ...filters, searchTerm: e.target.value })}\n//               className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n//             />\n//           </div>\n//         </div>\n\n//         <div className=\"flex space-x-3\">\n//           <button\n//             onClick={() => setIsAddingEntry(true)}\n//             className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 flex items-center space-x-2\"\n//           >\n//             <Plus size={16} />\n//             <span>Add Entry</span>\n//           </button>\n//           <button\n//             onClick={generateTrialBalance}\n//             className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n//           >\n//             <FileText size={16} />\n//             <span>Trial Balance</span>\n//           </button>\n//         </div>\n//       </div>\n\n//       {/* Journal Entry Form */}\n//       {isAddingEntry && (\n//         <div className=\"mb-8 p-6 bg-gray-50 rounded-lg border\">\n//           <h3 className=\"text-lg font-semibold mb-4\">Add Manual Journal Entry</h3>\n\n//           <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date *</label>\n//               <input\n//                 type=\"date\"\n//                 value={newEntry.date}\n//                 onChange={(e) => setNewEntry({ ...newEntry, date: e.target.value })}\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n//               />\n//             </div>\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description *</label>\n//               <input\n//                 type=\"text\"\n//                 value={newEntry.description}\n//                 onChange={(e) => setNewEntry({ ...newEntry, description: e.target.value })}\n//                 placeholder=\"Enter description\"\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n//               />\n//             </div>\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">Reference</label>\n//               <input\n//                 type=\"text\"\n//                 value={newEntry.reference}\n//                 onChange={(e) => setNewEntry({ ...newEntry, reference: e.target.value })}\n//                 placeholder=\"Reference number\"\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n//               />\n//             </div>\n//           </div>\n\n//           {/* Entry Lines */}\n//           <div className=\"mb-4\">\n//             <label className=\"block text-sm font-medium text-gray-700 mb-2\">Journal Entry Lines</label>\n//             <div className=\"space-y-3\">\n//               {newEntry.entries.map((entry, index) => (\n//                 <div key={index} className=\"grid grid-cols-12 gap-2 items-center bg-white p-3 rounded border\">\n//                   <div className=\"col-span-4\">\n//                     <select\n//                       value={entry.accountId}\n//                       onChange={(e) => updateEntryLine(index, 'accountId', e.target.value)}\n//                       className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\n//                     >\n//                       <option value=\"\">Select Account</option>\n//                       {accounts.map(account => (\n//                         <option key={account.id} value={account.id}>\n//                           {account.code} - {account.name}\n//                         </option>\n//                       ))}\n//                     </select>\n//                   </div>\n//                   <div className=\"col-span-3\">\n//                     <input\n//                       type=\"text\"\n//                       value={entry.description}\n//                       onChange={(e) => updateEntryLine(index, 'description', e.target.value)}\n//                       placeholder=\"Description\"\n//                       className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\n//                     />\n//                   </div>\n//                   <div className=\"col-span-2\">\n//                     <input\n//                       type=\"number\"\n//                       step=\"0.01\"\n//                       value={entry.debit}\n//                       onChange={(e) => updateEntryLine(index, 'debit', e.target.value)}\n//                       placeholder=\"Debit\"\n//                       className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\n//                     />\n//                   </div>\n//                   <div className=\"col-span-2\">\n//                     <input\n//                       type=\"number\"\n//                       step=\"0.01\"\n//                       value={entry.credit}\n//                       onChange={(e) => updateEntryLine(index, 'credit', e.target.value)}\n//                       placeholder=\"Credit\"\n//                       className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\n//                     />\n//                   </div>\n//                   <div className=\"col-span-1\">\n//                     {newEntry.entries.length > 2 && (\n//                       <button\n//                         onClick={() => removeEntryLine(index)}\n//                         className=\"p-1 text-red-600 hover:bg-red-100 rounded\"\n//                       >\n//                         <Trash2 size={14} />\n//                       </button>\n//                     )}\n//                   </div>\n//                 </div>\n//               ))}\n//             </div>\n\n//             <div className=\"flex justify-between items-center mt-3\">\n//               <button\n//                 onClick={addEntryLine}\n//                 className=\"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 flex items-center space-x-1\"\n//               >\n//                 <Plus size={14} />\n//                 <span>Add Line</span>\n//               </button>\n\n//               <div className=\"flex items-center space-x-4\">\n//                 <div className=\"text-sm\">\n//                   <span className=\"font-medium\">Total Debit: ${totalDebit.toFixed(2)}</span>\n//                   <span className=\"mx-2\">|</span>\n//                   <span className=\"font-medium\">Total Credit: ${totalCredit.toFixed(2)}</span>\n//                 </div>\n//                 {entryIsBalanced ? (\n//                   <div className=\"flex items-center text-green-600\">\n//                     <CheckCircle size={16} className=\"mr-1\" />\n//                     <span className=\"text-sm\">Balanced</span>\n//                   </div>\n//                 ) : (\n//                   <div className=\"flex items-center text-red-600\">\n//                     <AlertCircle size={16} className=\"mr-1\" />\n//                     <span className=\"text-sm\">Not Balanced</span>\n//                   </div>\n//                 )}\n//               </div>\n//             </div>\n//           </div>\n\n//           <div className=\"flex space-x-3\">\n//             <button\n//               onClick={saveJournalEntry}\n//               disabled={!entryIsBalanced}\n//               className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-gray-400 flex items-center space-x-2\"\n//             >\n//               <Save size={16} />\n//               <span>Save Entry</span>\n//             </button>\n//             <button\n//               onClick={() => setIsAddingEntry(false)}\n//               className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center space-x-2\"\n//             >\n//               <X size={16} />\n//               <span>Cancel</span>\n//             </button>\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Journal Entries Table */}\n//       <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n//         <div className=\"px-6 py-4 border-b border-gray-200\">\n//           <h2 className=\"text-lg font-semibold text-gray-900\">Journal Entries</h2>\n//           <p className=\"text-sm text-gray-600 mt-1\">\n//             Showing {filteredEntries.length} of {journalEntries.length} entries\n//           </p>\n//         </div>\n\n//         <div className=\"overflow-x-auto\">\n//           <table className=\"w-full\">\n//             <thead className=\"bg-gray-50\">\n//               <tr>\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                   Entry ID\n//                 </th>\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                   Date\n//                 </th>\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                   Description\n//                 </th>\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                   Reference\n//                 </th>\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                   Source\n//                 </th>\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                   Amount\n//                 </th>\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                   Status\n//                 </th>\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                   Actions\n//                 </th>\n//               </tr>\n//             </thead>\n//             <tbody className=\"bg-white divide-y divide-gray-200\">\n//               {filteredEntries.map((entry) => (\n//                 <tr key={entry.id} className=\"hover:bg-gray-50\">\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n//                     {entry.id}\n//                   </td>\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n//                     {entry.date}\n//                   </td>\n//                   <td className=\"px-6 py-4 text-sm text-gray-900 max-w-xs truncate\">\n//                     {entry.description}\n//                   </td>\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n//                     {entry.reference}\n//                   </td>\n//                   <td className=\"px-6 py-4 whitespace-nowrap\">\n//                     <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n//                       entry.transactionType === 'automatic' ? 'bg-green-100 text-green-800' : 'bg-orange-100 text-orange-800'\n//                     }`}>\n//                       {entry.source}\n//                     </span>\n//                   </td>\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n//                     ${entry.totalDebit.toFixed(2)}\n//                   </td>\n//                   <td className=\"px-6 py-4 whitespace-nowrap\">\n//                     <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n//                       entry.status === 'posted' ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800'\n//                     }`}>\n//                       {entry.status}\n//                     </span>\n//                   </td>\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n//                     <button\n//                       onClick={() => setSelectedEntry(entry)}\n//                       className=\"text-emerald-600 hover:text-emerald-900 mr-3\"\n//                     >\n//                       <Eye size={16} />\n//                     </button>\n//                   </td>\n//                 </tr>\n//               ))}\n//             </tbody>\n//           </table>\n//         </div>\n//       </div>\n\n//       {/* Entry Details Modal */}\n//       {selectedEntry && (\n//         <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50\">\n//           <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n//             <div className=\"px-6 py-4 border-b border-gray-200\">\n//               <div className=\"flex items-center justify-between\">\n//                 <h3 className=\"text-lg font-semibold text-gray-900\">\n//                   Journal Entry Details - {selectedEntry.id}\n//                 </h3>\n//                 <button\n//                   onClick={() => setSelectedEntry(null)}\n//                   className=\"text-gray-400 hover:text-gray-600\"\n//                 >\n//                   <X size={20} />\n//                 </button>\n//               </div>\n//             </div>\n\n//             <div className=\"px-6 py-4\">\n//               {/* Entry Header */}\n//               <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n//                 <div>\n//                   <label className=\"text-sm font-medium text-gray-500\">Date</label>\n//                   <p className=\"text-sm text-gray-900\">{selectedEntry.date}</p>\n//                 </div>\n//                 <div>\n//                   <label className=\"text-sm font-medium text-gray-500\">Reference</label>\n//                   <p className=\"text-sm text-gray-900\">{selectedEntry.reference}</p>\n//                 </div>\n//                 <div>\n//                   <label className=\"text-sm font-medium text-gray-500\">Description</label>\n//                   <p className=\"text-sm text-gray-900\">{selectedEntry.description}</p>\n//                 </div>\n//                 <div>\n//                   <label className=\"text-sm font-medium text-gray-500\">Source</label>\n//                   <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n//                     selectedEntry.transactionType === 'automatic' ? 'bg-green-100 text-green-800' : 'bg-orange-100 text-orange-800'\n//                   }`}>\n//                     {selectedEntry.source}\n//                   </span>\n//                 </div>\n//               </div>\n\n//               {/* Entry Lines */}\n//               <div className=\"mb-6\">\n//                 <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Account Entries</h4>\n//                 <div className=\"overflow-x-auto\">\n//                   <table className=\"w-full border border-gray-200 rounded\">\n//                     <thead className=\"bg-gray-50\">\n//                       <tr>\n//                         <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Account</th>\n//                         <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Description</th>\n//                         <th className=\"px-4 py-2 text-right text-xs font-medium text-gray-500\">Debit</th>\n//                         <th className=\"px-4 py-2 text-right text-xs font-medium text-gray-500\">Credit</th>\n//                       </tr>\n//                     </thead>\n//                     <tbody className=\"divide-y divide-gray-200\">\n//                       {selectedEntry.entries.map((entryLine, index) => (\n//                         <tr key={index}>\n//                           <td className=\"px-4 py-2 text-sm text-gray-900\">\n//                             {getAccountName(entryLine.accountId)}\n//                           </td>\n//                           <td className=\"px-4 py-2 text-sm text-gray-600\">\n//                             {entryLine.description}\n//                           </td>\n//                           <td className=\"px-4 py-2 text-sm text-gray-900 text-right\">\n//                             {entryLine.debit > 0 ? `${entryLine.debit.toFixed(2)}` : '-'}\n//                           </td>\n//                           <td className=\"px-4 py-2 text-sm text-gray-900 text-right\">\n//                             {entryLine.credit > 0 ? `${entryLine.credit.toFixed(2)}` : '-'}\n//                           </td>\n//                         </tr>\n//                       ))}\n//                     </tbody>\n//                     <tfoot className=\"bg-gray-50\">\n//                       <tr>\n//                         <td colSpan=\"2\" className=\"px-4 py-2 text-sm font-medium text-gray-900\">\n//                           Totals:\n//                         </td>\n//                         <td className=\"px-4 py-2 text-sm font-bold text-gray-900 text-right\">\n//                           ${selectedEntry.totalDebit.toFixed(2)}\n//                         </td>\n//                         <td className=\"px-4 py-2 text-sm font-bold text-gray-900 text-right\">\n//                           ${selectedEntry.totalCredit.toFixed(2)}\n//                         </td>\n//                       </tr>\n//                     </tfoot>\n//                   </table>\n//                 </div>\n//               </div>\n\n//               {/* Entry Metadata */}\n//               <div className=\"text-xs text-gray-500\">\n//                 <p>Created: {new Date(selectedEntry.createdAt).toLocaleString()}</p>\n//                 <p>Status: {selectedEntry.status}</p>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Trial Balance Modal */}\n//       {showTrialBalance && (\n//         <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50\">\n//           <div className=\"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto\">\n//             <div className=\"px-6 py-4 border-b border-gray-200\">\n//               <div className=\"flex items-center justify-between\">\n//                 <h3 className=\"text-lg font-semibold text-gray-900\">\n//                   Trial Balance - As of {new Date().toLocaleDateString()}\n//                 </h3>\n//                 <div className=\"flex items-center space-x-2\">\n//                   <button\n//                     onClick={() => {\n//                       // Export functionality would go here\n//                       alert('Export functionality would be implemented here');\n//                     }}\n//                     className=\"px-3 py-1 bg-emerald-600 text-white rounded text-sm hover:bg-emerald-700 flex items-center space-x-1\"\n//                   >\n//                     <Download size={14} />\n//                     <span>Export</span>\n//                   </button>\n//                   <button\n//                     onClick={() => setShowTrialBalance(false)}\n//                     className=\"text-gray-400 hover:text-gray-600\"\n//                   >\n//                     <X size={20} />\n//                   </button>\n//                 </div>\n//               </div>\n//             </div>\n\n//             <div className=\"px-6 py-4\">\n//               <div className=\"overflow-x-auto\">\n//                 <table className=\"w-full\">\n//                   <thead className=\"bg-gray-50\">\n//                     <tr>\n//                       <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                         Account Code\n//                       </th>\n//                       <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                         Account Name\n//                       </th>\n//                       <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                         Type\n//                       </th>\n//                       <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                         Debit Total\n//                       </th>\n//                       <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                         Credit Total\n//                       </th>\n//                       <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n//                         Balance\n//                       </th>\n//                     </tr>\n//                   </thead>\n//                   <tbody className=\"bg-white divide-y divide-gray-200\">\n//                     {trialBalance.map((account) => (\n//                       <tr key={account.accountId}>\n//                         <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n//                           {account.accountCode}\n//                         </td>\n//                         <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\">\n//                           {account.accountName}\n//                         </td>\n//                         <td className=\"px-4 py-4 whitespace-nowrap\">\n//                           <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n//                             account.accountType === 'assets' ? 'bg-green-100 text-green-800' :\n//                             account.accountType === 'liabilities' ? 'bg-red-100 text-red-800' :\n//                             account.accountType === 'equity' ? 'bg-blue-100 text-blue-800' :\n//                             account.accountType === 'revenue' ? 'bg-purple-100 text-purple-800' :\n//                             'bg-orange-100 text-orange-800'\n//                           }`}>\n//                             {account.accountType}\n//                           </span>\n//                         </td>\n//                         <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n//                           ${account.debit.toFixed(2)}\n//                         </td>\n//                         <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n//                           ${account.credit.toFixed(2)}\n//                         </td>\n//                         <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-right\">\n//                           <span className={account.balance >= 0 ? 'text-green-600' : 'text-red-600'}>\n//                             ${Math.abs(account.balance).toFixed(2)}\n//                             {account.balance < 0 && ' (CR)'}\n//                           </span>\n//                         </td>\n//                       </tr>\n//                     ))}\n//                   </tbody>\n//                   <tfoot className=\"bg-gray-50\">\n//                     <tr>\n//                       <td colSpan=\"3\" className=\"px-4 py-3 text-sm font-bold text-gray-900\">\n//                         TOTALS:\n//                       </td>\n//                       <td className=\"px-4 py-3 text-sm font-bold text-gray-900 text-right\">\n//                         ${trialBalance.reduce((sum, acc) => sum + acc.debit, 0).toFixed(2)}\n//                       </td>\n//                       <td className=\"px-4 py-3 text-sm font-bold text-gray-900 text-right\">\n//                         ${trialBalance.reduce((sum, acc) => sum + acc.credit, 0).toFixed(2)}\n//                       </td>\n//                       <td className=\"px-4 py-3 text-sm font-bold text-gray-900 text-right\">\n//                         ${Math.abs(trialBalance.reduce((sum, acc) => sum + acc.balance, 0)).toFixed(2)}\n//                       </td>\n//                     </tr>\n//                   </tfoot>\n//                 </table>\n//               </div>\n\n//               {/* Trial Balance Validation */}\n//               <div className=\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\n//                 <div className=\"flex items-center\">\n//                   <CheckCircle className=\"text-green-600 mr-2\" size={20} />\n//                   <div>\n//                     <h4 className=\"font-medium text-green-800\">Trial Balance is Balanced</h4>\n//                     <p className=\"text-sm text-green-700\">\n//                       Total Debits = Total Credits = ${trialBalance.reduce((sum, acc) => sum + acc.debit, 0).toFixed(2)}\n//                     </p>\n//                   </div>\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Integration Status */}\n//       <div className=\"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4\">\n//         <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\n//           <div className=\"flex items-center mb-2\">\n//             <CheckCircle className=\"text-green-600 mr-2\" size={16} />\n//             <h4 className=\"font-medium text-green-800\">POS Integration</h4>\n//           </div>\n//           <p className=\"text-sm text-green-700\">\n//             All sales transactions automatically create journal entries\n//           </p>\n//         </div>\n\n//         <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\n//           <div className=\"flex items-center mb-2\">\n//             <CheckCircle className=\"text-green-600 mr-2\" size={16} />\n//             <h4 className=\"font-medium text-green-800\">Purchase Integration</h4>\n//           </div>\n//           <p className=\"text-sm text-green-700\">\n//             Purchase orders automatically update accounts payable and inventory\n//           </p>\n//         </div>\n\n//         <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n//           <div className=\"flex items-center mb-2\">\n//             <FileText className=\"text-blue-600 mr-2\" size={16} />\n//             <h4 className=\"font-medium text-blue-800\">Manual Entries</h4>\n//           </div>\n//           <p className=\"text-sm text-blue-700\">\n//             Add adjustments and corrections with full validation\n//           </p>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default GeneralLedger;\n\nimport React, { useState, useEffect } from 'react';\nimport { Book, Plus, Filter, Search, Calendar, FileText, Edit, Trash2, Save, X, AlertCircle, CheckCircle, DollarSign, TrendingUp, Eye, Download, RefreshCw } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GeneralLedger = () => {\n  _s();\n  const [journalEntries, setJournalEntries] = useState([]);\n  const [accounts, setAccounts] = useState([]);\n  const [filteredEntries, setFilteredEntries] = useState([]);\n  const [selectedEntry, setSelectedEntry] = useState(null);\n  const [isAddingEntry, setIsAddingEntry] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [filters, setFilters] = useState({\n    dateFrom: '',\n    dateTo: '',\n    accountId: '',\n    transactionType: 'all',\n    searchTerm: ''\n  });\n  const [trialBalance, setTrialBalance] = useState([]);\n  const [showTrialBalance, setShowTrialBalance] = useState(false);\n  const [newEntry, setNewEntry] = useState({\n    date: new Date().toISOString().split('T')[0],\n    description: '',\n    reference: '',\n    entries: [{\n      accountId: '',\n      debit: 0,\n      credit: 0,\n      description: ''\n    }, {\n      accountId: '',\n      debit: 0,\n      credit: 0,\n      description: ''\n    }]\n  });\n\n  // Chart of Accounts\n  const chartOfAccounts = [{\n    id: '1111',\n    code: '1111',\n    name: 'Petty Cash',\n    type: 'assets'\n  }, {\n    id: '1112',\n    code: '1112',\n    name: 'Bank - Main Account',\n    type: 'assets'\n  }, {\n    id: '1120',\n    code: '1120',\n    name: 'Accounts Receivable',\n    type: 'assets'\n  }, {\n    id: '1130',\n    code: '1130',\n    name: 'Inventory',\n    type: 'assets'\n  }, {\n    id: '2110',\n    code: '2110',\n    name: 'Accounts Payable',\n    type: 'liabilities'\n  }, {\n    id: '2130',\n    code: '2130',\n    name: 'Sales Tax Payable',\n    type: 'liabilities'\n  }, {\n    id: '4100',\n    code: '4100',\n    name: 'Sales Revenue',\n    type: 'revenue'\n  }, {\n    id: '4110',\n    code: '4110',\n    name: 'Electronics Sales',\n    type: 'revenue'\n  }, {\n    id: '5100',\n    code: '5100',\n    name: 'Cost of Goods Sold',\n    type: 'expenses'\n  }, {\n    id: '5200',\n    code: '5200',\n    name: 'Purchase Expenses',\n    type: 'expenses'\n  }];\n\n  // API Configuration\n  const API_BASE_URL = 'https://api-pos.hulmsolutions.com/POS/accounting2/31fc8df0-61db-41e5-bb67-070fde367ea1/orders?start=0&size=200';\n  useEffect(() => {\n    setAccounts(chartOfAccounts);\n    loadJournalEntriesFromAPI();\n  }, []);\n  useEffect(() => {\n    filterEntries();\n  }, [journalEntries, filters]);\n\n  // Fetch Sales Orders from API and convert to Journal Entries\n  const loadJournalEntriesFromAPI = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/orders?start=0&size=200`);\n      const salesOrders = await response.json();\n\n      // Convert sales orders to journal entries\n      const journalEntriesFromSales = salesOrders.map(order => convertSalesOrderToJournalEntry(order));\n\n      // Load any manual journal entries from localStorage\n      const manualEntries = JSON.parse(localStorage.getItem('manualJournalEntries') || '[]');\n\n      // Combine both types of entries\n      const allEntries = [...journalEntriesFromSales, ...manualEntries];\n      setJournalEntries(allEntries);\n    } catch (error) {\n      console.error('Error loading sales orders:', error);\n      // Fallback to sample data if API fails\n      loadSampleJournalEntries();\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Convert Sales Order to Journal Entry\n  const convertSalesOrderToJournalEntry = order => {\n    const entries = [];\n    const subTotal = order.subTotal || 0;\n    const taxAmount = order.taxAmount || 0;\n    const total = order.total || 0;\n\n    // Determine payment method - if paid, assume cash/bank\n    if (order.paid && order.status === 'Closed') {\n      // Cash/Bank Account (Debit)\n      entries.push({\n        accountId: '1111',\n        // Petty Cash (assume cash payment)\n        accountName: 'Petty Cash',\n        debit: total,\n        credit: 0,\n        description: `Cash received from sale Order #${order.orderId}`\n      });\n    } else if (!order.paid) {\n      // Accounts Receivable (Debit) for unpaid orders\n      entries.push({\n        accountId: '1120',\n        accountName: 'Accounts Receivable',\n        debit: total,\n        credit: 0,\n        description: `Credit sale Order #${order.orderId}`\n      });\n    }\n\n    // Sales Revenue (Credit)\n    if (subTotal > 0) {\n      entries.push({\n        accountId: '4110',\n        // Electronics Sales\n        accountName: 'Electronics Sales',\n        debit: 0,\n        credit: subTotal,\n        description: `Revenue from Order #${order.orderId}`\n      });\n    }\n\n    // Sales Tax Payable (Credit)\n    if (taxAmount > 0) {\n      entries.push({\n        accountId: '2130',\n        accountName: 'Sales Tax Payable',\n        debit: 0,\n        credit: taxAmount,\n        description: `Tax collected on Order #${order.orderId}`\n      });\n    }\n\n    // Cost of Goods Sold and Inventory reduction\n    order.lineItems.forEach(item => {\n      const costPrice = item.costPrice || 0;\n      const quantity = item.quantity || 0;\n      const totalCost = costPrice * quantity;\n      if (totalCost > 0 && order.fulfilled) {\n        // Cost of Goods Sold (Debit)\n        entries.push({\n          accountId: '5100',\n          accountName: 'Cost of Goods Sold',\n          debit: totalCost,\n          credit: 0,\n          description: `COGS for ${item.productName}`\n        });\n\n        // Inventory (Credit)\n        entries.push({\n          accountId: '1130',\n          accountName: 'Inventory',\n          debit: 0,\n          credit: totalCost,\n          description: `Inventory reduction - ${item.productName}`\n        });\n      }\n    });\n\n    // Calculate totals\n    const totalDebit = entries.reduce((sum, entry) => sum + entry.debit, 0);\n    const totalCredit = entries.reduce((sum, entry) => sum + entry.credit, 0);\n    return {\n      id: `JE-ORDER-${order.orderId}`,\n      date: formatDateFromCreatedAt(order.createdAt),\n      description: `Sales Order #${order.orderId} - ${order.lineItems.map(item => item.productName).join(', ')}`,\n      reference: `ORDER-${order.orderId}`,\n      transactionType: 'automatic',\n      source: 'POS Sales',\n      status: order.fulfilled ? 'posted' : 'pending',\n      entries: entries,\n      totalDebit: Math.round(totalDebit * 100) / 100,\n      totalCredit: Math.round(totalCredit * 100) / 100,\n      createdAt: order.createdAt,\n      originalOrder: order // Keep reference to original order\n    };\n  };\n\n  // Format date from API format (2025.08.18.10.08.54.569) to YYYY-MM-DD\n  const formatDateFromCreatedAt = createdAt => {\n    try {\n      const parts = createdAt.split('.');\n      if (parts.length >= 3) {\n        return `${parts[0]}-${parts[1].padStart(2, '0')}-${parts[2].padStart(2, '0')}`;\n      }\n      return new Date().toISOString().split('T')[0];\n    } catch (error) {\n      return new Date().toISOString().split('T')[0];\n    }\n  };\n\n  // Fallback sample data\n  const loadSampleJournalEntries = () => {\n    const sampleEntries = [{\n      id: 'JE001',\n      date: '2025-08-18',\n      description: 'Sample POS Sale - Medical products',\n      reference: 'POS001',\n      transactionType: 'automatic',\n      source: 'POS',\n      status: 'posted',\n      entries: [{\n        accountId: '1111',\n        accountName: 'Petty Cash',\n        debit: 60.50,\n        credit: 0,\n        description: 'Cash received from customer'\n      }, {\n        accountId: '4100',\n        accountName: 'Sales Revenue',\n        debit: 0,\n        credit: 55.00,\n        description: 'Revenue from medical products'\n      }, {\n        accountId: '2130',\n        accountName: 'Sales Tax Payable',\n        debit: 0,\n        credit: 5.50,\n        description: 'Sales tax collected'\n      }],\n      totalDebit: 60.50,\n      totalCredit: 60.50,\n      createdAt: '2025-08-18T10:30:00Z'\n    }];\n    setJournalEntries(sampleEntries);\n  };\n  const filterEntries = () => {\n    let filtered = [...journalEntries];\n    if (filters.dateFrom) {\n      filtered = filtered.filter(entry => entry.date >= filters.dateFrom);\n    }\n    if (filters.dateTo) {\n      filtered = filtered.filter(entry => entry.date <= filters.dateTo);\n    }\n    if (filters.accountId) {\n      filtered = filtered.filter(entry => entry.entries.some(e => e.accountId === filters.accountId));\n    }\n    if (filters.transactionType !== 'all') {\n      filtered = filtered.filter(entry => entry.transactionType === filters.transactionType);\n    }\n    if (filters.searchTerm) {\n      const term = filters.searchTerm.toLowerCase();\n      filtered = filtered.filter(entry => entry.description.toLowerCase().includes(term) || entry.reference.toLowerCase().includes(term) || entry.entries.some(e => e.description.toLowerCase().includes(term)));\n    }\n    setFilteredEntries(filtered);\n  };\n  const generateTrialBalance = () => {\n    const balances = {};\n\n    // Initialize all accounts\n    chartOfAccounts.forEach(account => {\n      balances[account.id] = {\n        accountId: account.id,\n        accountCode: account.code,\n        accountName: account.name,\n        accountType: account.type,\n        debit: 0,\n        credit: 0,\n        balance: 0\n      };\n    });\n\n    // Calculate balances from journal entries\n    journalEntries.forEach(entry => {\n      if (entry.status === 'posted') {\n        entry.entries.forEach(entryLine => {\n          if (balances[entryLine.accountId]) {\n            balances[entryLine.accountId].debit += entryLine.debit;\n            balances[entryLine.accountId].credit += entryLine.credit;\n          }\n        });\n      }\n    });\n\n    // Calculate net balances\n    Object.values(balances).forEach(account => {\n      if (account.accountType === 'assets' || account.accountType === 'expenses') {\n        account.balance = account.debit - account.credit;\n      } else {\n        account.balance = account.credit - account.debit;\n      }\n    });\n    const trialBalanceData = Object.values(balances).filter(account => account.debit !== 0 || account.credit !== 0).sort((a, b) => a.accountCode.localeCompare(b.accountCode));\n    setTrialBalance(trialBalanceData);\n    setShowTrialBalance(true);\n  };\n  const addEntryLine = () => {\n    setNewEntry({\n      ...newEntry,\n      entries: [...newEntry.entries, {\n        accountId: '',\n        debit: 0,\n        credit: 0,\n        description: ''\n      }]\n    });\n  };\n  const removeEntryLine = index => {\n    if (newEntry.entries.length > 2) {\n      const updatedEntries = newEntry.entries.filter((_, i) => i !== index);\n      setNewEntry({\n        ...newEntry,\n        entries: updatedEntries\n      });\n    }\n  };\n  const updateEntryLine = (index, field, value) => {\n    const updatedEntries = [...newEntry.entries];\n    updatedEntries[index] = {\n      ...updatedEntries[index],\n      [field]: value\n    };\n    setNewEntry({\n      ...newEntry,\n      entries: updatedEntries\n    });\n  };\n  const calculateTotals = entries => {\n    const totalDebit = entries.reduce((sum, entry) => sum + (parseFloat(entry.debit) || 0), 0);\n    const totalCredit = entries.reduce((sum, entry) => sum + (parseFloat(entry.credit) || 0), 0);\n    return {\n      totalDebit,\n      totalCredit\n    };\n  };\n  const isBalanced = entries => {\n    const {\n      totalDebit,\n      totalCredit\n    } = calculateTotals(entries);\n    return Math.abs(totalDebit - totalCredit) < 0.01;\n  };\n  const saveJournalEntry = () => {\n    if (!newEntry.description || !newEntry.entries.every(e => e.accountId)) {\n      alert('Please fill in all required fields');\n      return;\n    }\n    if (!isBalanced(newEntry.entries)) {\n      alert('Journal entry must be balanced - total debits must equal total credits');\n      return;\n    }\n    const {\n      totalDebit,\n      totalCredit\n    } = calculateTotals(newEntry.entries);\n\n    // Add account names to entries\n    const entriesWithNames = newEntry.entries.map(entry => {\n      var _accounts$find;\n      return {\n        ...entry,\n        accountName: ((_accounts$find = accounts.find(acc => acc.id === entry.accountId)) === null || _accounts$find === void 0 ? void 0 : _accounts$find.name) || '',\n        debit: parseFloat(entry.debit) || 0,\n        credit: parseFloat(entry.credit) || 0\n      };\n    });\n    const journalEntry = {\n      id: `JE-MANUAL-${Date.now()}`,\n      date: newEntry.date,\n      description: newEntry.description,\n      reference: newEntry.reference || `MAN${Date.now()}`,\n      transactionType: 'manual',\n      source: 'Manual',\n      status: 'posted',\n      entries: entriesWithNames,\n      totalDebit,\n      totalCredit,\n      createdAt: new Date().toISOString()\n    };\n\n    // Save manual entries to localStorage\n    const existingManualEntries = JSON.parse(localStorage.getItem('manualJournalEntries') || '[]');\n    const updatedManualEntries = [...existingManualEntries, journalEntry];\n    localStorage.setItem('manualJournalEntries', JSON.stringify(updatedManualEntries));\n\n    // Update state\n    setJournalEntries([...journalEntries, journalEntry]);\n\n    // Reset form\n    setNewEntry({\n      date: new Date().toISOString().split('T')[0],\n      description: '',\n      reference: '',\n      entries: [{\n        accountId: '',\n        debit: 0,\n        credit: 0,\n        description: ''\n      }, {\n        accountId: '',\n        debit: 0,\n        credit: 0,\n        description: ''\n      }]\n    });\n    setIsAddingEntry(false);\n  };\n  const getAccountName = accountId => {\n    const account = accounts.find(acc => acc.id === accountId);\n    return account ? `${account.code} - ${account.name}` : '';\n  };\n  const {\n    totalDebit,\n    totalCredit\n  } = calculateTotals(newEntry.entries);\n  const entryIsBalanced = isBalanced(newEntry.entries);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto p-6 bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900 mb-2 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Book, {\n          className: \"mr-3 text-emerald-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1361,\n          columnNumber: 11\n        }, this), \"General Ledger\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Real-time transaction recording and journal entry management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1364,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 p-4 rounded-lg border border-blue-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-blue-600 text-sm font-medium\",\n              children: \"Total Entries\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1372,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-blue-900\",\n              children: journalEntries.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1373,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FileText, {\n            className: \"text-blue-600\",\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1375,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1370,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1369,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 p-4 rounded-lg border border-green-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-green-600 text-sm font-medium\",\n              children: \"POS Entries\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1382,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-green-900\",\n              children: journalEntries.filter(e => e.source === 'POS Sales').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1383,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TrendingUp, {\n            className: \"text-green-600\",\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1380,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1379,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-orange-50 p-4 rounded-lg border border-orange-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-orange-600 text-sm font-medium\",\n              children: \"Manual Entries\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1394,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-orange-900\",\n              children: journalEntries.filter(e => e.transactionType === 'manual').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1395,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Edit, {\n            className: \"text-orange-600\",\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1399,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1392,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1391,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-purple-50 p-4 rounded-lg border border-purple-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-purple-600 text-sm font-medium\",\n              children: \"Total Value\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1406,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-purple-900\",\n              children: [\"$\", journalEntries.reduce((sum, entry) => sum + entry.totalDebit, 0).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1407,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1405,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DollarSign, {\n            className: \"text-purple-600\",\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1411,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1404,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1403,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1368,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap items-center justify-between gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            size: 16,\n            className: \"text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: filters.dateFrom,\n            onChange: e => setFilters({\n              ...filters,\n              dateFrom: e.target.value\n            }),\n            className: \"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\",\n            placeholder: \"From\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: \"to\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1429,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: filters.dateTo,\n            onChange: e => setFilters({\n              ...filters,\n              dateTo: e.target.value\n            }),\n            className: \"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\",\n            placeholder: \"To\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1430,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1420,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1441,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.accountId,\n            onChange: e => setFilters({\n              ...filters,\n              accountId: e.target.value\n            }),\n            className: \"pl-10 pr-8 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"All Accounts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1447,\n              columnNumber: 15\n            }, this), accounts.map(account => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: account.id,\n              children: [account.code, \" - \", account.name]\n            }, account.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1449,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1442,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1440,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filters.transactionType,\n          onChange: e => setFilters({\n            ...filters,\n            transactionType: e.target.value\n          }),\n          className: \"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Types\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1462,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"automatic\",\n            children: \"POS Sales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1463,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"manual\",\n            children: \"Manual\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1464,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1457,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1469,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search entries...\",\n            value: filters.searchTerm,\n            onChange: e => setFilters({\n              ...filters,\n              searchTerm: e.target.value\n            }),\n            className: \"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1470,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1468,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadJournalEntriesFromAPI,\n          disabled: loading,\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 disabled:bg-gray-400\",\n          children: [loading ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"animate-spin\",\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1486,\n            columnNumber: 24\n          }, this) : /*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1486,\n            columnNumber: 75\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Refresh from API\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1487,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1481,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsAddingEntry(true),\n          className: \"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1493,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Add Entry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1494,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: generateTrialBalance,\n          className: \"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1500,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Trial Balance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1501,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1496,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1480,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1417,\n      columnNumber: 7\n    }, this), isAddingEntry && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 p-6 bg-gray-50 rounded-lg border\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: \"Add Manual Journal Entry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1509,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Date *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1513,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: newEntry.date,\n            onChange: e => setNewEntry({\n              ...newEntry,\n              date: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1514,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1512,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Description *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1522,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newEntry.description,\n            onChange: e => setNewEntry({\n              ...newEntry,\n              description: e.target.value\n            }),\n            placeholder: \"Enter description\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1523,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1521,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Reference\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1532,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newEntry.reference,\n            onChange: e => setNewEntry({\n              ...newEntry,\n              reference: e.target.value\n            }),\n            placeholder: \"Reference number\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1533,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1531,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1511,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"Journal Entry Lines\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1545,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: newEntry.entries.map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-12 gap-2 items-center bg-white p-3 rounded border\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-4\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: entry.accountId,\n                onChange: e => updateEntryLine(index, 'accountId', e.target.value),\n                className: \"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Account\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1555,\n                  columnNumber: 23\n                }, this), accounts.map(account => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: account.id,\n                  children: [account.code, \" - \", account.name]\n                }, account.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1557,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1550,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1549,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-3\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: entry.description,\n                onChange: e => updateEntryLine(index, 'description', e.target.value),\n                placeholder: \"Description\",\n                className: \"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1564,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1563,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                value: entry.debit,\n                onChange: e => updateEntryLine(index, 'debit', e.target.value),\n                placeholder: \"Debit\",\n                className: \"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1573,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1572,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                value: entry.credit,\n                onChange: e => updateEntryLine(index, 'credit', e.target.value),\n                placeholder: \"Credit\",\n                className: \"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1583,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1582,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-1\",\n              children: newEntry.entries.length > 2 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeEntryLine(index),\n                className: \"p-1 text-red-600 hover:bg-red-100 rounded\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1598,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1594,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1592,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1548,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1546,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addEntryLine,\n            className: \"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 flex items-center space-x-1\",\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1611,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Add Line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1612,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1607,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: [\"Total Debit: $\", totalDebit.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1617,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mx-2\",\n                children: \"|\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1618,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: [\"Total Credit: $\", totalCredit.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1619,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1616,\n              columnNumber: 17\n            }, this), entryIsBalanced ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-green-600\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                size: 16,\n                className: \"mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1623,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm\",\n                children: \"Balanced\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1624,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1622,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-red-600\",\n              children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                size: 16,\n                className: \"mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1628,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm\",\n                children: \"Not Balanced\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1629,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1627,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1615,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1606,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1544,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveJournalEntry,\n          disabled: !entryIsBalanced,\n          className: \"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-gray-400 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1642,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Save Entry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1643,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1637,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsAddingEntry(false),\n          className: \"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1649,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1650,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1645,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1636,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1508,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border border-gray-200 rounded-lg overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900\",\n          children: \"Journal Entries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1659,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-600 mt-1\",\n          children: [\"Showing \", filteredEntries.length, \" of \", journalEntries.length, \" entries\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1660,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1658,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Entry ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1669,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1672,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1675,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Reference\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1678,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Source\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1681,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1684,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1687,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1690,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1668,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1667,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: filteredEntries.map(entry => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                children: entry.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1698,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                children: entry.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1701,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 text-sm text-gray-900 max-w-xs truncate\",\n                children: entry.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1704,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                children: entry.reference\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1707,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 text-xs font-medium rounded-full ${entry.source === 'POS Sales' ? 'bg-green-100 text-green-800' : entry.source === 'Manual' ? 'bg-orange-100 text-orange-800' : 'bg-blue-100 text-blue-800'}`,\n                  children: entry.source\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1711,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1710,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                children: [\"$\", entry.totalDebit.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1719,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 text-xs font-medium rounded-full ${entry.status === 'posted' ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800'}`,\n                  children: entry.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1723,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1722,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm font-medium\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setSelectedEntry(entry),\n                  className: \"text-emerald-600 hover:text-emerald-900 mr-3\",\n                  children: /*#__PURE__*/_jsxDEV(Eye, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1734,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1730,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1729,\n                columnNumber: 19\n              }, this)]\n            }, entry.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1697,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1695,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1666,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1665,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1657,\n      columnNumber: 7\n    }, this), selectedEntry && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: [\"Journal Entry Details - \", selectedEntry.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1750,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedEntry(null),\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1757,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1753,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1749,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1748,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium text-gray-500\",\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1766,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-900\",\n                children: selectedEntry.date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1767,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1765,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium text-gray-500\",\n                children: \"Reference\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1770,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-900\",\n                children: selectedEntry.reference\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1771,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1769,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium text-gray-500\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1774,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-900\",\n                children: selectedEntry.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1775,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1773,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-sm font-medium text-gray-500\",\n                children: \"Source\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1778,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-2 py-1 text-xs font-medium rounded-full ${selectedEntry.source === 'POS Sales' ? 'bg-green-100 text-green-800' : 'bg-orange-100 text-orange-800'}`,\n                children: selectedEntry.source\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1779,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1777,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1764,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-sm font-medium text-gray-700 mb-3\",\n              children: \"Account Entries\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1789,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"w-full border border-gray-200 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-gray-50\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-4 py-2 text-left text-xs font-medium text-gray-500\",\n                      children: \"Account\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1794,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-4 py-2 text-left text-xs font-medium text-gray-500\",\n                      children: \"Description\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1795,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-4 py-2 text-right text-xs font-medium text-gray-500\",\n                      children: \"Debit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1796,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"px-4 py-2 text-right text-xs font-medium text-gray-500\",\n                      children: \"Credit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1797,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1793,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1792,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  className: \"divide-y divide-gray-200\",\n                  children: selectedEntry.entries.map((entryLine, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-4 py-2 text-sm text-gray-900\",\n                      children: getAccountName(entryLine.accountId)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1803,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-4 py-2 text-sm text-gray-600\",\n                      children: entryLine.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1806,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-4 py-2 text-sm text-gray-900 text-right\",\n                      children: entryLine.debit > 0 ? `${entryLine.debit.toFixed(2)}` : '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1809,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-4 py-2 text-sm text-gray-900 text-right\",\n                      children: entryLine.credit > 0 ? `${entryLine.credit.toFixed(2)}` : '-'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1812,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1802,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1800,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                  className: \"bg-gray-50\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      colSpan: \"2\",\n                      className: \"px-4 py-2 text-sm font-medium text-gray-900\",\n                      children: \"Totals:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1820,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-4 py-2 text-sm font-bold text-gray-900 text-right\",\n                      children: [\"$\", selectedEntry.totalDebit.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1823,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-4 py-2 text-sm font-bold text-gray-900 text-right\",\n                      children: [\"$\", selectedEntry.totalCredit.toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1826,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1819,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1818,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1791,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1790,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1788,\n            columnNumber: 15\n          }, this), selectedEntry.originalOrder && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 p-4 bg-gray-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-sm font-medium text-gray-700 mb-3\",\n              children: \"Original Sales Order Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1838,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-500\",\n                  children: \"Order ID:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1841,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: selectedEntry.originalOrder.orderId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1842,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1840,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-500\",\n                  children: \"Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1845,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: selectedEntry.originalOrder.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1846,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1844,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-500\",\n                  children: \"Payment Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1849,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: selectedEntry.originalOrder.paid ? 'Paid' : 'Unpaid'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1850,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1848,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-500\",\n                  children: \"Fulfilled:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1853,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-900\",\n                  children: selectedEntry.originalOrder.fulfilled ? 'Yes' : 'No'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1854,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1852,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1839,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-500\",\n                children: \"Line Items:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1860,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 space-y-2\",\n                children: selectedEntry.originalOrder.lineItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm bg-white p-2 rounded border\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: item.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1864,\n                    columnNumber: 27\n                  }, this), \" - Qty: \", item.quantity, \", Price: $\", item.price, \", Total: $\", item.total, item.taxAmount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500\",\n                    children: [\" (Tax: $\", item.taxAmount, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1866,\n                    columnNumber: 50\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1863,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1861,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1859,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1837,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Created: \", new Date(selectedEntry.createdAt).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1876,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Status: \", selectedEntry.status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1877,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Type: \", selectedEntry.transactionType]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1878,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1875,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1762,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1747,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1746,\n      columnNumber: 9\n    }, this), showTrialBalance && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4 border-b border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: [\"Trial Balance - As of \", new Date().toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1891,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  // Export functionality would go here\n                  alert('Export functionality would be implemented here');\n                },\n                className: \"px-3 py-1 bg-emerald-600 text-white rounded text-sm hover:bg-emerald-700 flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(Download, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1902,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Export\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1903,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1895,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowTrialBalance(false),\n                className: \"text-gray-400 hover:text-gray-600\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1909,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1905,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1894,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1890,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1889,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Account Code\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1920,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Account Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1923,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1926,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Debit Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1929,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Credit Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1932,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Balance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1935,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1919,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1918,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"bg-white divide-y divide-gray-200\",\n                children: trialBalance.map(account => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900\",\n                    children: account.accountCode\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1943,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-4 whitespace-nowrap text-sm text-gray-900\",\n                    children: account.accountName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1946,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-4 whitespace-nowrap\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `px-2 py-1 text-xs font-medium rounded-full ${account.accountType === 'assets' ? 'bg-green-100 text-green-800' : account.accountType === 'liabilities' ? 'bg-red-100 text-red-800' : account.accountType === 'equity' ? 'bg-blue-100 text-blue-800' : account.accountType === 'revenue' ? 'bg-purple-100 text-purple-800' : 'bg-orange-100 text-orange-800'}`,\n                      children: account.accountType\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1950,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1949,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",\n                    children: [\"$\", account.debit.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1960,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",\n                    children: [\"$\", account.credit.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1963,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-4 whitespace-nowrap text-sm font-medium text-right\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: account.balance >= 0 ? 'text-green-600' : 'text-red-600',\n                      children: [\"$\", Math.abs(account.balance).toFixed(2), account.balance < 0 && ' (CR)']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1967,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1966,\n                    columnNumber: 25\n                  }, this)]\n                }, account.accountId, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1942,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1940,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                className: \"bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"3\",\n                    className: \"px-4 py-3 text-sm font-bold text-gray-900\",\n                    children: \"TOTALS:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1977,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-sm font-bold text-gray-900 text-right\",\n                    children: [\"$\", trialBalance.reduce((sum, acc) => sum + acc.debit, 0).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1980,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-sm font-bold text-gray-900 text-right\",\n                    children: [\"$\", trialBalance.reduce((sum, acc) => sum + acc.credit, 0).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1983,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"px-4 py-3 text-sm font-bold text-gray-900 text-right\",\n                    children: [\"$\", Math.abs(trialBalance.reduce((sum, acc) => sum + acc.balance, 0)).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1986,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1976,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1975,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1917,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1916,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"text-green-600 mr-2\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1997,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-green-800\",\n                  children: \"Trial Balance is Balanced\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1999,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-green-700\",\n                  children: [\"Total Debits = Total Credits = $\", trialBalance.reduce((sum, acc) => sum + acc.debit, 0).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2000,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1998,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1996,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1995,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1915,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1888,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1887,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-green-50 border border-green-200 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"text-green-600 mr-2\",\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2015,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-green-800\",\n            children: \"POS API Integration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2016,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2014,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-green-700\",\n          children: \"Sales orders automatically create journal entries from live API data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2018,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2013,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-blue-50 border border-blue-200 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"text-blue-600 mr-2\",\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2025,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-blue-800\",\n            children: \"Real-time Sync\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2026,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2024,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-blue-700\",\n          children: \"Journal entries updated automatically with each sales transaction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2028,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2023,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-orange-50 border border-orange-200 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"text-orange-600 mr-2\",\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2035,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-orange-800\",\n            children: \"Manual Entries\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2036,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2034,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-orange-700\",\n          children: \"Add adjustments and corrections with full double-entry validation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2038,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2033,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2012,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1357,\n    columnNumber: 5\n  }, this);\n};\n_s(GeneralLedger, \"vBYaTeePH84cPZgOTM+1doWEBNQ=\");\n_c = GeneralLedger;\nexport default GeneralLedger;\nvar _c;\n$RefreshReg$(_c, \"GeneralLedger\");","map":{"version":3,"names":["React","useState","useEffect","Book","Plus","Filter","Search","Calendar","FileText","Edit","Trash2","Save","X","AlertCircle","CheckCircle","DollarSign","TrendingUp","Eye","Download","RefreshCw","jsxDEV","_jsxDEV","GeneralLedger","_s","journalEntries","setJournalEntries","accounts","setAccounts","filteredEntries","setFilteredEntries","selectedEntry","setSelectedEntry","isAddingEntry","setIsAddingEntry","loading","setLoading","filters","setFilters","dateFrom","dateTo","accountId","transactionType","searchTerm","trialBalance","setTrialBalance","showTrialBalance","setShowTrialBalance","newEntry","setNewEntry","date","Date","toISOString","split","description","reference","entries","debit","credit","chartOfAccounts","id","code","name","type","API_BASE_URL","loadJournalEntriesFromAPI","filterEntries","response","fetch","salesOrders","json","journalEntriesFromSales","map","order","convertSalesOrderToJournalEntry","manualEntries","JSON","parse","localStorage","getItem","allEntries","error","console","loadSampleJournalEntries","subTotal","taxAmount","total","paid","status","push","accountName","orderId","lineItems","forEach","item","costPrice","quantity","totalCost","fulfilled","productName","totalDebit","reduce","sum","entry","totalCredit","formatDateFromCreatedAt","createdAt","join","source","Math","round","originalOrder","parts","length","padStart","sampleEntries","filtered","filter","some","e","term","toLowerCase","includes","generateTrialBalance","balances","account","accountCode","accountType","balance","entryLine","Object","values","trialBalanceData","sort","a","b","localeCompare","addEntryLine","removeEntryLine","index","updatedEntries","_","i","updateEntryLine","field","value","calculateTotals","parseFloat","isBalanced","abs","saveJournalEntry","every","alert","entriesWithNames","_accounts$find","find","acc","journalEntry","now","existingManualEntries","updatedManualEntries","setItem","stringify","getAccountName","entryIsBalanced","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","toFixed","onChange","target","placeholder","onClick","disabled","step","colSpan","price","toLocaleString","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/Users/Logic-Unit/my-account/src/pages/GeneralLedger.jsx"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import { \r\n//   Book, \r\n//   Plus, \r\n//   Filter, \r\n//   Search, \r\n//   Calendar, \r\n//   FileText, \r\n//   Edit, \r\n//   Trash2, \r\n//   Save, \r\n//   X, \r\n//   AlertCircle,\r\n//   CheckCircle,\r\n//   DollarSign,\r\n//   TrendingUp,\r\n//   Eye,\r\n//   Download\r\n// } from 'lucide-react';\r\n\r\n// const GeneralLedger = () => {\r\n//   const [journalEntries, setJournalEntries] = useState([]);\r\n//   const [accounts, setAccounts] = useState([]);\r\n//   const [filteredEntries, setFilteredEntries] = useState([]);\r\n//   const [selectedEntry, setSelectedEntry] = useState(null);\r\n//   const [isAddingEntry, setIsAddingEntry] = useState(false);\r\n//   const [filters, setFilters] = useState({\r\n//     dateFrom: '',\r\n//     dateTo: '',\r\n//     accountId: '',\r\n//     transactionType: 'all',\r\n//     searchTerm: ''\r\n//   });\r\n//   const [trialBalance, setTrialBalance] = useState([]);\r\n//   const [showTrialBalance, setShowTrialBalance] = useState(false);\r\n//   const [newEntry, setNewEntry] = useState({\r\n//     date: new Date().toISOString().split('T')[0],\r\n//     description: '',\r\n//     reference: '',\r\n//     entries: [\r\n//       { accountId: '', debit: 0, credit: 0, description: '' },\r\n//       { accountId: '', debit: 0, credit: 0, description: '' }\r\n//     ]\r\n//   });\r\n\r\n//   // Sample Chart of Accounts\r\n//   const chartOfAccounts = [\r\n//     { id: '1111', code: '1111', name: 'Petty Cash', type: 'assets' },\r\n//     { id: '1112', code: '1112', name: 'Bank - Main Account', type: 'assets' },\r\n//     { id: '1120', code: '1120', name: 'Accounts Receivable', type: 'assets' },\r\n//     { id: '1130', code: '1130', name: 'Inventory', type: 'assets' },\r\n//     { id: '2110', code: '2110', name: 'Accounts Payable', type: 'liabilities' },\r\n//     { id: '2130', code: '2130', name: 'Sales Tax Payable', type: 'liabilities' },\r\n//     { id: '4100', code: '4100', name: 'Sales Revenue - Medical', type: 'revenue' },\r\n//     { id: '5100', code: '5100', name: 'Cost of Goods Sold', type: 'expenses' },\r\n//     { id: '5200', code: '5200', name: 'Purchase Expenses', type: 'expenses' },\r\n//     { id: '5210', code: '5210', name: 'Office Supplies', type: 'expenses' }\r\n//   ];\r\n\r\n//   useEffect(() => {\r\n//     setAccounts(chartOfAccounts);\r\n//     loadSampleJournalEntries();\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     filterEntries();\r\n//   }, [journalEntries, filters]);\r\n\r\n//   const loadSampleJournalEntries = () => {\r\n//     const sampleEntries = [\r\n//       {\r\n//         id: 'JE001',\r\n//         date: '2025-01-15',\r\n//         description: 'POS Sale #POS001 - Medical products',\r\n//         reference: 'POS001',\r\n//         transactionType: 'automatic',\r\n//         source: 'POS',\r\n//         status: 'posted',\r\n//         entries: [\r\n//           { accountId: '1111', accountName: 'Petty Cash', debit: 60.50, credit: 0, description: 'Cash received from customer' },\r\n//           { accountId: '4100', accountName: 'Sales Revenue - Medical', debit: 0, credit: 55.00, description: 'Revenue from medical products' },\r\n//           { accountId: '2130', accountName: 'Sales Tax Payable', debit: 0, credit: 5.50, description: 'Sales tax collected' },\r\n//           { accountId: '5100', accountName: 'Cost of Goods Sold', debit: 33.00, credit: 0, description: 'Cost of products sold' },\r\n//           { accountId: '1130', accountName: 'Inventory', debit: 0, credit: 33.00, description: 'Inventory reduction' }\r\n//         ],\r\n//         totalDebit: 93.50,\r\n//         totalCredit: 93.50,\r\n//         createdAt: '2025-01-15T10:30:00Z'\r\n//       },\r\n//       {\r\n//         id: 'JE002',\r\n//         date: '2025-01-14',\r\n//         description: 'Purchase Order #PO002 - Medical inventory',\r\n//         reference: 'PO002',\r\n//         transactionType: 'automatic',\r\n//         source: 'Purchase',\r\n//         status: 'posted',\r\n//         entries: [\r\n//           { accountId: '1130', accountName: 'Inventory', debit: 350.00, credit: 0, description: 'Medical products purchased' },\r\n//           { accountId: '2110', accountName: 'Accounts Payable', debit: 0, credit: 350.00, description: 'Amount owed to Medical Supply Co.' }\r\n//         ],\r\n//         totalDebit: 350.00,\r\n//         totalCredit: 350.00,\r\n//         createdAt: '2025-01-14T14:20:00Z'\r\n//       },\r\n//       {\r\n//         id: 'JE003',\r\n//         date: '2025-01-13',\r\n//         description: 'Manual adjustment - Inventory count variance',\r\n//         reference: 'ADJ001',\r\n//         transactionType: 'manual',\r\n//         source: 'Manual',\r\n//         status: 'posted',\r\n//         entries: [\r\n//           { accountId: '1130', accountName: 'Inventory', debit: 25.00, credit: 0, description: 'Inventory adjustment - undercount' },\r\n//           { accountId: '5200', accountName: 'Purchase Expenses', debit: 0, credit: 25.00, description: 'Adjustment to purchase variance' }\r\n//         ],\r\n//         totalDebit: 25.00,\r\n//         totalCredit: 25.00,\r\n//         createdAt: '2025-01-13T16:45:00Z'\r\n//       },\r\n//       {\r\n//         id: 'JE004',\r\n//         date: '2025-01-15',\r\n//         description: 'POS Sale #POS002 - Medical products',\r\n//         reference: 'POS002',\r\n//         transactionType: 'automatic',\r\n//         source: 'POS',\r\n//         status: 'posted',\r\n//         entries: [\r\n//           { accountId: '1112', accountName: 'Bank - Main Account', debit: 85.00, credit: 0, description: 'Card payment received' },\r\n//           { accountId: '4100', accountName: 'Sales Revenue - Medical', debit: 0, credit: 77.27, description: 'Revenue from medical products' },\r\n//           { accountId: '2130', accountName: 'Sales Tax Payable', debit: 0, credit: 7.73, description: 'Sales tax collected' },\r\n//           { accountId: '5100', accountName: 'Cost of Goods Sold', debit: 46.36, credit: 0, description: 'Cost of products sold' },\r\n//           { accountId: '1130', accountName: 'Inventory', debit: 0, credit: 46.36, description: 'Inventory reduction' }\r\n//         ],\r\n//         totalDebit: 131.36,\r\n//         totalCredit: 131.36,\r\n//         createdAt: '2025-01-15T15:20:00Z'\r\n//       }\r\n//     ];\r\n\r\n//     setJournalEntries(sampleEntries);\r\n//   };\r\n\r\n//   const filterEntries = () => {\r\n//     let filtered = [...journalEntries];\r\n\r\n//     if (filters.dateFrom) {\r\n//       filtered = filtered.filter(entry => entry.date >= filters.dateFrom);\r\n//     }\r\n//     if (filters.dateTo) {\r\n//       filtered = filtered.filter(entry => entry.date <= filters.dateTo);\r\n//     }\r\n//     if (filters.accountId) {\r\n//       filtered = filtered.filter(entry => \r\n//         entry.entries.some(e => e.accountId === filters.accountId)\r\n//       );\r\n//     }\r\n//     if (filters.transactionType !== 'all') {\r\n//       filtered = filtered.filter(entry => entry.transactionType === filters.transactionType);\r\n//     }\r\n//     if (filters.searchTerm) {\r\n//       const term = filters.searchTerm.toLowerCase();\r\n//       filtered = filtered.filter(entry => \r\n//         entry.description.toLowerCase().includes(term) ||\r\n//         entry.reference.toLowerCase().includes(term) ||\r\n//         entry.entries.some(e => e.description.toLowerCase().includes(term))\r\n//       );\r\n//     }\r\n\r\n//     setFilteredEntries(filtered);\r\n//   };\r\n\r\n//   const generateTrialBalance = () => {\r\n//     const balances = {};\r\n    \r\n//     // Initialize all accounts\r\n//     chartOfAccounts.forEach(account => {\r\n//       balances[account.id] = {\r\n//         accountId: account.id,\r\n//         accountCode: account.code,\r\n//         accountName: account.name,\r\n//         accountType: account.type,\r\n//         debit: 0,\r\n//         credit: 0,\r\n//         balance: 0\r\n//       };\r\n//     });\r\n\r\n//     // Calculate balances from journal entries\r\n//     journalEntries.forEach(entry => {\r\n//       if (entry.status === 'posted') {\r\n//         entry.entries.forEach(entryLine => {\r\n//           if (balances[entryLine.accountId]) {\r\n//             balances[entryLine.accountId].debit += entryLine.debit;\r\n//             balances[entryLine.accountId].credit += entryLine.credit;\r\n//           }\r\n//         });\r\n//       }\r\n//     });\r\n\r\n//     // Calculate net balances\r\n//     Object.values(balances).forEach(account => {\r\n//       if (account.accountType === 'assets' || account.accountType === 'expenses') {\r\n//         account.balance = account.debit - account.credit;\r\n//       } else {\r\n//         account.balance = account.credit - account.debit;\r\n//       }\r\n//     });\r\n\r\n//     const trialBalanceData = Object.values(balances)\r\n//       .filter(account => account.debit !== 0 || account.credit !== 0)\r\n//       .sort((a, b) => a.accountCode.localeCompare(b.accountCode));\r\n\r\n//     setTrialBalance(trialBalanceData);\r\n//     setShowTrialBalance(true);\r\n//   };\r\n\r\n//   const addEntryLine = () => {\r\n//     setNewEntry({\r\n//       ...newEntry,\r\n//       entries: [...newEntry.entries, { accountId: '', debit: 0, credit: 0, description: '' }]\r\n//     });\r\n//   };\r\n\r\n//   const removeEntryLine = (index) => {\r\n//     if (newEntry.entries.length > 2) {\r\n//       const updatedEntries = newEntry.entries.filter((_, i) => i !== index);\r\n//       setNewEntry({ ...newEntry, entries: updatedEntries });\r\n//     }\r\n//   };\r\n\r\n//   const updateEntryLine = (index, field, value) => {\r\n//     const updatedEntries = [...newEntry.entries];\r\n//     updatedEntries[index] = { ...updatedEntries[index], [field]: value };\r\n//     setNewEntry({ ...newEntry, entries: updatedEntries });\r\n//   };\r\n\r\n//   const calculateTotals = (entries) => {\r\n//     const totalDebit = entries.reduce((sum, entry) => sum + (parseFloat(entry.debit) || 0), 0);\r\n//     const totalCredit = entries.reduce((sum, entry) => sum + (parseFloat(entry.credit) || 0), 0);\r\n//     return { totalDebit, totalCredit };\r\n//   };\r\n\r\n//   const isBalanced = (entries) => {\r\n//     const { totalDebit, totalCredit } = calculateTotals(entries);\r\n//     return Math.abs(totalDebit - totalCredit) < 0.01;\r\n//   };\r\n\r\n//   const saveJournalEntry = () => {\r\n//     if (!newEntry.description || !newEntry.entries.every(e => e.accountId)) {\r\n//       alert('Please fill in all required fields');\r\n//       return;\r\n//     }\r\n\r\n//     if (!isBalanced(newEntry.entries)) {\r\n//       alert('Journal entry must be balanced - total debits must equal total credits');\r\n//       return;\r\n//     }\r\n\r\n//     const { totalDebit, totalCredit } = calculateTotals(newEntry.entries);\r\n    \r\n//     // Add account names to entries\r\n//     const entriesWithNames = newEntry.entries.map(entry => ({\r\n//       ...entry,\r\n//       accountName: accounts.find(acc => acc.id === entry.accountId)?.name || '',\r\n//       debit: parseFloat(entry.debit) || 0,\r\n//       credit: parseFloat(entry.credit) || 0\r\n//     }));\r\n\r\n//     const journalEntry = {\r\n//       id: `JE${String(journalEntries.length + 1).padStart(3, '0')}`,\r\n//       date: newEntry.date,\r\n//       description: newEntry.description,\r\n//       reference: newEntry.reference || `MAN${Date.now()}`,\r\n//       transactionType: 'manual',\r\n//       source: 'Manual',\r\n//       status: 'posted',\r\n//       entries: entriesWithNames,\r\n//       totalDebit,\r\n//       totalCredit,\r\n//       createdAt: new Date().toISOString()\r\n//     };\r\n\r\n//     setJournalEntries([...journalEntries, journalEntry]);\r\n    \r\n//     // Reset form\r\n//     setNewEntry({\r\n//       date: new Date().toISOString().split('T')[0],\r\n//       description: '',\r\n//       reference: '',\r\n//       entries: [\r\n//         { accountId: '', debit: 0, credit: 0, description: '' },\r\n//         { accountId: '', debit: 0, credit: 0, description: '' }\r\n//       ]\r\n//     });\r\n//     setIsAddingEntry(false);\r\n//   };\r\n\r\n//   const getAccountName = (accountId) => {\r\n//     const account = accounts.find(acc => acc.id === accountId);\r\n//     return account ? `${account.code} - ${account.name}` : '';\r\n//   };\r\n\r\n//   const { totalDebit, totalCredit } = calculateTotals(newEntry.entries);\r\n//   const entryIsBalanced = isBalanced(newEntry.entries);\r\n\r\n//   return (\r\n//     <div className=\"max-w-7xl mx-auto p-6 bg-white\">\r\n//       {/* Header */}\r\n//       <div className=\"mb-8\">\r\n//         <h1 className=\"text-3xl font-bold text-gray-900 mb-2 flex items-center\">\r\n//           <Book className=\"mr-3 text-emerald-600\" />\r\n//           General Ledger\r\n//         </h1>\r\n//         <p className=\"text-gray-600\">Real-time transaction recording and journal entry management</p>\r\n//       </div>\r\n\r\n//       {/* Quick Stats */}\r\n//       <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n//         <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\r\n//           <div className=\"flex items-center justify-between\">\r\n//             <div>\r\n//               <p className=\"text-blue-600 text-sm font-medium\">Total Entries</p>\r\n//               <p className=\"text-2xl font-bold text-blue-900\">{journalEntries.length}</p>\r\n//             </div>\r\n//             <FileText className=\"text-blue-600\" size={24} />\r\n//           </div>\r\n//         </div>\r\n\r\n//         <div className=\"bg-green-50 p-4 rounded-lg border border-green-200\">\r\n//           <div className=\"flex items-center justify-between\">\r\n//             <div>\r\n//               <p className=\"text-green-600 text-sm font-medium\">Automatic Entries</p>\r\n//               <p className=\"text-2xl font-bold text-green-900\">\r\n//                 {journalEntries.filter(e => e.transactionType === 'automatic').length}\r\n//               </p>\r\n//             </div>\r\n//             <TrendingUp className=\"text-green-600\" size={24} />\r\n//           </div>\r\n//         </div>\r\n\r\n//         <div className=\"bg-orange-50 p-4 rounded-lg border border-orange-200\">\r\n//           <div className=\"flex items-center justify-between\">\r\n//             <div>\r\n//               <p className=\"text-orange-600 text-sm font-medium\">Manual Entries</p>\r\n//               <p className=\"text-2xl font-bold text-orange-900\">\r\n//                 {journalEntries.filter(e => e.transactionType === 'manual').length}\r\n//               </p>\r\n//             </div>\r\n//             <Edit className=\"text-orange-600\" size={24} />\r\n//           </div>\r\n//         </div>\r\n\r\n//         <div className=\"bg-purple-50 p-4 rounded-lg border border-purple-200\">\r\n//           <div className=\"flex items-center justify-between\">\r\n//             <div>\r\n//               <p className=\"text-purple-600 text-sm font-medium\">Total Value</p>\r\n//               <p className=\"text-2xl font-bold text-purple-900\">\r\n//                 ${journalEntries.reduce((sum, entry) => sum + entry.totalDebit, 0).toFixed(2)}\r\n//               </p>\r\n//             </div>\r\n//             <DollarSign className=\"text-purple-600\" size={24} />\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Controls */}\r\n//       <div className=\"flex flex-wrap items-center justify-between gap-4 mb-6\">\r\n//         <div className=\"flex flex-wrap items-center gap-4\">\r\n//           {/* Date Filters */}\r\n//           <div className=\"flex items-center space-x-2\">\r\n//             <Calendar size={16} className=\"text-gray-400\" />\r\n//             <input\r\n//               type=\"date\"\r\n//               value={filters.dateFrom}\r\n//               onChange={(e) => setFilters({ ...filters, dateFrom: e.target.value })}\r\n//               className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n//               placeholder=\"From\"\r\n//             />\r\n//             <span className=\"text-gray-500\">to</span>\r\n//             <input\r\n//               type=\"date\"\r\n//               value={filters.dateTo}\r\n//               onChange={(e) => setFilters({ ...filters, dateTo: e.target.value })}\r\n//               className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n//               placeholder=\"To\"\r\n//             />\r\n//           </div>\r\n\r\n//           {/* Account Filter */}\r\n//           <div className=\"relative\">\r\n//             <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\r\n//             <select\r\n//               value={filters.accountId}\r\n//               onChange={(e) => setFilters({ ...filters, accountId: e.target.value })}\r\n//               className=\"pl-10 pr-8 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n//             >\r\n//               <option value=\"\">All Accounts</option>\r\n//               {accounts.map(account => (\r\n//                 <option key={account.id} value={account.id}>\r\n//                   {account.code} - {account.name}\r\n//                 </option>\r\n//               ))}\r\n//             </select>\r\n//           </div>\r\n\r\n//           {/* Transaction Type Filter */}\r\n//           <select\r\n//             value={filters.transactionType}\r\n//             onChange={(e) => setFilters({ ...filters, transactionType: e.target.value })}\r\n//             className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n//           >\r\n//             <option value=\"all\">All Types</option>\r\n//             <option value=\"automatic\">Automatic</option>\r\n//             <option value=\"manual\">Manual</option>\r\n//           </select>\r\n\r\n//           {/* Search */}\r\n//           <div className=\"relative\">\r\n//             <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\r\n//             <input\r\n//               type=\"text\"\r\n//               placeholder=\"Search entries...\"\r\n//               value={filters.searchTerm}\r\n//               onChange={(e) => setFilters({ ...filters, searchTerm: e.target.value })}\r\n//               className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n//             />\r\n//           </div>\r\n//         </div>\r\n\r\n//         <div className=\"flex space-x-3\">\r\n//           <button\r\n//             onClick={() => setIsAddingEntry(true)}\r\n//             className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 flex items-center space-x-2\"\r\n//           >\r\n//             <Plus size={16} />\r\n//             <span>Add Entry</span>\r\n//           </button>\r\n//           <button\r\n//             onClick={generateTrialBalance}\r\n//             className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\r\n//           >\r\n//             <FileText size={16} />\r\n//             <span>Trial Balance</span>\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Journal Entry Form */}\r\n//       {isAddingEntry && (\r\n//         <div className=\"mb-8 p-6 bg-gray-50 rounded-lg border\">\r\n//           <h3 className=\"text-lg font-semibold mb-4\">Add Manual Journal Entry</h3>\r\n          \r\n//           <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date *</label>\r\n//               <input\r\n//                 type=\"date\"\r\n//                 value={newEntry.date}\r\n//                 onChange={(e) => setNewEntry({ ...newEntry, date: e.target.value })}\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n//               />\r\n//             </div>\r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description *</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEntry.description}\r\n//                 onChange={(e) => setNewEntry({ ...newEntry, description: e.target.value })}\r\n//                 placeholder=\"Enter description\"\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n//               />\r\n//             </div>\r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">Reference</label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={newEntry.reference}\r\n//                 onChange={(e) => setNewEntry({ ...newEntry, reference: e.target.value })}\r\n//                 placeholder=\"Reference number\"\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n//               />\r\n//             </div>\r\n//           </div>\r\n\r\n//           {/* Entry Lines */}\r\n//           <div className=\"mb-4\">\r\n//             <label className=\"block text-sm font-medium text-gray-700 mb-2\">Journal Entry Lines</label>\r\n//             <div className=\"space-y-3\">\r\n//               {newEntry.entries.map((entry, index) => (\r\n//                 <div key={index} className=\"grid grid-cols-12 gap-2 items-center bg-white p-3 rounded border\">\r\n//                   <div className=\"col-span-4\">\r\n//                     <select\r\n//                       value={entry.accountId}\r\n//                       onChange={(e) => updateEntryLine(index, 'accountId', e.target.value)}\r\n//                       className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\r\n//                     >\r\n//                       <option value=\"\">Select Account</option>\r\n//                       {accounts.map(account => (\r\n//                         <option key={account.id} value={account.id}>\r\n//                           {account.code} - {account.name}\r\n//                         </option>\r\n//                       ))}\r\n//                     </select>\r\n//                   </div>\r\n//                   <div className=\"col-span-3\">\r\n//                     <input\r\n//                       type=\"text\"\r\n//                       value={entry.description}\r\n//                       onChange={(e) => updateEntryLine(index, 'description', e.target.value)}\r\n//                       placeholder=\"Description\"\r\n//                       className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\r\n//                     />\r\n//                   </div>\r\n//                   <div className=\"col-span-2\">\r\n//                     <input\r\n//                       type=\"number\"\r\n//                       step=\"0.01\"\r\n//                       value={entry.debit}\r\n//                       onChange={(e) => updateEntryLine(index, 'debit', e.target.value)}\r\n//                       placeholder=\"Debit\"\r\n//                       className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\r\n//                     />\r\n//                   </div>\r\n//                   <div className=\"col-span-2\">\r\n//                     <input\r\n//                       type=\"number\"\r\n//                       step=\"0.01\"\r\n//                       value={entry.credit}\r\n//                       onChange={(e) => updateEntryLine(index, 'credit', e.target.value)}\r\n//                       placeholder=\"Credit\"\r\n//                       className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\r\n//                     />\r\n//                   </div>\r\n//                   <div className=\"col-span-1\">\r\n//                     {newEntry.entries.length > 2 && (\r\n//                       <button\r\n//                         onClick={() => removeEntryLine(index)}\r\n//                         className=\"p-1 text-red-600 hover:bg-red-100 rounded\"\r\n//                       >\r\n//                         <Trash2 size={14} />\r\n//                       </button>\r\n//                     )}\r\n//                   </div>\r\n//                 </div>\r\n//               ))}\r\n//             </div>\r\n\r\n//             <div className=\"flex justify-between items-center mt-3\">\r\n//               <button\r\n//                 onClick={addEntryLine}\r\n//                 className=\"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 flex items-center space-x-1\"\r\n//               >\r\n//                 <Plus size={14} />\r\n//                 <span>Add Line</span>\r\n//               </button>\r\n\r\n//               <div className=\"flex items-center space-x-4\">\r\n//                 <div className=\"text-sm\">\r\n//                   <span className=\"font-medium\">Total Debit: ${totalDebit.toFixed(2)}</span>\r\n//                   <span className=\"mx-2\">|</span>\r\n//                   <span className=\"font-medium\">Total Credit: ${totalCredit.toFixed(2)}</span>\r\n//                 </div>\r\n//                 {entryIsBalanced ? (\r\n//                   <div className=\"flex items-center text-green-600\">\r\n//                     <CheckCircle size={16} className=\"mr-1\" />\r\n//                     <span className=\"text-sm\">Balanced</span>\r\n//                   </div>\r\n//                 ) : (\r\n//                   <div className=\"flex items-center text-red-600\">\r\n//                     <AlertCircle size={16} className=\"mr-1\" />\r\n//                     <span className=\"text-sm\">Not Balanced</span>\r\n//                   </div>\r\n//                 )}\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n\r\n//           <div className=\"flex space-x-3\">\r\n//             <button\r\n//               onClick={saveJournalEntry}\r\n//               disabled={!entryIsBalanced}\r\n//               className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-gray-400 flex items-center space-x-2\"\r\n//             >\r\n//               <Save size={16} />\r\n//               <span>Save Entry</span>\r\n//             </button>\r\n//             <button\r\n//               onClick={() => setIsAddingEntry(false)}\r\n//               className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center space-x-2\"\r\n//             >\r\n//               <X size={16} />\r\n//               <span>Cancel</span>\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Journal Entries Table */}\r\n//       <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\r\n//         <div className=\"px-6 py-4 border-b border-gray-200\">\r\n//           <h2 className=\"text-lg font-semibold text-gray-900\">Journal Entries</h2>\r\n//           <p className=\"text-sm text-gray-600 mt-1\">\r\n//             Showing {filteredEntries.length} of {journalEntries.length} entries\r\n//           </p>\r\n//         </div>\r\n\r\n//         <div className=\"overflow-x-auto\">\r\n//           <table className=\"w-full\">\r\n//             <thead className=\"bg-gray-50\">\r\n//               <tr>\r\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                   Entry ID\r\n//                 </th>\r\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                   Date\r\n//                 </th>\r\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                   Description\r\n//                 </th>\r\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                   Reference\r\n//                 </th>\r\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                   Source\r\n//                 </th>\r\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                   Amount\r\n//                 </th>\r\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                   Status\r\n//                 </th>\r\n//                 <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                   Actions\r\n//                 </th>\r\n//               </tr>\r\n//             </thead>\r\n//             <tbody className=\"bg-white divide-y divide-gray-200\">\r\n//               {filteredEntries.map((entry) => (\r\n//                 <tr key={entry.id} className=\"hover:bg-gray-50\">\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n//                     {entry.id}\r\n//                   </td>\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n//                     {entry.date}\r\n//                   </td>\r\n//                   <td className=\"px-6 py-4 text-sm text-gray-900 max-w-xs truncate\">\r\n//                     {entry.description}\r\n//                   </td>\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n//                     {entry.reference}\r\n//                   </td>\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap\">\r\n//                     <span className={`px-2 py-1 text-xs font-medium rounded-full ${\r\n//                       entry.transactionType === 'automatic' ? 'bg-green-100 text-green-800' : 'bg-orange-100 text-orange-800'\r\n//                     }`}>\r\n//                       {entry.source}\r\n//                     </span>\r\n//                   </td>\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n//                     ${entry.totalDebit.toFixed(2)}\r\n//                   </td>\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap\">\r\n//                     <span className={`px-2 py-1 text-xs font-medium rounded-full ${\r\n//                       entry.status === 'posted' ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800'\r\n//                     }`}>\r\n//                       {entry.status}\r\n//                     </span>\r\n//                   </td>\r\n//                   <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n//                     <button\r\n//                       onClick={() => setSelectedEntry(entry)}\r\n//                       className=\"text-emerald-600 hover:text-emerald-900 mr-3\"\r\n//                     >\r\n//                       <Eye size={16} />\r\n//                     </button>\r\n//                   </td>\r\n//                 </tr>\r\n//               ))}\r\n//             </tbody>\r\n//           </table>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Entry Details Modal */}\r\n//       {selectedEntry && (\r\n//         <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n//           <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n//             <div className=\"px-6 py-4 border-b border-gray-200\">\r\n//               <div className=\"flex items-center justify-between\">\r\n//                 <h3 className=\"text-lg font-semibold text-gray-900\">\r\n//                   Journal Entry Details - {selectedEntry.id}\r\n//                 </h3>\r\n//                 <button\r\n//                   onClick={() => setSelectedEntry(null)}\r\n//                   className=\"text-gray-400 hover:text-gray-600\"\r\n//                 >\r\n//                   <X size={20} />\r\n//                 </button>\r\n//               </div>\r\n//             </div>\r\n            \r\n//             <div className=\"px-6 py-4\">\r\n//               {/* Entry Header */}\r\n//               <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n//                 <div>\r\n//                   <label className=\"text-sm font-medium text-gray-500\">Date</label>\r\n//                   <p className=\"text-sm text-gray-900\">{selectedEntry.date}</p>\r\n//                 </div>\r\n//                 <div>\r\n//                   <label className=\"text-sm font-medium text-gray-500\">Reference</label>\r\n//                   <p className=\"text-sm text-gray-900\">{selectedEntry.reference}</p>\r\n//                 </div>\r\n//                 <div>\r\n//                   <label className=\"text-sm font-medium text-gray-500\">Description</label>\r\n//                   <p className=\"text-sm text-gray-900\">{selectedEntry.description}</p>\r\n//                 </div>\r\n//                 <div>\r\n//                   <label className=\"text-sm font-medium text-gray-500\">Source</label>\r\n//                   <span className={`px-2 py-1 text-xs font-medium rounded-full ${\r\n//                     selectedEntry.transactionType === 'automatic' ? 'bg-green-100 text-green-800' : 'bg-orange-100 text-orange-800'\r\n//                   }`}>\r\n//                     {selectedEntry.source}\r\n//                   </span>\r\n//                 </div>\r\n//               </div>\r\n\r\n//               {/* Entry Lines */}\r\n//               <div className=\"mb-6\">\r\n//                 <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Account Entries</h4>\r\n//                 <div className=\"overflow-x-auto\">\r\n//                   <table className=\"w-full border border-gray-200 rounded\">\r\n//                     <thead className=\"bg-gray-50\">\r\n//                       <tr>\r\n//                         <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Account</th>\r\n//                         <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Description</th>\r\n//                         <th className=\"px-4 py-2 text-right text-xs font-medium text-gray-500\">Debit</th>\r\n//                         <th className=\"px-4 py-2 text-right text-xs font-medium text-gray-500\">Credit</th>\r\n//                       </tr>\r\n//                     </thead>\r\n//                     <tbody className=\"divide-y divide-gray-200\">\r\n//                       {selectedEntry.entries.map((entryLine, index) => (\r\n//                         <tr key={index}>\r\n//                           <td className=\"px-4 py-2 text-sm text-gray-900\">\r\n//                             {getAccountName(entryLine.accountId)}\r\n//                           </td>\r\n//                           <td className=\"px-4 py-2 text-sm text-gray-600\">\r\n//                             {entryLine.description}\r\n//                           </td>\r\n//                           <td className=\"px-4 py-2 text-sm text-gray-900 text-right\">\r\n//                             {entryLine.debit > 0 ? `${entryLine.debit.toFixed(2)}` : '-'}\r\n//                           </td>\r\n//                           <td className=\"px-4 py-2 text-sm text-gray-900 text-right\">\r\n//                             {entryLine.credit > 0 ? `${entryLine.credit.toFixed(2)}` : '-'}\r\n//                           </td>\r\n//                         </tr>\r\n//                       ))}\r\n//                     </tbody>\r\n//                     <tfoot className=\"bg-gray-50\">\r\n//                       <tr>\r\n//                         <td colSpan=\"2\" className=\"px-4 py-2 text-sm font-medium text-gray-900\">\r\n//                           Totals:\r\n//                         </td>\r\n//                         <td className=\"px-4 py-2 text-sm font-bold text-gray-900 text-right\">\r\n//                           ${selectedEntry.totalDebit.toFixed(2)}\r\n//                         </td>\r\n//                         <td className=\"px-4 py-2 text-sm font-bold text-gray-900 text-right\">\r\n//                           ${selectedEntry.totalCredit.toFixed(2)}\r\n//                         </td>\r\n//                       </tr>\r\n//                     </tfoot>\r\n//                   </table>\r\n//                 </div>\r\n//               </div>\r\n\r\n//               {/* Entry Metadata */}\r\n//               <div className=\"text-xs text-gray-500\">\r\n//                 <p>Created: {new Date(selectedEntry.createdAt).toLocaleString()}</p>\r\n//                 <p>Status: {selectedEntry.status}</p>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Trial Balance Modal */}\r\n//       {showTrialBalance && (\r\n//         <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n//           <div className=\"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto\">\r\n//             <div className=\"px-6 py-4 border-b border-gray-200\">\r\n//               <div className=\"flex items-center justify-between\">\r\n//                 <h3 className=\"text-lg font-semibold text-gray-900\">\r\n//                   Trial Balance - As of {new Date().toLocaleDateString()}\r\n//                 </h3>\r\n//                 <div className=\"flex items-center space-x-2\">\r\n//                   <button\r\n//                     onClick={() => {\r\n//                       // Export functionality would go here\r\n//                       alert('Export functionality would be implemented here');\r\n//                     }}\r\n//                     className=\"px-3 py-1 bg-emerald-600 text-white rounded text-sm hover:bg-emerald-700 flex items-center space-x-1\"\r\n//                   >\r\n//                     <Download size={14} />\r\n//                     <span>Export</span>\r\n//                   </button>\r\n//                   <button\r\n//                     onClick={() => setShowTrialBalance(false)}\r\n//                     className=\"text-gray-400 hover:text-gray-600\"\r\n//                   >\r\n//                     <X size={20} />\r\n//                   </button>\r\n//                 </div>\r\n//               </div>\r\n//             </div>\r\n            \r\n//             <div className=\"px-6 py-4\">\r\n//               <div className=\"overflow-x-auto\">\r\n//                 <table className=\"w-full\">\r\n//                   <thead className=\"bg-gray-50\">\r\n//                     <tr>\r\n//                       <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                         Account Code\r\n//                       </th>\r\n//                       <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                         Account Name\r\n//                       </th>\r\n//                       <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                         Type\r\n//                       </th>\r\n//                       <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                         Debit Total\r\n//                       </th>\r\n//                       <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                         Credit Total\r\n//                       </th>\r\n//                       <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n//                         Balance\r\n//                       </th>\r\n//                     </tr>\r\n//                   </thead>\r\n//                   <tbody className=\"bg-white divide-y divide-gray-200\">\r\n//                     {trialBalance.map((account) => (\r\n//                       <tr key={account.accountId}>\r\n//                         <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n//                           {account.accountCode}\r\n//                         </td>\r\n//                         <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n//                           {account.accountName}\r\n//                         </td>\r\n//                         <td className=\"px-4 py-4 whitespace-nowrap\">\r\n//                           <span className={`px-2 py-1 text-xs font-medium rounded-full ${\r\n//                             account.accountType === 'assets' ? 'bg-green-100 text-green-800' :\r\n//                             account.accountType === 'liabilities' ? 'bg-red-100 text-red-800' :\r\n//                             account.accountType === 'equity' ? 'bg-blue-100 text-blue-800' :\r\n//                             account.accountType === 'revenue' ? 'bg-purple-100 text-purple-800' :\r\n//                             'bg-orange-100 text-orange-800'\r\n//                           }`}>\r\n//                             {account.accountType}\r\n//                           </span>\r\n//                         </td>\r\n//                         <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\r\n//                           ${account.debit.toFixed(2)}\r\n//                         </td>\r\n//                         <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\r\n//                           ${account.credit.toFixed(2)}\r\n//                         </td>\r\n//                         <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-right\">\r\n//                           <span className={account.balance >= 0 ? 'text-green-600' : 'text-red-600'}>\r\n//                             ${Math.abs(account.balance).toFixed(2)}\r\n//                             {account.balance < 0 && ' (CR)'}\r\n//                           </span>\r\n//                         </td>\r\n//                       </tr>\r\n//                     ))}\r\n//                   </tbody>\r\n//                   <tfoot className=\"bg-gray-50\">\r\n//                     <tr>\r\n//                       <td colSpan=\"3\" className=\"px-4 py-3 text-sm font-bold text-gray-900\">\r\n//                         TOTALS:\r\n//                       </td>\r\n//                       <td className=\"px-4 py-3 text-sm font-bold text-gray-900 text-right\">\r\n//                         ${trialBalance.reduce((sum, acc) => sum + acc.debit, 0).toFixed(2)}\r\n//                       </td>\r\n//                       <td className=\"px-4 py-3 text-sm font-bold text-gray-900 text-right\">\r\n//                         ${trialBalance.reduce((sum, acc) => sum + acc.credit, 0).toFixed(2)}\r\n//                       </td>\r\n//                       <td className=\"px-4 py-3 text-sm font-bold text-gray-900 text-right\">\r\n//                         ${Math.abs(trialBalance.reduce((sum, acc) => sum + acc.balance, 0)).toFixed(2)}\r\n//                       </td>\r\n//                     </tr>\r\n//                   </tfoot>\r\n//                 </table>\r\n//               </div>\r\n              \r\n//               {/* Trial Balance Validation */}\r\n//               <div className=\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n//                 <div className=\"flex items-center\">\r\n//                   <CheckCircle className=\"text-green-600 mr-2\" size={20} />\r\n//                   <div>\r\n//                     <h4 className=\"font-medium text-green-800\">Trial Balance is Balanced</h4>\r\n//                     <p className=\"text-sm text-green-700\">\r\n//                       Total Debits = Total Credits = ${trialBalance.reduce((sum, acc) => sum + acc.debit, 0).toFixed(2)}\r\n//                     </p>\r\n//                   </div>\r\n//                 </div>\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Integration Status */}\r\n//       <div className=\"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n//         <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n//           <div className=\"flex items-center mb-2\">\r\n//             <CheckCircle className=\"text-green-600 mr-2\" size={16} />\r\n//             <h4 className=\"font-medium text-green-800\">POS Integration</h4>\r\n//           </div>\r\n//           <p className=\"text-sm text-green-700\">\r\n//             All sales transactions automatically create journal entries\r\n//           </p>\r\n//         </div>\r\n\r\n//         <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n//           <div className=\"flex items-center mb-2\">\r\n//             <CheckCircle className=\"text-green-600 mr-2\" size={16} />\r\n//             <h4 className=\"font-medium text-green-800\">Purchase Integration</h4>\r\n//           </div>\r\n//           <p className=\"text-sm text-green-700\">\r\n//             Purchase orders automatically update accounts payable and inventory\r\n//           </p>\r\n//         </div>\r\n\r\n//         <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n//           <div className=\"flex items-center mb-2\">\r\n//             <FileText className=\"text-blue-600 mr-2\" size={16} />\r\n//             <h4 className=\"font-medium text-blue-800\">Manual Entries</h4>\r\n//           </div>\r\n//           <p className=\"text-sm text-blue-700\">\r\n//             Add adjustments and corrections with full validation\r\n//           </p>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default GeneralLedger;\r\n\r\n\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { \r\n  Book, \r\n  Plus, \r\n  Filter, \r\n  Search, \r\n  Calendar, \r\n  FileText, \r\n  Edit, \r\n  Trash2, \r\n  Save, \r\n  X, \r\n  AlertCircle,\r\n  CheckCircle,\r\n  DollarSign,\r\n  TrendingUp,\r\n  Eye,\r\n  Download,\r\n  RefreshCw\r\n} from 'lucide-react';\r\n\r\nconst GeneralLedger = () => {\r\n  const [journalEntries, setJournalEntries] = useState([]);\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [filteredEntries, setFilteredEntries] = useState([]);\r\n  const [selectedEntry, setSelectedEntry] = useState(null);\r\n  const [isAddingEntry, setIsAddingEntry] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [filters, setFilters] = useState({\r\n    dateFrom: '',\r\n    dateTo: '',\r\n    accountId: '',\r\n    transactionType: 'all',\r\n    searchTerm: ''\r\n  });\r\n  const [trialBalance, setTrialBalance] = useState([]);\r\n  const [showTrialBalance, setShowTrialBalance] = useState(false);\r\n  const [newEntry, setNewEntry] = useState({\r\n    date: new Date().toISOString().split('T')[0],\r\n    description: '',\r\n    reference: '',\r\n    entries: [\r\n      { accountId: '', debit: 0, credit: 0, description: '' },\r\n      { accountId: '', debit: 0, credit: 0, description: '' }\r\n    ]\r\n  });\r\n\r\n  // Chart of Accounts\r\n  const chartOfAccounts = [\r\n    { id: '1111', code: '1111', name: 'Petty Cash', type: 'assets' },\r\n    { id: '1112', code: '1112', name: 'Bank - Main Account', type: 'assets' },\r\n    { id: '1120', code: '1120', name: 'Accounts Receivable', type: 'assets' },\r\n    { id: '1130', code: '1130', name: 'Inventory', type: 'assets' },\r\n    { id: '2110', code: '2110', name: 'Accounts Payable', type: 'liabilities' },\r\n    { id: '2130', code: '2130', name: 'Sales Tax Payable', type: 'liabilities' },\r\n    { id: '4100', code: '4100', name: 'Sales Revenue', type: 'revenue' },\r\n    { id: '4110', code: '4110', name: 'Electronics Sales', type: 'revenue' },\r\n    { id: '5100', code: '5100', name: 'Cost of Goods Sold', type: 'expenses' },\r\n    { id: '5200', code: '5200', name: 'Purchase Expenses', type: 'expenses' }\r\n  ];\r\n\r\n  // API Configuration\r\n  const API_BASE_URL = 'https://api-pos.hulmsolutions.com/POS/accounting2/31fc8df0-61db-41e5-bb67-070fde367ea1/orders?start=0&size=200';\r\n\r\n  useEffect(() => {\r\n    setAccounts(chartOfAccounts);\r\n    loadJournalEntriesFromAPI();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    filterEntries();\r\n  }, [journalEntries, filters]);\r\n\r\n  // Fetch Sales Orders from API and convert to Journal Entries\r\n  const loadJournalEntriesFromAPI = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/orders?start=0&size=200`);\r\n      const salesOrders = await response.json();\r\n      \r\n      // Convert sales orders to journal entries\r\n      const journalEntriesFromSales = salesOrders.map(order => convertSalesOrderToJournalEntry(order));\r\n      \r\n      // Load any manual journal entries from localStorage\r\n      const manualEntries = JSON.parse(localStorage.getItem('manualJournalEntries') || '[]');\r\n      \r\n      // Combine both types of entries\r\n      const allEntries = [...journalEntriesFromSales, ...manualEntries];\r\n      \r\n      setJournalEntries(allEntries);\r\n    } catch (error) {\r\n      console.error('Error loading sales orders:', error);\r\n      // Fallback to sample data if API fails\r\n      loadSampleJournalEntries();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Convert Sales Order to Journal Entry\r\n  const convertSalesOrderToJournalEntry = (order) => {\r\n    const entries = [];\r\n    const subTotal = order.subTotal || 0;\r\n    const taxAmount = order.taxAmount || 0;\r\n    const total = order.total || 0;\r\n    \r\n    // Determine payment method - if paid, assume cash/bank\r\n    if (order.paid && order.status === 'Closed') {\r\n      // Cash/Bank Account (Debit)\r\n      entries.push({\r\n        accountId: '1111', // Petty Cash (assume cash payment)\r\n        accountName: 'Petty Cash',\r\n        debit: total,\r\n        credit: 0,\r\n        description: `Cash received from sale Order #${order.orderId}`\r\n      });\r\n    } else if (!order.paid) {\r\n      // Accounts Receivable (Debit) for unpaid orders\r\n      entries.push({\r\n        accountId: '1120',\r\n        accountName: 'Accounts Receivable',\r\n        debit: total,\r\n        credit: 0,\r\n        description: `Credit sale Order #${order.orderId}`\r\n      });\r\n    }\r\n\r\n    // Sales Revenue (Credit)\r\n    if (subTotal > 0) {\r\n      entries.push({\r\n        accountId: '4110', // Electronics Sales\r\n        accountName: 'Electronics Sales',\r\n        debit: 0,\r\n        credit: subTotal,\r\n        description: `Revenue from Order #${order.orderId}`\r\n      });\r\n    }\r\n\r\n    // Sales Tax Payable (Credit)\r\n    if (taxAmount > 0) {\r\n      entries.push({\r\n        accountId: '2130',\r\n        accountName: 'Sales Tax Payable',\r\n        debit: 0,\r\n        credit: taxAmount,\r\n        description: `Tax collected on Order #${order.orderId}`\r\n      });\r\n    }\r\n\r\n    // Cost of Goods Sold and Inventory reduction\r\n    order.lineItems.forEach(item => {\r\n      const costPrice = item.costPrice || 0;\r\n      const quantity = item.quantity || 0;\r\n      const totalCost = costPrice * quantity;\r\n\r\n      if (totalCost > 0 && order.fulfilled) {\r\n        // Cost of Goods Sold (Debit)\r\n        entries.push({\r\n          accountId: '5100',\r\n          accountName: 'Cost of Goods Sold',\r\n          debit: totalCost,\r\n          credit: 0,\r\n          description: `COGS for ${item.productName}`\r\n        });\r\n\r\n        // Inventory (Credit)\r\n        entries.push({\r\n          accountId: '1130',\r\n          accountName: 'Inventory',\r\n          debit: 0,\r\n          credit: totalCost,\r\n          description: `Inventory reduction - ${item.productName}`\r\n        });\r\n      }\r\n    });\r\n\r\n    // Calculate totals\r\n    const totalDebit = entries.reduce((sum, entry) => sum + entry.debit, 0);\r\n    const totalCredit = entries.reduce((sum, entry) => sum + entry.credit, 0);\r\n\r\n    return {\r\n      id: `JE-ORDER-${order.orderId}`,\r\n      date: formatDateFromCreatedAt(order.createdAt),\r\n      description: `Sales Order #${order.orderId} - ${order.lineItems.map(item => item.productName).join(', ')}`,\r\n      reference: `ORDER-${order.orderId}`,\r\n      transactionType: 'automatic',\r\n      source: 'POS Sales',\r\n      status: order.fulfilled ? 'posted' : 'pending',\r\n      entries: entries,\r\n      totalDebit: Math.round(totalDebit * 100) / 100,\r\n      totalCredit: Math.round(totalCredit * 100) / 100,\r\n      createdAt: order.createdAt,\r\n      originalOrder: order // Keep reference to original order\r\n    };\r\n  };\r\n\r\n  // Format date from API format (2025.08.18.10.08.54.569) to YYYY-MM-DD\r\n  const formatDateFromCreatedAt = (createdAt) => {\r\n    try {\r\n      const parts = createdAt.split('.');\r\n      if (parts.length >= 3) {\r\n        return `${parts[0]}-${parts[1].padStart(2, '0')}-${parts[2].padStart(2, '0')}`;\r\n      }\r\n      return new Date().toISOString().split('T')[0];\r\n    } catch (error) {\r\n      return new Date().toISOString().split('T')[0];\r\n    }\r\n  };\r\n\r\n  // Fallback sample data\r\n  const loadSampleJournalEntries = () => {\r\n    const sampleEntries = [\r\n      {\r\n        id: 'JE001',\r\n        date: '2025-08-18',\r\n        description: 'Sample POS Sale - Medical products',\r\n        reference: 'POS001',\r\n        transactionType: 'automatic',\r\n        source: 'POS',\r\n        status: 'posted',\r\n        entries: [\r\n          { accountId: '1111', accountName: 'Petty Cash', debit: 60.50, credit: 0, description: 'Cash received from customer' },\r\n          { accountId: '4100', accountName: 'Sales Revenue', debit: 0, credit: 55.00, description: 'Revenue from medical products' },\r\n          { accountId: '2130', accountName: 'Sales Tax Payable', debit: 0, credit: 5.50, description: 'Sales tax collected' }\r\n        ],\r\n        totalDebit: 60.50,\r\n        totalCredit: 60.50,\r\n        createdAt: '2025-08-18T10:30:00Z'\r\n      }\r\n    ];\r\n    setJournalEntries(sampleEntries);\r\n  };\r\n\r\n  const filterEntries = () => {\r\n    let filtered = [...journalEntries];\r\n\r\n    if (filters.dateFrom) {\r\n      filtered = filtered.filter(entry => entry.date >= filters.dateFrom);\r\n    }\r\n    if (filters.dateTo) {\r\n      filtered = filtered.filter(entry => entry.date <= filters.dateTo);\r\n    }\r\n    if (filters.accountId) {\r\n      filtered = filtered.filter(entry => \r\n        entry.entries.some(e => e.accountId === filters.accountId)\r\n      );\r\n    }\r\n    if (filters.transactionType !== 'all') {\r\n      filtered = filtered.filter(entry => entry.transactionType === filters.transactionType);\r\n    }\r\n    if (filters.searchTerm) {\r\n      const term = filters.searchTerm.toLowerCase();\r\n      filtered = filtered.filter(entry => \r\n        entry.description.toLowerCase().includes(term) ||\r\n        entry.reference.toLowerCase().includes(term) ||\r\n        entry.entries.some(e => e.description.toLowerCase().includes(term))\r\n      );\r\n    }\r\n\r\n    setFilteredEntries(filtered);\r\n  };\r\n\r\n  const generateTrialBalance = () => {\r\n    const balances = {};\r\n    \r\n    // Initialize all accounts\r\n    chartOfAccounts.forEach(account => {\r\n      balances[account.id] = {\r\n        accountId: account.id,\r\n        accountCode: account.code,\r\n        accountName: account.name,\r\n        accountType: account.type,\r\n        debit: 0,\r\n        credit: 0,\r\n        balance: 0\r\n      };\r\n    });\r\n\r\n    // Calculate balances from journal entries\r\n    journalEntries.forEach(entry => {\r\n      if (entry.status === 'posted') {\r\n        entry.entries.forEach(entryLine => {\r\n          if (balances[entryLine.accountId]) {\r\n            balances[entryLine.accountId].debit += entryLine.debit;\r\n            balances[entryLine.accountId].credit += entryLine.credit;\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    // Calculate net balances\r\n    Object.values(balances).forEach(account => {\r\n      if (account.accountType === 'assets' || account.accountType === 'expenses') {\r\n        account.balance = account.debit - account.credit;\r\n      } else {\r\n        account.balance = account.credit - account.debit;\r\n      }\r\n    });\r\n\r\n    const trialBalanceData = Object.values(balances)\r\n      .filter(account => account.debit !== 0 || account.credit !== 0)\r\n      .sort((a, b) => a.accountCode.localeCompare(b.accountCode));\r\n\r\n    setTrialBalance(trialBalanceData);\r\n    setShowTrialBalance(true);\r\n  };\r\n\r\n  const addEntryLine = () => {\r\n    setNewEntry({\r\n      ...newEntry,\r\n      entries: [...newEntry.entries, { accountId: '', debit: 0, credit: 0, description: '' }]\r\n    });\r\n  };\r\n\r\n  const removeEntryLine = (index) => {\r\n    if (newEntry.entries.length > 2) {\r\n      const updatedEntries = newEntry.entries.filter((_, i) => i !== index);\r\n      setNewEntry({ ...newEntry, entries: updatedEntries });\r\n    }\r\n  };\r\n\r\n  const updateEntryLine = (index, field, value) => {\r\n    const updatedEntries = [...newEntry.entries];\r\n    updatedEntries[index] = { ...updatedEntries[index], [field]: value };\r\n    setNewEntry({ ...newEntry, entries: updatedEntries });\r\n  };\r\n\r\n  const calculateTotals = (entries) => {\r\n    const totalDebit = entries.reduce((sum, entry) => sum + (parseFloat(entry.debit) || 0), 0);\r\n    const totalCredit = entries.reduce((sum, entry) => sum + (parseFloat(entry.credit) || 0), 0);\r\n    return { totalDebit, totalCredit };\r\n  };\r\n\r\n  const isBalanced = (entries) => {\r\n    const { totalDebit, totalCredit } = calculateTotals(entries);\r\n    return Math.abs(totalDebit - totalCredit) < 0.01;\r\n  };\r\n\r\n  const saveJournalEntry = () => {\r\n    if (!newEntry.description || !newEntry.entries.every(e => e.accountId)) {\r\n      alert('Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    if (!isBalanced(newEntry.entries)) {\r\n      alert('Journal entry must be balanced - total debits must equal total credits');\r\n      return;\r\n    }\r\n\r\n    const { totalDebit, totalCredit } = calculateTotals(newEntry.entries);\r\n    \r\n    // Add account names to entries\r\n    const entriesWithNames = newEntry.entries.map(entry => ({\r\n      ...entry,\r\n      accountName: accounts.find(acc => acc.id === entry.accountId)?.name || '',\r\n      debit: parseFloat(entry.debit) || 0,\r\n      credit: parseFloat(entry.credit) || 0\r\n    }));\r\n\r\n    const journalEntry = {\r\n      id: `JE-MANUAL-${Date.now()}`,\r\n      date: newEntry.date,\r\n      description: newEntry.description,\r\n      reference: newEntry.reference || `MAN${Date.now()}`,\r\n      transactionType: 'manual',\r\n      source: 'Manual',\r\n      status: 'posted',\r\n      entries: entriesWithNames,\r\n      totalDebit,\r\n      totalCredit,\r\n      createdAt: new Date().toISOString()\r\n    };\r\n\r\n    // Save manual entries to localStorage\r\n    const existingManualEntries = JSON.parse(localStorage.getItem('manualJournalEntries') || '[]');\r\n    const updatedManualEntries = [...existingManualEntries, journalEntry];\r\n    localStorage.setItem('manualJournalEntries', JSON.stringify(updatedManualEntries));\r\n\r\n    // Update state\r\n    setJournalEntries([...journalEntries, journalEntry]);\r\n    \r\n    // Reset form\r\n    setNewEntry({\r\n      date: new Date().toISOString().split('T')[0],\r\n      description: '',\r\n      reference: '',\r\n      entries: [\r\n        { accountId: '', debit: 0, credit: 0, description: '' },\r\n        { accountId: '', debit: 0, credit: 0, description: '' }\r\n      ]\r\n    });\r\n    setIsAddingEntry(false);\r\n  };\r\n\r\n  const getAccountName = (accountId) => {\r\n    const account = accounts.find(acc => acc.id === accountId);\r\n    return account ? `${account.code} - ${account.name}` : '';\r\n  };\r\n\r\n  const { totalDebit, totalCredit } = calculateTotals(newEntry.entries);\r\n  const entryIsBalanced = isBalanced(newEntry.entries);\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto p-6 bg-white\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2 flex items-center\">\r\n          <Book className=\"mr-3 text-emerald-600\" />\r\n          General Ledger\r\n        </h1>\r\n        <p className=\"text-gray-600\">Real-time transaction recording and journal entry management</p>\r\n      </div>\r\n\r\n      {/* Quick Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n        <div className=\"bg-blue-50 p-4 rounded-lg border border-blue-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-blue-600 text-sm font-medium\">Total Entries</p>\r\n              <p className=\"text-2xl font-bold text-blue-900\">{journalEntries.length}</p>\r\n            </div>\r\n            <FileText className=\"text-blue-600\" size={24} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-green-50 p-4 rounded-lg border border-green-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-green-600 text-sm font-medium\">POS Entries</p>\r\n              <p className=\"text-2xl font-bold text-green-900\">\r\n                {journalEntries.filter(e => e.source === 'POS Sales').length}\r\n              </p>\r\n            </div>\r\n            <TrendingUp className=\"text-green-600\" size={24} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-orange-50 p-4 rounded-lg border border-orange-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-orange-600 text-sm font-medium\">Manual Entries</p>\r\n              <p className=\"text-2xl font-bold text-orange-900\">\r\n                {journalEntries.filter(e => e.transactionType === 'manual').length}\r\n              </p>\r\n            </div>\r\n            <Edit className=\"text-orange-600\" size={24} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-purple-50 p-4 rounded-lg border border-purple-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-purple-600 text-sm font-medium\">Total Value</p>\r\n              <p className=\"text-2xl font-bold text-purple-900\">\r\n                ${journalEntries.reduce((sum, entry) => sum + entry.totalDebit, 0).toFixed(2)}\r\n              </p>\r\n            </div>\r\n            <DollarSign className=\"text-purple-600\" size={24} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Controls */}\r\n      <div className=\"flex flex-wrap items-center justify-between gap-4 mb-6\">\r\n        <div className=\"flex flex-wrap items-center gap-4\">\r\n          {/* Date Filters */}\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Calendar size={16} className=\"text-gray-400\" />\r\n            <input\r\n              type=\"date\"\r\n              value={filters.dateFrom}\r\n              onChange={(e) => setFilters({ ...filters, dateFrom: e.target.value })}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n              placeholder=\"From\"\r\n            />\r\n            <span className=\"text-gray-500\">to</span>\r\n            <input\r\n              type=\"date\"\r\n              value={filters.dateTo}\r\n              onChange={(e) => setFilters({ ...filters, dateTo: e.target.value })}\r\n              className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n              placeholder=\"To\"\r\n            />\r\n          </div>\r\n\r\n          {/* Account Filter */}\r\n          <div className=\"relative\">\r\n            <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\r\n            <select\r\n              value={filters.accountId}\r\n              onChange={(e) => setFilters({ ...filters, accountId: e.target.value })}\r\n              className=\"pl-10 pr-8 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n            >\r\n              <option value=\"\">All Accounts</option>\r\n              {accounts.map(account => (\r\n                <option key={account.id} value={account.id}>\r\n                  {account.code} - {account.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* Transaction Type Filter */}\r\n          <select\r\n            value={filters.transactionType}\r\n            onChange={(e) => setFilters({ ...filters, transactionType: e.target.value })}\r\n            className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n          >\r\n            <option value=\"all\">All Types</option>\r\n            <option value=\"automatic\">POS Sales</option>\r\n            <option value=\"manual\">Manual</option>\r\n          </select>\r\n\r\n          {/* Search */}\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search entries...\"\r\n              value={filters.searchTerm}\r\n              onChange={(e) => setFilters({ ...filters, searchTerm: e.target.value })}\r\n              className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex space-x-3\">\r\n          <button\r\n            onClick={loadJournalEntriesFromAPI}\r\n            disabled={loading}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2 disabled:bg-gray-400\"\r\n          >\r\n            {loading ? <RefreshCw className=\"animate-spin\" size={16} /> : <RefreshCw size={16} />}\r\n            <span>Refresh from API</span>\r\n          </button>\r\n          <button\r\n            onClick={() => setIsAddingEntry(true)}\r\n            className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 flex items-center space-x-2\"\r\n          >\r\n            <Plus size={16} />\r\n            <span>Add Entry</span>\r\n          </button>\r\n          <button\r\n            onClick={generateTrialBalance}\r\n            className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center space-x-2\"\r\n          >\r\n            <FileText size={16} />\r\n            <span>Trial Balance</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Journal Entry Form */}\r\n      {isAddingEntry && (\r\n        <div className=\"mb-8 p-6 bg-gray-50 rounded-lg border\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Add Manual Journal Entry</h3>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Date *</label>\r\n              <input\r\n                type=\"date\"\r\n                value={newEntry.date}\r\n                onChange={(e) => setNewEntry({ ...newEntry, date: e.target.value })}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description *</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEntry.description}\r\n                onChange={(e) => setNewEntry({ ...newEntry, description: e.target.value })}\r\n                placeholder=\"Enter description\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Reference</label>\r\n              <input\r\n                type=\"text\"\r\n                value={newEntry.reference}\r\n                onChange={(e) => setNewEntry({ ...newEntry, reference: e.target.value })}\r\n                placeholder=\"Reference number\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Entry Lines */}\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Journal Entry Lines</label>\r\n            <div className=\"space-y-3\">\r\n              {newEntry.entries.map((entry, index) => (\r\n                <div key={index} className=\"grid grid-cols-12 gap-2 items-center bg-white p-3 rounded border\">\r\n                  <div className=\"col-span-4\">\r\n                    <select\r\n                      value={entry.accountId}\r\n                      onChange={(e) => updateEntryLine(index, 'accountId', e.target.value)}\r\n                      className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\r\n                    >\r\n                      <option value=\"\">Select Account</option>\r\n                      {accounts.map(account => (\r\n                        <option key={account.id} value={account.id}>\r\n                          {account.code} - {account.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"col-span-3\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={entry.description}\r\n                      onChange={(e) => updateEntryLine(index, 'description', e.target.value)}\r\n                      placeholder=\"Description\"\r\n                      className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-span-2\">\r\n                    <input\r\n                      type=\"number\"\r\n                      step=\"0.01\"\r\n                      value={entry.debit}\r\n                      onChange={(e) => updateEntryLine(index, 'debit', e.target.value)}\r\n                      placeholder=\"Debit\"\r\n                      className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-span-2\">\r\n                    <input\r\n                      type=\"number\"\r\n                      step=\"0.01\"\r\n                      value={entry.credit}\r\n                      onChange={(e) => updateEntryLine(index, 'credit', e.target.value)}\r\n                      placeholder=\"Credit\"\r\n                      className=\"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-emerald-500\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-span-1\">\r\n                    {newEntry.entries.length > 2 && (\r\n                      <button\r\n                        onClick={() => removeEntryLine(index)}\r\n                        className=\"p-1 text-red-600 hover:bg-red-100 rounded\"\r\n                      >\r\n                        <Trash2 size={14} />\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"flex justify-between items-center mt-3\">\r\n              <button\r\n                onClick={addEntryLine}\r\n                className=\"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded hover:bg-gray-300 flex items-center space-x-1\"\r\n              >\r\n                <Plus size={14} />\r\n                <span>Add Line</span>\r\n              </button>\r\n\r\n              <div className=\"flex items-center space-x-4\">\r\n                <div className=\"text-sm\">\r\n                  <span className=\"font-medium\">Total Debit: ${totalDebit.toFixed(2)}</span>\r\n                  <span className=\"mx-2\">|</span>\r\n                  <span className=\"font-medium\">Total Credit: ${totalCredit.toFixed(2)}</span>\r\n                </div>\r\n                {entryIsBalanced ? (\r\n                  <div className=\"flex items-center text-green-600\">\r\n                    <CheckCircle size={16} className=\"mr-1\" />\r\n                    <span className=\"text-sm\">Balanced</span>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"flex items-center text-red-600\">\r\n                    <AlertCircle size={16} className=\"mr-1\" />\r\n                    <span className=\"text-sm\">Not Balanced</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex space-x-3\">\r\n            <button\r\n              onClick={saveJournalEntry}\r\n              disabled={!entryIsBalanced}\r\n              className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-gray-400 flex items-center space-x-2\"\r\n            >\r\n              <Save size={16} />\r\n              <span>Save Entry</span>\r\n            </button>\r\n            <button\r\n              onClick={() => setIsAddingEntry(false)}\r\n              className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center space-x-2\"\r\n            >\r\n              <X size={16} />\r\n              <span>Cancel</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Journal Entries Table */}\r\n      <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\r\n        <div className=\"px-6 py-4 border-b border-gray-200\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900\">Journal Entries</h2>\r\n          <p className=\"text-sm text-gray-600 mt-1\">\r\n            Showing {filteredEntries.length} of {journalEntries.length} entries\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Entry ID\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Date\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Description\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Reference\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Source\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Amount\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {filteredEntries.map((entry) => (\r\n                <tr key={entry.id} className=\"hover:bg-gray-50\">\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                    {entry.id}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                    {entry.date}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 text-sm text-gray-900 max-w-xs truncate\">\r\n                    {entry.description}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                    {entry.reference}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${\r\n                      entry.source === 'POS Sales' ? 'bg-green-100 text-green-800' : \r\n                      entry.source === 'Manual' ? 'bg-orange-100 text-orange-800' :\r\n                      'bg-blue-100 text-blue-800'\r\n                    }`}>\r\n                      {entry.source}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                    ${entry.totalDebit.toFixed(2)}\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${\r\n                      entry.status === 'posted' ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800'\r\n                    }`}>\r\n                      {entry.status}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                    <button\r\n                      onClick={() => setSelectedEntry(entry)}\r\n                      className=\"text-emerald-600 hover:text-emerald-900 mr-3\"\r\n                    >\r\n                      <Eye size={16} />\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Entry Details Modal */}\r\n      {selectedEntry && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"px-6 py-4 border-b border-gray-200\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                  Journal Entry Details - {selectedEntry.id}\r\n                </h3>\r\n                <button\r\n                  onClick={() => setSelectedEntry(null)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <X size={20} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"px-6 py-4\">\r\n              {/* Entry Header */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-500\">Date</label>\r\n                  <p className=\"text-sm text-gray-900\">{selectedEntry.date}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-500\">Reference</label>\r\n                  <p className=\"text-sm text-gray-900\">{selectedEntry.reference}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-500\">Description</label>\r\n                  <p className=\"text-sm text-gray-900\">{selectedEntry.description}</p>\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-gray-500\">Source</label>\r\n                  <span className={`px-2 py-1 text-xs font-medium rounded-full ${\r\n                    selectedEntry.source === 'POS Sales' ? 'bg-green-100 text-green-800' : 'bg-orange-100 text-orange-800'\r\n                  }`}>\r\n                    {selectedEntry.source}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Entry Lines */}\r\n              <div className=\"mb-6\">\r\n                <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Account Entries</h4>\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"w-full border border-gray-200 rounded\">\r\n                    <thead className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Account</th>\r\n                        <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500\">Description</th>\r\n                        <th className=\"px-4 py-2 text-right text-xs font-medium text-gray-500\">Debit</th>\r\n                        <th className=\"px-4 py-2 text-right text-xs font-medium text-gray-500\">Credit</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-200\">\r\n                      {selectedEntry.entries.map((entryLine, index) => (\r\n                        <tr key={index}>\r\n                          <td className=\"px-4 py-2 text-sm text-gray-900\">\r\n                            {getAccountName(entryLine.accountId)}\r\n                          </td>\r\n                          <td className=\"px-4 py-2 text-sm text-gray-600\">\r\n                            {entryLine.description}\r\n                          </td>\r\n                          <td className=\"px-4 py-2 text-sm text-gray-900 text-right\">\r\n                            {entryLine.debit > 0 ? `${entryLine.debit.toFixed(2)}` : '-'}\r\n                          </td>\r\n                          <td className=\"px-4 py-2 text-sm text-gray-900 text-right\">\r\n                            {entryLine.credit > 0 ? `${entryLine.credit.toFixed(2)}` : '-'}\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                    <tfoot className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <td colSpan=\"2\" className=\"px-4 py-2 text-sm font-medium text-gray-900\">\r\n                          Totals:\r\n                        </td>\r\n                        <td className=\"px-4 py-2 text-sm font-bold text-gray-900 text-right\">\r\n                          ${selectedEntry.totalDebit.toFixed(2)}\r\n                        </td>\r\n                        <td className=\"px-4 py-2 text-sm font-bold text-gray-900 text-right\">\r\n                          ${selectedEntry.totalCredit.toFixed(2)}\r\n                        </td>\r\n                      </tr>\r\n                    </tfoot>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Original Order Info (if available) */}\r\n              {selectedEntry.originalOrder && (\r\n                <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\r\n                  <h4 className=\"text-sm font-medium text-gray-700 mb-3\">Original Sales Order Details</h4>\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n                    <div>\r\n                      <span className=\"font-medium text-gray-500\">Order ID:</span>\r\n                      <p className=\"text-gray-900\">{selectedEntry.originalOrder.orderId}</p>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium text-gray-500\">Status:</span>\r\n                      <p className=\"text-gray-900\">{selectedEntry.originalOrder.status}</p>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium text-gray-500\">Payment Status:</span>\r\n                      <p className=\"text-gray-900\">{selectedEntry.originalOrder.paid ? 'Paid' : 'Unpaid'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"font-medium text-gray-500\">Fulfilled:</span>\r\n                      <p className=\"text-gray-900\">{selectedEntry.originalOrder.fulfilled ? 'Yes' : 'No'}</p>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* Line Items */}\r\n                  <div className=\"mt-4\">\r\n                    <span className=\"font-medium text-gray-500\">Line Items:</span>\r\n                    <div className=\"mt-2 space-y-2\">\r\n                      {selectedEntry.originalOrder.lineItems.map((item, index) => (\r\n                        <div key={index} className=\"text-sm bg-white p-2 rounded border\">\r\n                          <span className=\"font-medium\">{item.productName}</span> - \r\n                          Qty: {item.quantity}, Price: ${item.price}, Total: ${item.total}\r\n                          {item.taxAmount > 0 && <span className=\"text-gray-500\"> (Tax: ${item.taxAmount})</span>}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Entry Metadata */}\r\n              <div className=\"text-xs text-gray-500\">\r\n                <p>Created: {new Date(selectedEntry.createdAt).toLocaleString()}</p>\r\n                <p>Status: {selectedEntry.status}</p>\r\n                <p>Type: {selectedEntry.transactionType}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Trial Balance Modal */}\r\n      {showTrialBalance && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"px-6 py-4 border-b border-gray-200\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                  Trial Balance - As of {new Date().toLocaleDateString()}\r\n                </h3>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <button\r\n                    onClick={() => {\r\n                      // Export functionality would go here\r\n                      alert('Export functionality would be implemented here');\r\n                    }}\r\n                    className=\"px-3 py-1 bg-emerald-600 text-white rounded text-sm hover:bg-emerald-700 flex items-center space-x-1\"\r\n                  >\r\n                    <Download size={14} />\r\n                    <span>Export</span>\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setShowTrialBalance(false)}\r\n                    className=\"text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    <X size={20} />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"px-6 py-4\">\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Account Code\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Account Name\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Type\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Debit Total\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Credit Total\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        Balance\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                    {trialBalance.map((account) => (\r\n                      <tr key={account.accountId}>\r\n                        <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\r\n                          {account.accountCode}\r\n                        </td>\r\n                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                          {account.accountName}\r\n                        </td>\r\n                        <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                          <span className={`px-2 py-1 text-xs font-medium rounded-full ${\r\n                            account.accountType === 'assets' ? 'bg-green-100 text-green-800' :\r\n                            account.accountType === 'liabilities' ? 'bg-red-100 text-red-800' :\r\n                            account.accountType === 'equity' ? 'bg-blue-100 text-blue-800' :\r\n                            account.accountType === 'revenue' ? 'bg-purple-100 text-purple-800' :\r\n                            'bg-orange-100 text-orange-800'\r\n                          }`}>\r\n                            {account.accountType}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\r\n                          ${account.debit.toFixed(2)}\r\n                        </td>\r\n                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\r\n                          ${account.credit.toFixed(2)}\r\n                        </td>\r\n                        <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-right\">\r\n                          <span className={account.balance >= 0 ? 'text-green-600' : 'text-red-600'}>\r\n                            ${Math.abs(account.balance).toFixed(2)}\r\n                            {account.balance < 0 && ' (CR)'}\r\n                          </span>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                  <tfoot className=\"bg-gray-50\">\r\n                    <tr>\r\n                      <td colSpan=\"3\" className=\"px-4 py-3 text-sm font-bold text-gray-900\">\r\n                        TOTALS:\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm font-bold text-gray-900 text-right\">\r\n                        ${trialBalance.reduce((sum, acc) => sum + acc.debit, 0).toFixed(2)}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm font-bold text-gray-900 text-right\">\r\n                        ${trialBalance.reduce((sum, acc) => sum + acc.credit, 0).toFixed(2)}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm font-bold text-gray-900 text-right\">\r\n                        ${Math.abs(trialBalance.reduce((sum, acc) => sum + acc.balance, 0)).toFixed(2)}\r\n                      </td>\r\n                    </tr>\r\n                  </tfoot>\r\n                </table>\r\n              </div>\r\n              \r\n              {/* Trial Balance Validation */}\r\n              <div className=\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n                <div className=\"flex items-center\">\r\n                  <CheckCircle className=\"text-green-600 mr-2\" size={20} />\r\n                  <div>\r\n                    <h4 className=\"font-medium text-green-800\">Trial Balance is Balanced</h4>\r\n                    <p className=\"text-sm text-green-700\">\r\n                      Total Debits = Total Credits = ${trialBalance.reduce((sum, acc) => sum + acc.debit, 0).toFixed(2)}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Integration Status */}\r\n      <div className=\"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n          <div className=\"flex items-center mb-2\">\r\n            <CheckCircle className=\"text-green-600 mr-2\" size={16} />\r\n            <h4 className=\"font-medium text-green-800\">POS API Integration</h4>\r\n          </div>\r\n          <p className=\"text-sm text-green-700\">\r\n            Sales orders automatically create journal entries from live API data\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n          <div className=\"flex items-center mb-2\">\r\n            <RefreshCw className=\"text-blue-600 mr-2\" size={16} />\r\n            <h4 className=\"font-medium text-blue-800\">Real-time Sync</h4>\r\n          </div>\r\n          <p className=\"text-sm text-blue-700\">\r\n            Journal entries updated automatically with each sales transaction\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"p-4 bg-orange-50 border border-orange-200 rounded-lg\">\r\n          <div className=\"flex items-center mb-2\">\r\n            <FileText className=\"text-orange-600 mr-2\" size={16} />\r\n            <h4 className=\"font-medium text-orange-800\">Manual Entries</h4>\r\n          </div>\r\n          <p className=\"text-sm text-orange-700\">\r\n            Add adjustments and corrections with full double-entry validation\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GeneralLedger;"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAIA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACEC,IAAI,EACJC,IAAI,EACJC,MAAM,EACNC,MAAM,EACNC,QAAQ,EACRC,QAAQ,EACRC,IAAI,EACJC,MAAM,EACNC,IAAI,EACJC,CAAC,EACDC,WAAW,EACXC,WAAW,EACXC,UAAU,EACVC,UAAU,EACVC,GAAG,EACHC,QAAQ,EACRC,SAAS,QACJ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}