{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Logic-Unit\\\\my-account\\\\src\\\\pages\\\\ChartOfAccounts.jsx\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from 'react';\n// import { ChevronDown, ChevronRight, Plus, Edit, Trash2, Save, X, Search, Filter } from 'lucide-react';\n\n// const ChartOfAccounts = () => {\n//   const [accounts, setAccounts] = useState([]);\n//   const [expandedNodes, setExpandedNodes] = useState(new Set());\n//   const [searchTerm, setSearchTerm] = useState('');\n//   const [selectedCategory, setSelectedCategory] = useState('all');\n//   const [isAddingAccount, setIsAddingAccount] = useState(false);\n//   const [editingAccount, setEditingAccount] = useState(null);\n//   const [formData, setFormData] = useState({\n//     code: '',\n//     name: '',\n//     type: 'assets',\n//     category: 'account',\n//     parentId: null,\n//     description: '',\n//     isActive: true\n//   });\n\n//   // Initialize with default account structure\n//   useEffect(() => {\n//     const defaultAccounts = [\n//       // Assets\n//       { id: '1000', code: '1000', name: 'Assets', type: 'assets', category: 'header', parentId: null, level: 0, isActive: true, description: 'All company assets' },\n//       { id: '1100', code: '1100', name: 'Current Assets', type: 'assets', category: 'group', parentId: '1000', level: 1, isActive: true, description: 'Assets expected to be converted to cash within one year' },\n//       { id: '1110', code: '1110', name: 'Cash and Cash Equivalents', type: 'assets', category: 'account', parentId: '1100', level: 2, isActive: true, description: 'Cash in hand and bank accounts' },\n//       { id: '1111', code: '1111', name: 'Petty Cash', type: 'assets', category: 'account', parentId: '1110', level: 3, isActive: true, description: 'Small cash amounts for daily expenses' },\n//       { id: '1112', code: '1112', name: 'Bank - Main Account', type: 'assets', category: 'account', parentId: '1110', level: 3, isActive: true, description: 'Primary business bank account' },\n//       { id: '1120', code: '1120', name: 'Accounts Receivable', type: 'assets', category: 'account', parentId: '1100', level: 2, isActive: true, description: 'Money owed by customers' },\n//       { id: '1130', code: '1130', name: 'Inventory', type: 'assets', category: 'account', parentId: '1100', level: 2, isActive: true, description: 'Products held for sale' },\n//       { id: '1200', code: '1200', name: 'Fixed Assets', type: 'assets', category: 'group', parentId: '1000', level: 1, isActive: true, description: 'Long-term assets used in business operations' },\n//       { id: '1210', code: '1210', name: 'Equipment', type: 'assets', category: 'account', parentId: '1200', level: 2, isActive: true, description: 'Business equipment and machinery' },\n//       { id: '1220', code: '1220', name: 'Accumulated Depreciation - Equipment', type: 'assets', category: 'account', parentId: '1200', level: 2, isActive: true, description: 'Accumulated depreciation on equipment' },\n\n//       // Liabilities\n//       { id: '2000', code: '2000', name: 'Liabilities', type: 'liabilities', category: 'header', parentId: null, level: 0, isActive: true, description: 'All company liabilities' },\n//       { id: '2100', code: '2100', name: 'Current Liabilities', type: 'liabilities', category: 'group', parentId: '2000', level: 1, isActive: true, description: 'Debts due within one year' },\n//       { id: '2110', code: '2110', name: 'Accounts Payable', type: 'liabilities', category: 'account', parentId: '2100', level: 2, isActive: true, description: 'Money owed to suppliers' },\n//       { id: '2120', code: '2120', name: 'Accrued Expenses', type: 'liabilities', category: 'account', parentId: '2100', level: 2, isActive: true, description: 'Expenses incurred but not yet paid' },\n//       { id: '2130', code: '2130', name: 'Sales Tax Payable', type: 'liabilities', category: 'account', parentId: '2100', level: 2, isActive: true, description: 'Sales tax collected from customers' },\n\n//       // Equity\n//       { id: '3000', code: '3000', name: 'Equity', type: 'equity', category: 'header', parentId: null, level: 0, isActive: true, description: 'Owner equity in the business' },\n//       { id: '3100', code: '3100', name: 'Owner Equity', type: 'equity', category: 'account', parentId: '3000', level: 1, isActive: true, description: 'Owner investment in business' },\n//       { id: '3200', code: '3200', name: 'Retained Earnings', type: 'equity', category: 'account', parentId: '3000', level: 1, isActive: true, description: 'Accumulated profits retained in business' },\n\n//       // Revenue\n//       { id: '4000', code: '4000', name: 'Revenue', type: 'revenue', category: 'header', parentId: null, level: 0, isActive: true, description: 'All company revenue' },\n//       { id: '4100', code: '4100', name: 'Sales Revenue', type: 'revenue', category: 'account', parentId: '4000', level: 1, isActive: true, description: 'Revenue from product sales' },\n//       { id: '4200', code: '4200', name: 'Service Revenue', type: 'revenue', category: 'account', parentId: '4000', level: 1, isActive: true, description: 'Revenue from services provided' },\n\n//       // Expenses\n//       { id: '5000', code: '5000', name: 'Expenses', type: 'expenses', category: 'header', parentId: null, level: 0, isActive: true, description: 'All company expenses' },\n//       { id: '5100', code: '5100', name: 'Cost of Goods Sold', type: 'expenses', category: 'account', parentId: '5000', level: 1, isActive: true, description: 'Direct costs of products sold' },\n//       { id: '5200', code: '5200', name: 'Operating Expenses', type: 'expenses', category: 'group', parentId: '5000', level: 1, isActive: true, description: 'Day-to-day business operating expenses' },\n//       { id: '5210', code: '5210', name: 'Rent Expense', type: 'expenses', category: 'account', parentId: '5200', level: 2, isActive: true, description: 'Monthly rent payments' },\n//       { id: '5220', code: '5220', name: 'Utilities Expense', type: 'expenses', category: 'account', parentId: '5200', level: 2, isActive: true, description: 'Electricity, water, internet costs' },\n//       { id: '5230', code: '5230', name: 'Salaries and Wages', type: 'expenses', category: 'account', parentId: '5200', level: 2, isActive: true, description: 'Employee compensation' },\n//     ];\n\n//     setAccounts(defaultAccounts);\n//     // Expand main categories by default\n//     setExpandedNodes(new Set(['1000', '2000', '3000', '4000', '5000']));\n//   }, []);\n\n//   const accountTypes = {\n//     assets: { label: 'Assets', color: 'bg-green-100 text-green-800', codeRange: '1000-1999' },\n//     liabilities: { label: 'Liabilities', color: 'bg-red-100 text-red-800', codeRange: '2000-2999' },\n//     equity: { label: 'Equity', color: 'bg-blue-100 text-blue-800', codeRange: '3000-3999' },\n//     revenue: { label: 'Revenue', color: 'bg-purple-100 text-purple-800', codeRange: '4000-4999' },\n//     expenses: { label: 'Expenses', color: 'bg-orange-100 text-orange-800', codeRange: '5000-5999' }\n//   };\n\n//   const getFilteredAccounts = () => {\n//     let filtered = accounts;\n\n//     if (searchTerm) {\n//       filtered = filtered.filter(account => \n//         account.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n//         account.code.includes(searchTerm) ||\n//         account.description.toLowerCase().includes(searchTerm.toLowerCase())\n//       );\n//     }\n\n//     if (selectedCategory !== 'all') {\n//       filtered = filtered.filter(account => account.type === selectedCategory);\n//     }\n\n//     return filtered;\n//   };\n\n//   const buildHierarchy = (accounts, parentId = null) => {\n//     return accounts\n//       .filter(account => account.parentId === parentId)\n//       .sort((a, b) => a.code.localeCompare(b.code))\n//       .map(account => ({\n//         ...account,\n//         children: buildHierarchy(accounts, account.id)\n//       }));\n//   };\n\n//   const toggleExpand = (nodeId) => {\n//     const newExpanded = new Set(expandedNodes);\n//     if (newExpanded.has(nodeId)) {\n//       newExpanded.delete(nodeId);\n//     } else {\n//       newExpanded.add(nodeId);\n//     }\n//     setExpandedNodes(newExpanded);\n//   };\n\n//   const handleAddAccount = (parentId = null) => {\n//     const parentAccount = parentId ? accounts.find(a => a.id === parentId) : null;\n//     const accountType = parentAccount ? parentAccount.type : 'assets';\n\n//     setFormData({\n//       code: generateAccountCode(accountType, parentId),\n//       name: '',\n//       type: accountType,\n//       category: 'account',\n//       parentId,\n//       description: '',\n//       isActive: true\n//     });\n//     setIsAddingAccount(true);\n//   };\n\n//   const handleEditAccount = (account) => {\n//     setFormData({\n//       code: account.code,\n//       name: account.name,\n//       type: account.type,\n//       category: account.category,\n//       parentId: account.parentId,\n//       description: account.description || '',\n//       isActive: account.isActive\n//     });\n//     setEditingAccount(account.id);\n//   };\n\n//   const generateAccountCode = (type, parentId = null) => {\n//     const typeRanges = {\n//       assets: { start: 1000, end: 1999 },\n//       liabilities: { start: 2000, end: 2999 },\n//       equity: { start: 3000, end: 3999 },\n//       revenue: { start: 4000, end: 4999 },\n//       expenses: { start: 5000, end: 5999 }\n//     };\n\n//     let baseCode = typeRanges[type].start;\n\n//     if (parentId) {\n//       const parent = accounts.find(a => a.id === parentId);\n//       if (parent) {\n//         const siblingCodes = accounts\n//           .filter(a => a.parentId === parentId)\n//           .map(a => parseInt(a.code))\n//           .sort((a, b) => a - b);\n\n//         if (siblingCodes.length > 0) {\n//           baseCode = Math.max(...siblingCodes) + 1;\n//         } else {\n//           baseCode = parseInt(parent.code) + 10;\n//         }\n//       }\n//     } else {\n//       const existingCodes = accounts\n//         .filter(a => a.type === type)\n//         .map(a => parseInt(a.code))\n//         .sort((a, b) => a - b);\n\n//       if (existingCodes.length > 0) {\n//         baseCode = Math.max(...existingCodes) + 100;\n//       }\n//     }\n\n//     return baseCode.toString();\n//   };\n\n//   const handleSaveAccount = () => {\n//     if (!formData.code || !formData.name) {\n//       alert('Please fill in required fields (Code and Name)');\n//       return;\n//     }\n\n//     // Check for duplicate codes\n//     if (accounts.some(a => a.code === formData.code && a.id !== editingAccount)) {\n//       alert('Account code already exists');\n//       return;\n//     }\n\n//     if (editingAccount) {\n//       // Edit existing account\n//       setAccounts(accounts.map(account => \n//         account.id === editingAccount \n//           ? { ...account, ...formData }\n//           : account\n//       ));\n//       setEditingAccount(null);\n//     } else {\n//       // Add new account\n//       const newId = (Math.max(...accounts.map(a => parseInt(a.id))) + 1).toString();\n//       const parentLevel = formData.parentId \n//         ? accounts.find(a => a.id === formData.parentId)?.level || 0\n//         : 0;\n\n//       const newAccount = {\n//         id: newId,\n//         ...formData,\n//         level: parentLevel + 1\n//       };\n\n//       setAccounts([...accounts, newAccount]);\n//       setIsAddingAccount(false);\n//     }\n\n//     // Reset form\n//     setFormData({\n//       code: '',\n//       name: '',\n//       type: 'assets',\n//       category: 'account',\n//       parentId: null,\n//       description: '',\n//       isActive: true\n//     });\n//   };\n\n//   const handleDeleteAccount = (accountId) => {\n//     // Check if account has children\n//     const hasChildren = accounts.some(a => a.parentId === accountId);\n//     if (hasChildren) {\n//       alert('Cannot delete account with sub-accounts. Please delete sub-accounts first.');\n//       return;\n//     }\n\n//     if (window.confirm('Are you sure you want to delete this account?')) {\n//       setAccounts(accounts.filter(a => a.id !== accountId));\n//     }\n//   };\n\n//   const handleCancel = () => {\n//     setIsAddingAccount(false);\n//     setEditingAccount(null);\n//     setFormData({\n//       code: '',\n//       name: '',\n//       type: 'assets',\n//       category: 'account',\n//       parentId: null,\n//       description: '',\n//       isActive: true\n//     });\n//   };\n\n//   const renderAccountNode = (account) => {\n//     const hasChildren = account.children && account.children.length > 0;\n//     const isExpanded = expandedNodes.has(account.id);\n//     const typeConfig = accountTypes[account.type];\n\n//     return (\n//       <div key={account.id} className=\"account-node\">\n//         <div \n//           className={`flex items-center py-2 px-4 hover:bg-gray-50 border-l-4 ${\n//             account.category === 'header' ? 'border-gray-400 bg-gray-100 font-bold' :\n//             account.category === 'group' ? 'border-gray-300 bg-gray-50 font-semibold' :\n//             'border-transparent'\n//           }`}\n//           style={{ paddingLeft: `${account.level * 20 + 16}px` }}\n//         >\n//           {hasChildren && (\n//             <button\n//               onClick={() => toggleExpand(account.id)}\n//               className=\"mr-2 p-1 hover:bg-gray-200 rounded\"\n//             >\n//               {isExpanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\n//             </button>\n//           )}\n\n//           <div className=\"flex-1 flex items-center space-x-4\">\n//             <span className=\"font-mono text-sm text-gray-600 min-w-[80px]\">\n//               {account.code}\n//             </span>\n\n//             <span className={`flex-1 ${account.category === 'header' ? 'text-lg' : ''}`}>\n//               {account.name}\n//             </span>\n\n//             <span className={`px-2 py-1 rounded-full text-xs font-medium ${typeConfig.color}`}>\n//               {typeConfig.label}\n//             </span>\n\n//             {account.category !== 'header' && (\n//               <div className=\"flex space-x-1\">\n//                 <button\n//                   onClick={() => handleEditAccount(account)}\n//                   className=\"p-1 hover:bg-blue-100 rounded text-blue-600\"\n//                   title=\"Edit Account\"\n//                 >\n//                   <Edit size={14} />\n//                 </button>\n//                 <button\n//                   onClick={() => handleDeleteAccount(account.id)}\n//                   className=\"p-1 hover:bg-red-100 rounded text-red-600\"\n//                   disabled={account.category === 'header'}\n//                   title=\"Delete Account\"\n//                 >\n//                   <Trash2 size={14} />\n//                 </button>\n//                 <button\n//                   onClick={() => handleAddAccount(account.id)}\n//                   className=\"p-1 hover:bg-green-100 rounded text-green-600\"\n//                   title=\"Add Sub-Account\"\n//                 >\n//                   <Plus size={14} />\n//                 </button>\n//               </div>\n//             )}\n//           </div>\n//         </div>\n\n//         {account.description && (\n//           <div className=\"px-4 py-1 text-sm text-gray-500\" style={{ paddingLeft: `${account.level * 20 + 36}px` }}>\n//             {account.description}\n//           </div>\n//         )}\n\n//         {isExpanded && hasChildren && (\n//           <div>\n//             {account.children.map(child => renderAccountNode(child))}\n//           </div>\n//         )}\n//       </div>\n//     );\n//   };\n\n//   const filteredAccounts = getFilteredAccounts();\n//   const hierarchicalAccounts = buildHierarchy(filteredAccounts);\n\n//   return (\n//     <div className=\"max-w-7xl mx-auto p-6 bg-white\">\n//       <div className=\"mb-6\">\n//         <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Chart of Accounts</h1>\n//         <p className=\"text-gray-600\">Manage your company's account structure and hierarchy</p>\n//       </div>\n\n//       {/* Controls */}\n//       <div className=\"mb-6 flex flex-wrap items-center justify-between gap-4\">\n//         <div className=\"flex items-center space-x-4\">\n//           <div className=\"relative\">\n//             <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n//             <input\n//               type=\"text\"\n//               placeholder=\"Search accounts...\"\n//               value={searchTerm}\n//               onChange={(e) => setSearchTerm(e.target.value)}\n//               className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//             />\n//           </div>\n\n//           <div className=\"relative\">\n//             <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n//             <select\n//               value={selectedCategory}\n//               onChange={(e) => setSelectedCategory(e.target.value)}\n//               className=\"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//             >\n//               <option value=\"all\">All Types</option>\n//               {Object.entries(accountTypes).map(([key, type]) => (\n//                 <option key={key} value={key}>{type.label}</option>\n//               ))}\n//             </select>\n//           </div>\n//         </div>\n\n//         <button\n//           onClick={() => handleAddAccount()}\n//           className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n//         >\n//           <Plus size={20} />\n//           <span>Add Account</span>\n//         </button>\n//       </div>\n\n//       {/* Account Form */}\n//       {(isAddingAccount || editingAccount) && (\n//         <div className=\"mb-6 p-6 bg-gray-50 rounded-lg border\">\n//           <h3 className=\"text-lg font-semibold mb-4\">\n//             {editingAccount ? 'Edit Account' : 'Add New Account'}\n//           </h3>\n\n//           <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Account Code *\n//               </label>\n//               <input\n//                 type=\"text\"\n//                 value={formData.code}\n//                 onChange={(e) => setFormData({...formData, code: e.target.value})}\n//                 placeholder=\"Enter account code\"\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//               />\n//             </div>\n\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Account Name *\n//               </label>\n//               <input\n//                 type=\"text\"\n//                 value={formData.name}\n//                 onChange={(e) => setFormData({...formData, name: e.target.value})}\n//                 placeholder=\"Enter account name\"\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//               />\n//             </div>\n\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Account Type\n//               </label>\n//               <select\n//                 value={formData.type}\n//                 onChange={(e) => setFormData({...formData, type: e.target.value})}\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//               >\n//                 {Object.entries(accountTypes).map(([key, type]) => (\n//                   <option key={key} value={key}>{type.label} ({type.codeRange})</option>\n//                 ))}\n//               </select>\n//             </div>\n\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Category\n//               </label>\n//               <select\n//                 value={formData.category}\n//                 onChange={(e) => setFormData({...formData, category: e.target.value})}\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//               >\n//                 <option value=\"header\">Header</option>\n//                 <option value=\"group\">Group</option>\n//                 <option value=\"account\">Account</option>\n//               </select>\n//             </div>\n\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Parent Account\n//               </label>\n//               <select\n//                 value={formData.parentId || ''}\n//                 onChange={(e) => setFormData({...formData, parentId: e.target.value || null})}\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//               >\n//                 <option value=\"\">None (Top Level)</option>\n//                 {accounts\n//                   .filter(a => a.id !== editingAccount && a.category !== 'account')\n//                   .map(account => (\n//                     <option key={account.id} value={account.id}>\n//                       {account.code} - {account.name}\n//                     </option>\n//                   ))\n//                 }\n//               </select>\n//             </div>\n\n//             <div className=\"flex items-center\">\n//               <input\n//                 type=\"checkbox\"\n//                 id=\"isActive\"\n//                 checked={formData.isActive}\n//                 onChange={(e) => setFormData({...formData, isActive: e.target.checked})}\n//                 className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n//               />\n//               <label htmlFor=\"isActive\" className=\"ml-2 block text-sm text-gray-900\">\n//                 Active\n//               </label>\n//             </div>\n\n//             <div className=\"md:col-span-2 lg:col-span-3\">\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Description\n//               </label>\n//               <textarea\n//                 value={formData.description}\n//                 onChange={(e) => setFormData({...formData, description: e.target.value})}\n//                 rows={2}\n//                 placeholder=\"Enter account description\"\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//               />\n//             </div>\n//           </div>\n\n//           <div className=\"mt-4 flex space-x-3\">\n//             <button\n//               onClick={handleSaveAccount}\n//               className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\"\n//             >\n//               <Save size={16} />\n//               <span>Save</span>\n//             </button>\n//             <button\n//               onClick={handleCancel}\n//               className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center space-x-2\"\n//             >\n//               <X size={16} />\n//               <span>Cancel</span>\n//             </button>\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Accounts Tree */}\n//       <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n//         <div className=\"px-4 py-3 bg-gray-50 border-b border-gray-200\">\n//           <div className=\"flex items-center justify-between\">\n//             <h2 className=\"text-lg font-semibold text-gray-900\">Account Structure</h2>\n//             <span className=\"text-sm text-gray-500\">\n//               {filteredAccounts.length} accounts\n//             </span>\n//           </div>\n//         </div>\n\n//         <div className=\"max-h-[600px] overflow-y-auto\">\n//           {hierarchicalAccounts.length > 0 ? (\n//             hierarchicalAccounts.map(account => renderAccountNode(account))\n//           ) : (\n//             <div className=\"p-8 text-center text-gray-500\">\n//               No accounts found matching your criteria.\n//             </div>\n//           )}\n//         </div>\n//       </div>\n\n//       {/* Account Type Legend */}\n//       <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n//         <h3 className=\"text-sm font-semibold text-gray-700 mb-3\">Account Types & Code Ranges</h3>\n//         <div className=\"flex flex-wrap gap-4\">\n//           {Object.entries(accountTypes).map(([key, type]) => (\n//             <div key={key} className=\"flex items-center space-x-2\">\n//               <span className={`px-2 py-1 rounded-full text-xs font-medium ${type.color}`}>\n//                 {type.label}\n//               </span>\n//               <span className=\"text-sm text-gray-600 font-mono\">{type.codeRange}</span>\n//             </div>\n//           ))}\n//         </div>\n//       </div>\n\n//       {/* Quick Actions Info */}\n//       <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\n//         <h3 className=\"text-sm font-semibold text-blue-800 mb-2\">Quick Actions Guide</h3>\n//         <div className=\"text-xs text-blue-700 space-y-1\">\n//           <p>• Click the expand/collapse arrow to show/hide sub-accounts</p>\n//           <p>• Use the Edit button to modify account details</p>\n//           <p>• Use the Plus button to add a sub-account under any account</p>\n//           <p>• Delete accounts that have no sub-accounts or transactions</p>\n//           <p>• Search by account code, name, or description</p>\n//           <p>• Filter by account type to focus on specific categories</p>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default ChartOfAccounts;\n\n//perferc integrated\n// import React, { useState, useEffect } from 'react';\n// import { ChevronDown, ChevronRight, Plus, Edit, Trash2, Save, X, Search, Filter, RefreshCw } from 'lucide-react';\n\n// const ChartOfAccounts = () => {\n//   const [accounts, setAccounts] = useState([]);\n//   const [expandedNodes, setExpandedNodes] = useState(new Set());\n//   const [searchTerm, setSearchTerm] = useState('');\n//   const [selectedCategory, setSelectedCategory] = useState('all');\n//   const [isAddingAccount, setIsAddingAccount] = useState(false);\n//   const [editingAccount, setEditingAccount] = useState(null);\n//   const [loading, setLoading] = useState(false);\n//   const [error, setError] = useState(null);\n//   const [formData, setFormData] = useState({\n//     code: '',\n//     name: '',\n//     type: 'assets',\n//     category: 'account',\n//     parentId: null,\n//     description: '',\n//     active: true\n//   });\n\n//   // API Base URL\n//   const API_BASE_URL = 'http://localhost:8080/api/accounts';\n\n//   // Account types configuration\n//   const accountTypes = {\n//     assets: { label: 'Assets', color: 'bg-green-100 text-green-800', codeRange: '1000-1999' },\n//     liabilities: { label: 'Liabilities', color: 'bg-red-100 text-red-800', codeRange: '2000-2999' },\n//     equity: { label: 'Equity', color: 'bg-blue-100 text-blue-800', codeRange: '3000-3999' },\n//     revenue: { label: 'Revenue', color: 'bg-purple-100 text-purple-800', codeRange: '4000-4999' },\n//     expenses: { label: 'Expenses', color: 'bg-orange-100 text-orange-800', codeRange: '5000-5999' }\n//   };\n\n//   // Fetch accounts from API\n//   const fetchAccounts = async () => {\n//     try {\n//       setLoading(true);\n//       setError(null);\n//       const response = await fetch(API_BASE_URL);\n\n//       if (!response.ok) {\n//         throw new Error(`HTTP error! status: ${response.status}`);\n//       }\n\n//       const data = await response.json();\n//       setAccounts(data);\n\n//       // Expand main categories by default\n//       const mainCategories = data\n//         .filter(account => account.level === 0)\n//         .map(account => account.id);\n//       setExpandedNodes(new Set(mainCategories));\n\n//     } catch (err) {\n//       setError('Failed to fetch accounts: ' + err.message);\n//       console.error('Error fetching accounts:', err);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   // Initialize component\n//   useEffect(() => {\n//     fetchAccounts();\n//   }, []);\n\n//   // Create account\n//   const createAccount = async (accountData) => {\n//     try {\n//       setLoading(true);\n//       const response = await fetch(API_BASE_URL, {\n//         method: 'POST',\n//         headers: {\n//           'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify(accountData)\n//       });\n\n//       if (!response.ok) {\n//         const errorText = await response.text();\n//         throw new Error(errorText || `HTTP error! status: ${response.status}`);\n//       }\n\n//       await fetchAccounts(); // Refresh the list\n//       return true;\n//     } catch (err) {\n//       setError('Failed to create account: ' + err.message);\n//       console.error('Error creating account:', err);\n//       return false;\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   // Update account\n//   const updateAccount = async (accountId, accountData) => {\n//     try {\n//       setLoading(true);\n//       const response = await fetch(`${API_BASE_URL}/${accountId}`, {\n//         method: 'PUT',\n//         headers: {\n//           'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify(accountData)\n//       });\n\n//       if (!response.ok) {\n//         const errorText = await response.text();\n//         throw new Error(errorText || `HTTP error! status: ${response.status}`);\n//       }\n\n//       await fetchAccounts(); // Refresh the list\n//       return true;\n//     } catch (err) {\n//       setError('Failed to update account: ' + err.message);\n//       console.error('Error updating account:', err);\n//       return false;\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   // Delete account\n//   const deleteAccount = async (accountId) => {\n//     try {\n//       setLoading(true);\n//       const response = await fetch(`${API_BASE_URL}/${accountId}`, {\n//         method: 'DELETE'\n//       });\n\n//       if (!response.ok) {\n//         const errorText = await response.text();\n//         throw new Error(errorText || `HTTP error! status: ${response.status}`);\n//       }\n\n//       await fetchAccounts(); // Refresh the list\n//       return true;\n//     } catch (err) {\n//       setError('Failed to delete account: ' + err.message);\n//       console.error('Error deleting account:', err);\n//       return false;\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   // Helper function to flatten hierarchy for filtering\n//   const flattenAccounts = (accounts) => {\n//     const result = [];\n//     const flatten = (items) => {\n//       items.forEach(item => {\n//         result.push(item);\n//         if (item.children && item.children.length > 0) {\n//           flatten(item.children);\n//         }\n//       });\n//     };\n//     flatten(accounts);\n//     return result;\n//   };\n\n//   // Filter accounts based on search and category\n//   const getFilteredAccounts = () => {\n//     const flatAccounts = flattenAccounts(accounts);\n//     let filtered = flatAccounts;\n\n//     if (searchTerm) {\n//       filtered = filtered.filter(account => \n//         account.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n//         account.code.includes(searchTerm) ||\n//         (account.description && account.description.toLowerCase().includes(searchTerm.toLowerCase()))\n//       );\n//     }\n\n//     if (selectedCategory !== 'all') {\n//       filtered = filtered.filter(account => account.type === selectedCategory);\n//     }\n\n//     return filtered;\n//   };\n\n//   // Build hierarchy from flat accounts (for display when not searching)\n//   const buildHierarchy = (accounts, parentId = null) => {\n//     return accounts\n//       .filter(account => account.parentId === parentId)\n//       .sort((a, b) => a.code.localeCompare(b.code))\n//       .map(account => ({\n//         ...account,\n//         children: buildHierarchy(accounts, account.id)\n//       }));\n//   };\n\n//   // Toggle expand/collapse\n//   const toggleExpand = (nodeId) => {\n//     const newExpanded = new Set(expandedNodes);\n//     if (newExpanded.has(nodeId)) {\n//       newExpanded.delete(nodeId);\n//     } else {\n//       newExpanded.add(nodeId);\n//     }\n//     setExpandedNodes(newExpanded);\n//   };\n\n//   // Handle add account\n//   const handleAddAccount = (parentId = null) => {\n//     const flatAccounts = flattenAccounts(accounts);\n//     const parentAccount = parentId ? flatAccounts.find(a => a.id === parentId) : null;\n//     const accountType = parentAccount ? parentAccount.type : 'assets';\n\n//     setFormData({\n//       code: '', // Will be generated by backend\n//       name: '',\n//       type: accountType,\n//       category: 'account',\n//       parentId,\n//       description: '',\n//       active: true\n//     });\n//     setIsAddingAccount(true);\n//   };\n\n//   // Handle edit account\n//   const handleEditAccount = (account) => {\n//     setFormData({\n//       code: account.code,\n//       name: account.name,\n//       type: account.type,\n//       category: account.category,\n//       parentId: account.parentId,\n//       description: account.description || '',\n//       active: account.active !== undefined ? account.active : true\n//     });\n//     setEditingAccount(account.id);\n//   };\n\n//   // Handle save account\n//   const handleSaveAccount = async () => {\n//     if (!formData.name) {\n//       alert('Please fill in the account name');\n//       return;\n//     }\n\n//     const success = editingAccount \n//       ? await updateAccount(editingAccount, formData)\n//       : await createAccount(formData);\n\n//     if (success) {\n//       // Reset form\n//       setFormData({\n//         code: '',\n//         name: '',\n//         type: 'assets',\n//         category: 'account',\n//         parentId: null,\n//         description: '',\n//         active: true\n//       });\n//       setIsAddingAccount(false);\n//       setEditingAccount(null);\n//     }\n//   };\n\n//   // Handle delete account\n//   const handleDeleteAccount = async (accountId) => {\n//     const flatAccounts = flattenAccounts(accounts);\n//     const hasChildren = flatAccounts.some(a => a.parentId === accountId);\n\n//     if (hasChildren) {\n//       alert('Cannot delete account with sub-accounts. Please delete sub-accounts first.');\n//       return;\n//     }\n\n//     if (window.confirm('Are you sure you want to delete this account?')) {\n//       await deleteAccount(accountId);\n//     }\n//   };\n\n//   // Handle cancel\n//   const handleCancel = () => {\n//     setIsAddingAccount(false);\n//     setEditingAccount(null);\n//     setFormData({\n//       code: '',\n//       name: '',\n//       type: 'assets',\n//       category: 'account',\n//       parentId: null,\n//       description: '',\n//       active: true\n//     });\n//   };\n\n//   // Render account node\n//   const renderAccountNode = (account) => {\n//     const hasChildren = account.children && account.children.length > 0;\n//     const isExpanded = expandedNodes.has(account.id);\n//     const typeConfig = accountTypes[account.type];\n\n//     return (\n//       <div key={account.id} className=\"account-node\">\n//         <div \n//           className={`flex items-center py-2 px-4 hover:bg-gray-50 border-l-4 ${\n//             account.category === 'header' ? 'border-gray-400 bg-gray-100 font-bold' :\n//             account.category === 'group' ? 'border-gray-300 bg-gray-50 font-semibold' :\n//             'border-transparent'\n//           }`}\n//           style={{ paddingLeft: `${account.level * 20 + 16}px` }}\n//         >\n//           {hasChildren && (\n//             <button\n//               onClick={() => toggleExpand(account.id)}\n//               className=\"mr-2 p-1 hover:bg-gray-200 rounded\"\n//             >\n//               {isExpanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\n//             </button>\n//           )}\n\n//           <div className=\"flex-1 flex items-center space-x-4\">\n//             <span className=\"font-mono text-sm text-gray-600 min-w-[80px]\">\n//               {account.code}\n//             </span>\n\n//             <span className={`flex-1 ${account.category === 'header' ? 'text-lg' : ''}`}>\n//               {account.name}\n//               {!account.active && <span className=\"ml-2 text-red-500 text-xs\">(Inactive)</span>}\n//             </span>\n\n//             <span className={`px-2 py-1 rounded-full text-xs font-medium ${typeConfig.color}`}>\n//               {typeConfig.label}\n//             </span>\n\n//             <div className=\"flex space-x-1\">\n//               <button\n//                 onClick={() => handleEditAccount(account)}\n//                 className=\"p-1 hover:bg-blue-100 rounded text-blue-600\"\n//                 title=\"Edit Account\"\n//                 disabled={loading}\n//               >\n//                 <Edit size={14} />\n//               </button>\n//               <button\n//                 onClick={() => handleDeleteAccount(account.id)}\n//                 className=\"p-1 hover:bg-red-100 rounded text-red-600\"\n//                 title=\"Delete Account\"\n//                 disabled={loading}\n//               >\n//                 <Trash2 size={14} />\n//               </button>\n//               <button\n//                 onClick={() => handleAddAccount(account.id)}\n//                 className=\"p-1 hover:bg-green-100 rounded text-green-600\"\n//                 title=\"Add Sub-Account\"\n//                 disabled={loading}\n//               >\n//                 <Plus size={14} />\n//               </button>\n//             </div>\n//           </div>\n//         </div>\n\n//         {account.description && (\n//           <div className=\"px-4 py-1 text-sm text-gray-500\" style={{ paddingLeft: `${account.level * 20 + 36}px` }}>\n//             {account.description}\n//           </div>\n//         )}\n\n//         {isExpanded && hasChildren && (\n//           <div>\n//             {account.children.map(child => renderAccountNode(child))}\n//           </div>\n//         )}\n//       </div>\n//     );\n//   };\n\n//   const flatAccounts = flattenAccounts(accounts);\n//   const filteredAccounts = getFilteredAccounts();\n//   const displayAccounts = searchTerm || selectedCategory !== 'all' \n//     ? filteredAccounts \n//     : buildHierarchy(flatAccounts);\n\n//   return (\n//     <div className=\"max-w-7xl mx-auto p-6 bg-white\">\n//       <div className=\"mb-6\">\n//         <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Chart of Accounts</h1>\n//         <p className=\"text-gray-600\">Manage your company's account structure and hierarchy</p>\n//       </div>\n\n//       {/* Error Message */}\n//       {error && (\n//         <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\n//           <div className=\"flex\">\n//             <div className=\"flex-1\">\n//               <p className=\"text-red-700\">{error}</p>\n//             </div>\n//             <button\n//               onClick={() => setError(null)}\n//               className=\"text-red-400 hover:text-red-600\"\n//             >\n//               <X size={16} />\n//             </button>\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Controls */}\n//       <div className=\"mb-6 flex flex-wrap items-center justify-between gap-4\">\n//         <div className=\"flex items-center space-x-4\">\n//           <div className=\"relative\">\n//             <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n//             <input\n//               type=\"text\"\n//               placeholder=\"Search accounts...\"\n//               value={searchTerm}\n//               onChange={(e) => setSearchTerm(e.target.value)}\n//               className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//             />\n//           </div>\n\n//           <div className=\"relative\">\n//             <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n//             <select\n//               value={selectedCategory}\n//               onChange={(e) => setSelectedCategory(e.target.value)}\n//               className=\"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//             >\n//               <option value=\"all\">All Types</option>\n//               {Object.entries(accountTypes).map(([key, type]) => (\n//                 <option key={key} value={key}>{type.label}</option>\n//               ))}\n//             </select>\n//           </div>\n\n//           <button\n//             onClick={fetchAccounts}\n//             className=\"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center space-x-2\"\n//             disabled={loading}\n//           >\n//             <RefreshCw size={16} className={loading ? 'animate-spin' : ''} />\n//             <span>Refresh</span>\n//           </button>\n//         </div>\n\n//         <button\n//           onClick={() => handleAddAccount()}\n//           className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\n//           disabled={loading}\n//         >\n//           <Plus size={20} />\n//           <span>Add Account</span>\n//         </button>\n//       </div>\n\n//       {/* Account Form */}\n//       {(isAddingAccount || editingAccount) && (\n//         <div className=\"mb-6 p-6 bg-gray-50 rounded-lg border\">\n//           <h3 className=\"text-lg font-semibold mb-4\">\n//             {editingAccount ? 'Edit Account' : 'Add New Account'}\n//           </h3>\n\n//           <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Account Code\n//               </label>\n//               <input\n//                 type=\"text\"\n//                 value={formData.code}\n//                 onChange={(e) => setFormData({...formData, code: e.target.value})}\n//                 placeholder=\"Auto-generated if empty\"\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//               />\n//               <p className=\"text-xs text-gray-500 mt-1\">Leave empty for auto-generation</p>\n//             </div>\n\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Account Name *\n//               </label>\n//               <input\n//                 type=\"text\"\n//                 value={formData.name}\n//                 onChange={(e) => setFormData({...formData, name: e.target.value})}\n//                 placeholder=\"Enter account name\"\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//                 required\n//               />\n//             </div>\n\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Account Type\n//               </label>\n//               <select\n//                 value={formData.type}\n//                 onChange={(e) => setFormData({...formData, type: e.target.value})}\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//               >\n//                 {Object.entries(accountTypes).map(([key, type]) => (\n//                   <option key={key} value={key}>{type.label} ({type.codeRange})</option>\n//                 ))}\n//               </select>\n//             </div>\n\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Category\n//               </label>\n//               <select\n//                 value={formData.category}\n//                 onChange={(e) => setFormData({...formData, category: e.target.value})}\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//               >\n//                 <option value=\"header\">Header</option>\n//                 <option value=\"group\">Group</option>\n//                 <option value=\"account\">Account</option>\n//               </select>\n//             </div>\n\n//             <div>\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Parent Account\n//               </label>\n//               <select\n//                 value={formData.parentId || ''}\n//                 onChange={(e) => setFormData({...formData, parentId: e.target.value || null})}\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//               >\n//                 <option value=\"\">None (Top Level)</option>\n//                 {flatAccounts\n//                   .filter(a => a.id !== editingAccount && a.category !== 'account')\n//                   .map(account => (\n//                     <option key={account.id} value={account.id}>\n//                       {account.code} - {account.name}\n//                     </option>\n//                   ))\n//                 }\n//               </select>\n//             </div>\n\n//             <div className=\"flex items-center\">\n//               <input\n//                 type=\"checkbox\"\n//                 id=\"active\"\n//                 checked={formData.active}\n//                 onChange={(e) => setFormData({...formData, active: e.target.checked})}\n//                 className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n//               />\n//               <label htmlFor=\"active\" className=\"ml-2 block text-sm text-gray-900\">\n//                 Active\n//               </label>\n//             </div>\n\n//             <div className=\"md:col-span-2 lg:col-span-3\">\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n//                 Description\n//               </label>\n//               <textarea\n//                 value={formData.description}\n//                 onChange={(e) => setFormData({...formData, description: e.target.value})}\n//                 rows={2}\n//                 placeholder=\"Enter account description\"\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n//               />\n//             </div>\n//           </div>\n\n//           <div className=\"mt-4 flex space-x-3\">\n//             <button\n//               onClick={handleSaveAccount}\n//               className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\"\n//               disabled={loading}\n//             >\n//               <Save size={16} />\n//               <span>{loading ? 'Saving...' : 'Save'}</span>\n//             </button>\n//             <button\n//               onClick={handleCancel}\n//               className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center space-x-2\"\n//               disabled={loading}\n//             >\n//               <X size={16} />\n//               <span>Cancel</span>\n//             </button>\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Accounts Tree */}\n//       <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n//         <div className=\"px-4 py-3 bg-gray-50 border-b border-gray-200\">\n//           <div className=\"flex items-center justify-between\">\n//             <h2 className=\"text-lg font-semibold text-gray-900\">Account Structure</h2>\n//             <span className=\"text-sm text-gray-500\">\n//               {filteredAccounts.length} accounts\n//               {loading && <span className=\"ml-2 text-blue-600\">Loading...</span>}\n//             </span>\n//           </div>\n//         </div>\n\n//         <div className=\"max-h-[600px] overflow-y-auto\">\n//           {loading && accounts.length === 0 ? (\n//             <div className=\"p-8 text-center text-gray-500\">\n//               <RefreshCw className=\"animate-spin mx-auto mb-2\" size={24} />\n//               Loading accounts...\n//             </div>\n//           ) : displayAccounts.length > 0 ? (\n//             searchTerm || selectedCategory !== 'all' ? (\n//               // Flat view for search results\n//               <div>\n//                 {filteredAccounts.map(account => (\n//                   <div key={account.id}>\n//                     {renderAccountNode({...account, children: []})}\n//                   </div>\n//                 ))}\n//               </div>\n//             ) : (\n//               // Hierarchical view\n//               displayAccounts.map(account => renderAccountNode(account))\n//             )\n//           ) : (\n//             <div className=\"p-8 text-center text-gray-500\">\n//               No accounts found matching your criteria.\n//             </div>\n//           )}\n//         </div>\n//       </div>\n\n//       {/* Account Type Legend */}\n//       <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n//         <h3 className=\"text-sm font-semibold text-gray-700 mb-3\">Account Types & Code Ranges</h3>\n//         <div className=\"flex flex-wrap gap-4\">\n//           {Object.entries(accountTypes).map(([key, type]) => (\n//             <div key={key} className=\"flex items-center space-x-2\">\n//               <span className={`px-2 py-1 rounded-full text-xs font-medium ${type.color}`}>\n//                 {type.label}\n//               </span>\n//               <span className=\"text-sm text-gray-600 font-mono\">{type.codeRange}</span>\n//             </div>\n//           ))}\n//         </div>\n//       </div>\n\n//       {/* API Integration Info */}\n//       <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\n//         <h3 className=\"text-sm font-semibold text-blue-800 mb-2\">API Integration Status</h3>\n//         <div className=\"text-xs text-blue-700 space-y-1\">\n//           <p>• Connected to: {API_BASE_URL}</p>\n//           <p>• Auto-refresh after CRUD operations</p>\n//           <p>• Real-time data from Spring Boot backend</p>\n//           <p>• Hierarchical structure maintained server-side</p>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default ChartOfAccounts;1230\n\nimport React, { useState, useEffect } from 'react';\nimport { ChevronDown, ChevronRight, Plus, Edit, Trash2, Save, X, Search, Filter, RefreshCw, CheckCircle, AlertCircle, XCircle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChartOfAccounts = () => {\n  _s();\n  const [accounts, setAccounts] = useState([]);\n  const [expandedNodes, setExpandedNodes] = useState(new Set());\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [isAddingAccount, setIsAddingAccount] = useState(false);\n  const [editingAccount, setEditingAccount] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [toasts, setToasts] = useState([]);\n  const [formData, setFormData] = useState({\n    code: '',\n    name: '',\n    type: 'assets',\n    category: 'account',\n    parentId: null,\n    description: '',\n    active: true\n  });\n\n  // API Base URL\n  const API_BASE_URL = 'http://localhost:8080/api/accounts';\n\n  // Toast notification system\n  const showToast = (message, type = 'success') => {\n    const id = Date.now();\n    const toast = {\n      id,\n      message,\n      type\n    };\n    setToasts(prev => [...prev, toast]);\n\n    // Auto remove after 5 seconds\n    setTimeout(() => {\n      setToasts(prev => prev.filter(t => t.id !== id));\n    }, 5000);\n  };\n  const removeToast = id => {\n    setToasts(prev => prev.filter(t => t.id !== id));\n  };\n\n  // Account types configuration\n  const accountTypes = {\n    assets: {\n      label: 'Assets',\n      color: 'bg-green-100 text-green-800',\n      codeRange: '1000-1999'\n    },\n    liabilities: {\n      label: 'Liabilities',\n      color: 'bg-red-100 text-red-800',\n      codeRange: '2000-2999'\n    },\n    equity: {\n      label: 'Equity',\n      color: 'bg-blue-100 text-blue-800',\n      codeRange: '3000-3999'\n    },\n    revenue: {\n      label: 'Revenue',\n      color: 'bg-purple-100 text-purple-800',\n      codeRange: '4000-4999'\n    },\n    expenses: {\n      label: 'Expenses',\n      color: 'bg-orange-100 text-orange-800',\n      codeRange: '5000-5999'\n    }\n  };\n\n  // Fetch accounts from API\n  const fetchAccounts = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch(API_BASE_URL);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      setAccounts(data);\n\n      // Expand main categories by default\n      const mainCategories = data.filter(account => account.level === 0).map(account => account.id);\n      setExpandedNodes(new Set(mainCategories));\n    } catch (err) {\n      const errorMsg = 'Failed to fetch accounts: ' + err.message;\n      setError(errorMsg);\n      showToast(errorMsg, 'error');\n      console.error('Error fetching accounts:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Initialize component\n  useEffect(() => {\n    fetchAccounts();\n  }, []);\n\n  // Create account\n  const createAccount = async accountData => {\n    try {\n      setLoading(true);\n      const response = await fetch(API_BASE_URL, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(accountData)\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(errorText || `HTTP error! status: ${response.status}`);\n      }\n      const result = await response.text();\n      showToast(result || 'Account created successfully!', 'success');\n      await fetchAccounts(); // Refresh the list\n      return true;\n    } catch (err) {\n      const errorMsg = 'Failed to create account: ' + err.message;\n      setError(errorMsg);\n      showToast(errorMsg, 'error');\n      console.error('Error creating account:', err);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Update account\n  const updateAccount = async (accountId, accountData) => {\n    try {\n      setLoading(true);\n      const response = await fetch(`${API_BASE_URL}/${accountId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(accountData)\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(errorText || `HTTP error! status: ${response.status}`);\n      }\n      const result = await response.text();\n      showToast(result || 'Account updated successfully!', 'success');\n      await fetchAccounts(); // Refresh the list\n      return true;\n    } catch (err) {\n      const errorMsg = 'Failed to update account: ' + err.message;\n      setError(errorMsg);\n      showToast(errorMsg, 'error');\n      console.error('Error updating account:', err);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Delete account\n  const deleteAccount = async accountId => {\n    try {\n      setLoading(true);\n      const response = await fetch(`${API_BASE_URL}/${accountId}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(errorText || `HTTP error! status: ${response.status}`);\n      }\n      const result = await response.text();\n      showToast(result || 'Account deleted successfully!', 'success');\n      await fetchAccounts(); // Refresh the list\n      return true;\n    } catch (err) {\n      const errorMsg = 'Failed to delete account: ' + err.message;\n      setError(errorMsg);\n      showToast(errorMsg, 'error');\n      console.error('Error deleting account:', err);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Helper function to flatten hierarchy for filtering\n  const flattenAccounts = accounts => {\n    const result = [];\n    const flatten = items => {\n      items.forEach(item => {\n        result.push(item);\n        if (item.children && item.children.length > 0) {\n          flatten(item.children);\n        }\n      });\n    };\n    flatten(accounts);\n    return result;\n  };\n\n  // Filter accounts based on search and category\n  const getFilteredAccounts = () => {\n    const flatAccounts = flattenAccounts(accounts);\n    let filtered = flatAccounts;\n    if (searchTerm) {\n      filtered = filtered.filter(account => account.name.toLowerCase().includes(searchTerm.toLowerCase()) || account.code.includes(searchTerm) || account.description && account.description.toLowerCase().includes(searchTerm.toLowerCase()));\n    }\n    if (selectedCategory !== 'all') {\n      filtered = filtered.filter(account => account.type === selectedCategory);\n    }\n    return filtered;\n  };\n\n  // Build hierarchy from flat accounts (for display when not searching)\n  const buildHierarchy = (accounts, parentId = null) => {\n    return accounts.filter(account => account.parentId === parentId).sort((a, b) => a.code.localeCompare(b.code)).map(account => ({\n      ...account,\n      children: buildHierarchy(accounts, account.id)\n    }));\n  };\n\n  // Toggle expand/collapse\n  const toggleExpand = nodeId => {\n    const newExpanded = new Set(expandedNodes);\n    if (newExpanded.has(nodeId)) {\n      newExpanded.delete(nodeId);\n    } else {\n      newExpanded.add(nodeId);\n    }\n    setExpandedNodes(newExpanded);\n  };\n\n  // Handle add account\n  const handleAddAccount = (parentId = null) => {\n    const flatAccounts = flattenAccounts(accounts);\n    const parentAccount = parentId ? flatAccounts.find(a => a.id === parentId) : null;\n    const accountType = parentAccount ? parentAccount.type : 'assets';\n    setFormData({\n      code: '',\n      // Will be generated by backend\n      name: '',\n      type: accountType,\n      category: 'account',\n      parentId,\n      description: '',\n      active: true\n    });\n    setIsAddingAccount(true);\n  };\n\n  // Handle edit account\n  const handleEditAccount = account => {\n    setFormData({\n      code: account.code,\n      name: account.name,\n      type: account.type,\n      category: account.category,\n      parentId: account.parentId,\n      description: account.description || '',\n      active: account.active !== undefined ? account.active : true\n    });\n    setEditingAccount(account.id);\n  };\n\n  // Handle save account\n  const handleSaveAccount = async () => {\n    if (!formData.name) {\n      showToast('Please fill in the account name', 'error');\n      return;\n    }\n    const success = editingAccount ? await updateAccount(editingAccount, formData) : await createAccount(formData);\n    if (success) {\n      // Reset form\n      setFormData({\n        code: '',\n        name: '',\n        type: 'assets',\n        category: 'account',\n        parentId: null,\n        description: '',\n        active: true\n      });\n      setIsAddingAccount(false);\n      setEditingAccount(null);\n    }\n  };\n\n  // Handle delete account\n  const handleDeleteAccount = async accountId => {\n    const flatAccounts = flattenAccounts(accounts);\n    const hasChildren = flatAccounts.some(a => a.parentId === accountId);\n    if (hasChildren) {\n      showToast('Cannot delete account with sub-accounts. Please delete sub-accounts first.', 'error');\n      return;\n    }\n    if (window.confirm('Are you sure you want to delete this account?')) {\n      await deleteAccount(accountId);\n    }\n  };\n\n  // Handle cancel\n  const handleCancel = () => {\n    setIsAddingAccount(false);\n    setEditingAccount(null);\n    setFormData({\n      code: '',\n      name: '',\n      type: 'assets',\n      category: 'account',\n      parentId: null,\n      description: '',\n      active: true\n    });\n  };\n\n  // Render account node\n  const renderAccountNode = account => {\n    const hasChildren = account.children && account.children.length > 0;\n    const isExpanded = expandedNodes.has(account.id);\n    const typeConfig = accountTypes[account.type];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"account-node\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex items-center py-2 px-4 hover:bg-gray-50 border-l-4 ${account.category === 'header' ? 'border-gray-400 bg-gray-100 font-bold' : account.category === 'group' ? 'border-gray-300 bg-gray-50 font-semibold' : 'border-transparent'}`,\n        style: {\n          paddingLeft: `${account.level * 20 + 16}px`\n        },\n        children: [hasChildren && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toggleExpand(account.id),\n          className: \"mr-2 p-1 hover:bg-gray-200 rounded\",\n          children: isExpanded ? /*#__PURE__*/_jsxDEV(ChevronDown, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1580,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(ChevronRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1580,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1576,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-mono text-sm text-gray-600 min-w-[80px]\",\n            children: account.code\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1585,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `flex-1 ${account.category === 'header' ? 'text-lg' : ''}`,\n            children: [account.name, !account.active && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-red-500 text-xs\",\n              children: \"(Inactive)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1591,\n              columnNumber: 35\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1589,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded-full text-xs font-medium ${typeConfig.color}`,\n            children: typeConfig.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1594,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEditAccount(account),\n              className: \"p-1 hover:bg-blue-100 rounded text-blue-600\",\n              title: \"Edit Account\",\n              disabled: loading,\n              children: /*#__PURE__*/_jsxDEV(Edit, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1605,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1599,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDeleteAccount(account.id),\n              className: \"p-1 hover:bg-red-100 rounded text-red-600\",\n              title: \"Delete Account\",\n              disabled: loading,\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1613,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1607,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleAddAccount(account.id),\n              className: \"p-1 hover:bg-green-100 rounded text-green-600\",\n              title: \"Add Sub-Account\",\n              disabled: loading,\n              children: /*#__PURE__*/_jsxDEV(Plus, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1621,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1615,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1598,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1584,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1567,\n        columnNumber: 9\n      }, this), account.description && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-1 text-sm text-gray-500\",\n        style: {\n          paddingLeft: `${account.level * 20 + 36}px`\n        },\n        children: account.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1628,\n        columnNumber: 11\n      }, this), isExpanded && hasChildren && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: account.children.map(child => renderAccountNode(child))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1634,\n        columnNumber: 11\n      }, this)]\n    }, account.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1566,\n      columnNumber: 7\n    }, this);\n  };\n  const flatAccounts = flattenAccounts(accounts);\n  const filteredAccounts = getFilteredAccounts();\n  const displayAccounts = searchTerm || selectedCategory !== 'all' ? filteredAccounts : buildHierarchy(flatAccounts);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto p-6 bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-4 right-4 z-50 space-y-2\",\n      children: toasts.map(toast => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex items-center p-4 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 ease-in-out ${toast.type === 'success' ? 'bg-green-50 border border-green-200 text-green-800' : toast.type === 'error' ? 'bg-red-50 border border-red-200 text-red-800' : 'bg-blue-50 border border-blue-200 text-blue-800'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0\",\n          children: [toast.type === 'success' && /*#__PURE__*/_jsxDEV(CheckCircle, {\n            size: 20,\n            className: \"text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1664,\n            columnNumber: 44\n          }, this), toast.type === 'error' && /*#__PURE__*/_jsxDEV(XCircle, {\n            size: 20,\n            className: \"text-red-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1665,\n            columnNumber: 42\n          }, this), toast.type === 'info' && /*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 20,\n            className: \"text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1666,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1663,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-3 flex-1\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium\",\n            children: toast.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1669,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1668,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => removeToast(toast.id),\n          className: `ml-3 flex-shrink-0 rounded-md p-1.5 inline-flex focus:outline-none focus:ring-2 focus:ring-offset-2 ${toast.type === 'success' ? 'text-green-400 hover:bg-green-100 focus:ring-green-600' : toast.type === 'error' ? 'text-red-400 hover:bg-red-100 focus:ring-red-600' : 'text-blue-400 hover:bg-blue-100 focus:ring-blue-600'}`,\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1681,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1671,\n          columnNumber: 13\n        }, this)]\n      }, toast.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1653,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1651,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900 mb-2\",\n        children: \"Chart of Accounts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1688,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Manage your company's account structure and hierarchy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1689,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1687,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-700\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1697,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1696,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setError(null),\n          className: \"text-red-400 hover:text-red-600\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1703,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1699,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1695,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1694,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 flex flex-wrap items-center justify-between gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1713,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search accounts...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1714,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1712,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1724,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedCategory,\n            onChange: e => setSelectedCategory(e.target.value),\n            className: \"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Types\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1730,\n              columnNumber: 15\n            }, this), Object.entries(accountTypes).map(([key, type]) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: key,\n              children: type.label\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1732,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1725,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1723,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchAccounts,\n          className: \"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center space-x-2\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16,\n            className: loading ? 'animate-spin' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1742,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Refresh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1743,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1737,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1711,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleAddAccount(),\n        className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\",\n        disabled: loading,\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1752,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Add Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1753,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1747,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1710,\n      columnNumber: 7\n    }, this), (isAddingAccount || editingAccount) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 p-6 bg-gray-50 rounded-lg border\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: editingAccount ? 'Edit Account' : 'Add New Account'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1760,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Account Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1766,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: formData.code,\n            onChange: e => setFormData({\n              ...formData,\n              code: e.target.value\n            }),\n            placeholder: \"Auto-generated if empty\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1769,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: \"Leave empty for auto-generation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1776,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1765,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Account Name *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1780,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: formData.name,\n            onChange: e => setFormData({\n              ...formData,\n              name: e.target.value\n            }),\n            placeholder: \"Enter account name\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1783,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1779,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Account Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1794,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: formData.type,\n            onChange: e => setFormData({\n              ...formData,\n              type: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n            children: Object.entries(accountTypes).map(([key, type]) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: key,\n              children: [type.label, \" (\", type.codeRange, \")\"]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1803,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1797,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1793,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1809,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: formData.category,\n            onChange: e => setFormData({\n              ...formData,\n              category: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"header\",\n              children: \"Header\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1817,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"group\",\n              children: \"Group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1818,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"account\",\n              children: \"Account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1819,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1812,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1808,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Parent Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1824,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: formData.parentId || '',\n            onChange: e => setFormData({\n              ...formData,\n              parentId: e.target.value || null\n            }),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"None (Top Level)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1832,\n              columnNumber: 17\n            }, this), flatAccounts.filter(a => a.id !== editingAccount && a.category !== 'account').map(account => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: account.id,\n              children: [account.code, \" - \", account.name]\n            }, account.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1836,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1827,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1823,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"active\",\n            checked: formData.active,\n            onChange: e => setFormData({\n              ...formData,\n              active: e.target.checked\n            }),\n            className: \"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1845,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"active\",\n            className: \"ml-2 block text-sm text-gray-900\",\n            children: \"Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1852,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1844,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2 lg:col-span-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1858,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: formData.description,\n            onChange: e => setFormData({\n              ...formData,\n              description: e.target.value\n            }),\n            rows: 2,\n            placeholder: \"Enter account description\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1861,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1857,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1764,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSaveAccount,\n          className: \"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1877,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: loading ? 'Saving...' : 'Save'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1878,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1872,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCancel,\n          className: \"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center space-x-2\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1885,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1886,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1880,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1871,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1759,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border border-gray-200 rounded-lg overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-3 bg-gray-50 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: \"Account Structure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1896,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-500\",\n            children: [filteredAccounts.length, \" accounts\", loading && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-blue-600\",\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1899,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1897,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1895,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1894,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-h-[600px] overflow-y-auto\",\n        children: loading && accounts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-8 text-center text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"animate-spin mx-auto mb-2\",\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1907,\n            columnNumber: 15\n          }, this), \"Loading accounts...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1906,\n          columnNumber: 13\n        }, this) : displayAccounts.length > 0 ? searchTerm || selectedCategory !== 'all' ?\n        /*#__PURE__*/\n        // Flat view for search results\n        _jsxDEV(\"div\", {\n          children: filteredAccounts.map(account => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: renderAccountNode({\n              ...account,\n              children: []\n            })\n          }, account.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1915,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1913,\n          columnNumber: 15\n        }, this) :\n        // Hierarchical view\n        displayAccounts.map(account => renderAccountNode(account)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-8 text-center text-gray-500\",\n          children: \"No accounts found matching your criteria.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1925,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1904,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1893,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 p-4 bg-gray-50 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm font-semibold text-gray-700 mb-3\",\n        children: \"Account Types & Code Ranges\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1934,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-4\",\n        children: Object.entries(accountTypes).map(([key, type]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `px-2 py-1 rounded-full text-xs font-medium ${type.color}`,\n            children: type.label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1938,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-600 font-mono\",\n            children: type.codeRange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1941,\n            columnNumber: 15\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1937,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1935,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1933,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 p-4 bg-blue-50 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm font-semibold text-blue-800 mb-2\",\n        children: \"API Integration Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1949,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-blue-700 space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u2022 Connected to: \", API_BASE_URL]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1951,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Auto-refresh after CRUD operations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1952,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Real-time data from Spring Boot backend\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1953,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Hierarchical structure maintained server-side\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1954,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1950,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1948,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1649,\n    columnNumber: 5\n  }, this);\n};\n_s(ChartOfAccounts, \"VIHv7C/skpttJB88T5nNuU4l958=\");\n_c = ChartOfAccounts;\nexport default ChartOfAccounts;\nvar _c;\n$RefreshReg$(_c, \"ChartOfAccounts\");","map":{"version":3,"names":["React","useState","useEffect","ChevronDown","ChevronRight","Plus","Edit","Trash2","Save","X","Search","Filter","RefreshCw","CheckCircle","AlertCircle","XCircle","jsxDEV","_jsxDEV","ChartOfAccounts","_s","accounts","setAccounts","expandedNodes","setExpandedNodes","Set","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","isAddingAccount","setIsAddingAccount","editingAccount","setEditingAccount","loading","setLoading","error","setError","toasts","setToasts","formData","setFormData","code","name","type","category","parentId","description","active","API_BASE_URL","showToast","message","id","Date","now","toast","prev","setTimeout","filter","t","removeToast","accountTypes","assets","label","color","codeRange","liabilities","equity","revenue","expenses","fetchAccounts","response","fetch","ok","Error","status","data","json","mainCategories","account","level","map","err","errorMsg","console","createAccount","accountData","method","headers","body","JSON","stringify","errorText","text","result","updateAccount","accountId","deleteAccount","flattenAccounts","flatten","items","forEach","item","push","children","length","getFilteredAccounts","flatAccounts","filtered","toLowerCase","includes","buildHierarchy","sort","a","b","localeCompare","toggleExpand","nodeId","newExpanded","has","delete","add","handleAddAccount","parentAccount","find","accountType","handleEditAccount","undefined","handleSaveAccount","success","handleDeleteAccount","hasChildren","some","window","confirm","handleCancel","renderAccountNode","isExpanded","typeConfig","className","style","paddingLeft","onClick","size","fileName","_jsxFileName","lineNumber","columnNumber","title","disabled","child","filteredAccounts","displayAccounts","placeholder","value","onChange","e","target","Object","entries","key","required","checked","htmlFor","rows","_c","$RefreshReg$"],"sources":["C:/Users/Logic-Unit/my-account/src/pages/ChartOfAccounts.jsx"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import { ChevronDown, ChevronRight, Plus, Edit, Trash2, Save, X, Search, Filter } from 'lucide-react';\r\n\r\n// const ChartOfAccounts = () => {\r\n//   const [accounts, setAccounts] = useState([]);\r\n//   const [expandedNodes, setExpandedNodes] = useState(new Set());\r\n//   const [searchTerm, setSearchTerm] = useState('');\r\n//   const [selectedCategory, setSelectedCategory] = useState('all');\r\n//   const [isAddingAccount, setIsAddingAccount] = useState(false);\r\n//   const [editingAccount, setEditingAccount] = useState(null);\r\n//   const [formData, setFormData] = useState({\r\n//     code: '',\r\n//     name: '',\r\n//     type: 'assets',\r\n//     category: 'account',\r\n//     parentId: null,\r\n//     description: '',\r\n//     isActive: true\r\n//   });\r\n\r\n//   // Initialize with default account structure\r\n//   useEffect(() => {\r\n//     const defaultAccounts = [\r\n//       // Assets\r\n//       { id: '1000', code: '1000', name: 'Assets', type: 'assets', category: 'header', parentId: null, level: 0, isActive: true, description: 'All company assets' },\r\n//       { id: '1100', code: '1100', name: 'Current Assets', type: 'assets', category: 'group', parentId: '1000', level: 1, isActive: true, description: 'Assets expected to be converted to cash within one year' },\r\n//       { id: '1110', code: '1110', name: 'Cash and Cash Equivalents', type: 'assets', category: 'account', parentId: '1100', level: 2, isActive: true, description: 'Cash in hand and bank accounts' },\r\n//       { id: '1111', code: '1111', name: 'Petty Cash', type: 'assets', category: 'account', parentId: '1110', level: 3, isActive: true, description: 'Small cash amounts for daily expenses' },\r\n//       { id: '1112', code: '1112', name: 'Bank - Main Account', type: 'assets', category: 'account', parentId: '1110', level: 3, isActive: true, description: 'Primary business bank account' },\r\n//       { id: '1120', code: '1120', name: 'Accounts Receivable', type: 'assets', category: 'account', parentId: '1100', level: 2, isActive: true, description: 'Money owed by customers' },\r\n//       { id: '1130', code: '1130', name: 'Inventory', type: 'assets', category: 'account', parentId: '1100', level: 2, isActive: true, description: 'Products held for sale' },\r\n//       { id: '1200', code: '1200', name: 'Fixed Assets', type: 'assets', category: 'group', parentId: '1000', level: 1, isActive: true, description: 'Long-term assets used in business operations' },\r\n//       { id: '1210', code: '1210', name: 'Equipment', type: 'assets', category: 'account', parentId: '1200', level: 2, isActive: true, description: 'Business equipment and machinery' },\r\n//       { id: '1220', code: '1220', name: 'Accumulated Depreciation - Equipment', type: 'assets', category: 'account', parentId: '1200', level: 2, isActive: true, description: 'Accumulated depreciation on equipment' },\r\n\r\n//       // Liabilities\r\n//       { id: '2000', code: '2000', name: 'Liabilities', type: 'liabilities', category: 'header', parentId: null, level: 0, isActive: true, description: 'All company liabilities' },\r\n//       { id: '2100', code: '2100', name: 'Current Liabilities', type: 'liabilities', category: 'group', parentId: '2000', level: 1, isActive: true, description: 'Debts due within one year' },\r\n//       { id: '2110', code: '2110', name: 'Accounts Payable', type: 'liabilities', category: 'account', parentId: '2100', level: 2, isActive: true, description: 'Money owed to suppliers' },\r\n//       { id: '2120', code: '2120', name: 'Accrued Expenses', type: 'liabilities', category: 'account', parentId: '2100', level: 2, isActive: true, description: 'Expenses incurred but not yet paid' },\r\n//       { id: '2130', code: '2130', name: 'Sales Tax Payable', type: 'liabilities', category: 'account', parentId: '2100', level: 2, isActive: true, description: 'Sales tax collected from customers' },\r\n\r\n//       // Equity\r\n//       { id: '3000', code: '3000', name: 'Equity', type: 'equity', category: 'header', parentId: null, level: 0, isActive: true, description: 'Owner equity in the business' },\r\n//       { id: '3100', code: '3100', name: 'Owner Equity', type: 'equity', category: 'account', parentId: '3000', level: 1, isActive: true, description: 'Owner investment in business' },\r\n//       { id: '3200', code: '3200', name: 'Retained Earnings', type: 'equity', category: 'account', parentId: '3000', level: 1, isActive: true, description: 'Accumulated profits retained in business' },\r\n\r\n//       // Revenue\r\n//       { id: '4000', code: '4000', name: 'Revenue', type: 'revenue', category: 'header', parentId: null, level: 0, isActive: true, description: 'All company revenue' },\r\n//       { id: '4100', code: '4100', name: 'Sales Revenue', type: 'revenue', category: 'account', parentId: '4000', level: 1, isActive: true, description: 'Revenue from product sales' },\r\n//       { id: '4200', code: '4200', name: 'Service Revenue', type: 'revenue', category: 'account', parentId: '4000', level: 1, isActive: true, description: 'Revenue from services provided' },\r\n\r\n//       // Expenses\r\n//       { id: '5000', code: '5000', name: 'Expenses', type: 'expenses', category: 'header', parentId: null, level: 0, isActive: true, description: 'All company expenses' },\r\n//       { id: '5100', code: '5100', name: 'Cost of Goods Sold', type: 'expenses', category: 'account', parentId: '5000', level: 1, isActive: true, description: 'Direct costs of products sold' },\r\n//       { id: '5200', code: '5200', name: 'Operating Expenses', type: 'expenses', category: 'group', parentId: '5000', level: 1, isActive: true, description: 'Day-to-day business operating expenses' },\r\n//       { id: '5210', code: '5210', name: 'Rent Expense', type: 'expenses', category: 'account', parentId: '5200', level: 2, isActive: true, description: 'Monthly rent payments' },\r\n//       { id: '5220', code: '5220', name: 'Utilities Expense', type: 'expenses', category: 'account', parentId: '5200', level: 2, isActive: true, description: 'Electricity, water, internet costs' },\r\n//       { id: '5230', code: '5230', name: 'Salaries and Wages', type: 'expenses', category: 'account', parentId: '5200', level: 2, isActive: true, description: 'Employee compensation' },\r\n//     ];\r\n\r\n//     setAccounts(defaultAccounts);\r\n//     // Expand main categories by default\r\n//     setExpandedNodes(new Set(['1000', '2000', '3000', '4000', '5000']));\r\n//   }, []);\r\n\r\n//   const accountTypes = {\r\n//     assets: { label: 'Assets', color: 'bg-green-100 text-green-800', codeRange: '1000-1999' },\r\n//     liabilities: { label: 'Liabilities', color: 'bg-red-100 text-red-800', codeRange: '2000-2999' },\r\n//     equity: { label: 'Equity', color: 'bg-blue-100 text-blue-800', codeRange: '3000-3999' },\r\n//     revenue: { label: 'Revenue', color: 'bg-purple-100 text-purple-800', codeRange: '4000-4999' },\r\n//     expenses: { label: 'Expenses', color: 'bg-orange-100 text-orange-800', codeRange: '5000-5999' }\r\n//   };\r\n\r\n//   const getFilteredAccounts = () => {\r\n//     let filtered = accounts;\r\n\r\n//     if (searchTerm) {\r\n//       filtered = filtered.filter(account => \r\n//         account.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n//         account.code.includes(searchTerm) ||\r\n//         account.description.toLowerCase().includes(searchTerm.toLowerCase())\r\n//       );\r\n//     }\r\n\r\n//     if (selectedCategory !== 'all') {\r\n//       filtered = filtered.filter(account => account.type === selectedCategory);\r\n//     }\r\n\r\n//     return filtered;\r\n//   };\r\n\r\n//   const buildHierarchy = (accounts, parentId = null) => {\r\n//     return accounts\r\n//       .filter(account => account.parentId === parentId)\r\n//       .sort((a, b) => a.code.localeCompare(b.code))\r\n//       .map(account => ({\r\n//         ...account,\r\n//         children: buildHierarchy(accounts, account.id)\r\n//       }));\r\n//   };\r\n\r\n//   const toggleExpand = (nodeId) => {\r\n//     const newExpanded = new Set(expandedNodes);\r\n//     if (newExpanded.has(nodeId)) {\r\n//       newExpanded.delete(nodeId);\r\n//     } else {\r\n//       newExpanded.add(nodeId);\r\n//     }\r\n//     setExpandedNodes(newExpanded);\r\n//   };\r\n\r\n//   const handleAddAccount = (parentId = null) => {\r\n//     const parentAccount = parentId ? accounts.find(a => a.id === parentId) : null;\r\n//     const accountType = parentAccount ? parentAccount.type : 'assets';\r\n    \r\n//     setFormData({\r\n//       code: generateAccountCode(accountType, parentId),\r\n//       name: '',\r\n//       type: accountType,\r\n//       category: 'account',\r\n//       parentId,\r\n//       description: '',\r\n//       isActive: true\r\n//     });\r\n//     setIsAddingAccount(true);\r\n//   };\r\n\r\n//   const handleEditAccount = (account) => {\r\n//     setFormData({\r\n//       code: account.code,\r\n//       name: account.name,\r\n//       type: account.type,\r\n//       category: account.category,\r\n//       parentId: account.parentId,\r\n//       description: account.description || '',\r\n//       isActive: account.isActive\r\n//     });\r\n//     setEditingAccount(account.id);\r\n//   };\r\n\r\n//   const generateAccountCode = (type, parentId = null) => {\r\n//     const typeRanges = {\r\n//       assets: { start: 1000, end: 1999 },\r\n//       liabilities: { start: 2000, end: 2999 },\r\n//       equity: { start: 3000, end: 3999 },\r\n//       revenue: { start: 4000, end: 4999 },\r\n//       expenses: { start: 5000, end: 5999 }\r\n//     };\r\n\r\n//     let baseCode = typeRanges[type].start;\r\n    \r\n//     if (parentId) {\r\n//       const parent = accounts.find(a => a.id === parentId);\r\n//       if (parent) {\r\n//         const siblingCodes = accounts\r\n//           .filter(a => a.parentId === parentId)\r\n//           .map(a => parseInt(a.code))\r\n//           .sort((a, b) => a - b);\r\n        \r\n//         if (siblingCodes.length > 0) {\r\n//           baseCode = Math.max(...siblingCodes) + 1;\r\n//         } else {\r\n//           baseCode = parseInt(parent.code) + 10;\r\n//         }\r\n//       }\r\n//     } else {\r\n//       const existingCodes = accounts\r\n//         .filter(a => a.type === type)\r\n//         .map(a => parseInt(a.code))\r\n//         .sort((a, b) => a - b);\r\n      \r\n//       if (existingCodes.length > 0) {\r\n//         baseCode = Math.max(...existingCodes) + 100;\r\n//       }\r\n//     }\r\n\r\n//     return baseCode.toString();\r\n//   };\r\n\r\n//   const handleSaveAccount = () => {\r\n//     if (!formData.code || !formData.name) {\r\n//       alert('Please fill in required fields (Code and Name)');\r\n//       return;\r\n//     }\r\n\r\n//     // Check for duplicate codes\r\n//     if (accounts.some(a => a.code === formData.code && a.id !== editingAccount)) {\r\n//       alert('Account code already exists');\r\n//       return;\r\n//     }\r\n\r\n//     if (editingAccount) {\r\n//       // Edit existing account\r\n//       setAccounts(accounts.map(account => \r\n//         account.id === editingAccount \r\n//           ? { ...account, ...formData }\r\n//           : account\r\n//       ));\r\n//       setEditingAccount(null);\r\n//     } else {\r\n//       // Add new account\r\n//       const newId = (Math.max(...accounts.map(a => parseInt(a.id))) + 1).toString();\r\n//       const parentLevel = formData.parentId \r\n//         ? accounts.find(a => a.id === formData.parentId)?.level || 0\r\n//         : 0;\r\n      \r\n//       const newAccount = {\r\n//         id: newId,\r\n//         ...formData,\r\n//         level: parentLevel + 1\r\n//       };\r\n      \r\n//       setAccounts([...accounts, newAccount]);\r\n//       setIsAddingAccount(false);\r\n//     }\r\n\r\n//     // Reset form\r\n//     setFormData({\r\n//       code: '',\r\n//       name: '',\r\n//       type: 'assets',\r\n//       category: 'account',\r\n//       parentId: null,\r\n//       description: '',\r\n//       isActive: true\r\n//     });\r\n//   };\r\n\r\n//   const handleDeleteAccount = (accountId) => {\r\n//     // Check if account has children\r\n//     const hasChildren = accounts.some(a => a.parentId === accountId);\r\n//     if (hasChildren) {\r\n//       alert('Cannot delete account with sub-accounts. Please delete sub-accounts first.');\r\n//       return;\r\n//     }\r\n\r\n//     if (window.confirm('Are you sure you want to delete this account?')) {\r\n//       setAccounts(accounts.filter(a => a.id !== accountId));\r\n//     }\r\n//   };\r\n\r\n//   const handleCancel = () => {\r\n//     setIsAddingAccount(false);\r\n//     setEditingAccount(null);\r\n//     setFormData({\r\n//       code: '',\r\n//       name: '',\r\n//       type: 'assets',\r\n//       category: 'account',\r\n//       parentId: null,\r\n//       description: '',\r\n//       isActive: true\r\n//     });\r\n//   };\r\n\r\n//   const renderAccountNode = (account) => {\r\n//     const hasChildren = account.children && account.children.length > 0;\r\n//     const isExpanded = expandedNodes.has(account.id);\r\n//     const typeConfig = accountTypes[account.type];\r\n\r\n//     return (\r\n//       <div key={account.id} className=\"account-node\">\r\n//         <div \r\n//           className={`flex items-center py-2 px-4 hover:bg-gray-50 border-l-4 ${\r\n//             account.category === 'header' ? 'border-gray-400 bg-gray-100 font-bold' :\r\n//             account.category === 'group' ? 'border-gray-300 bg-gray-50 font-semibold' :\r\n//             'border-transparent'\r\n//           }`}\r\n//           style={{ paddingLeft: `${account.level * 20 + 16}px` }}\r\n//         >\r\n//           {hasChildren && (\r\n//             <button\r\n//               onClick={() => toggleExpand(account.id)}\r\n//               className=\"mr-2 p-1 hover:bg-gray-200 rounded\"\r\n//             >\r\n//               {isExpanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\r\n//             </button>\r\n//           )}\r\n          \r\n//           <div className=\"flex-1 flex items-center space-x-4\">\r\n//             <span className=\"font-mono text-sm text-gray-600 min-w-[80px]\">\r\n//               {account.code}\r\n//             </span>\r\n            \r\n//             <span className={`flex-1 ${account.category === 'header' ? 'text-lg' : ''}`}>\r\n//               {account.name}\r\n//             </span>\r\n            \r\n//             <span className={`px-2 py-1 rounded-full text-xs font-medium ${typeConfig.color}`}>\r\n//               {typeConfig.label}\r\n//             </span>\r\n            \r\n//             {account.category !== 'header' && (\r\n//               <div className=\"flex space-x-1\">\r\n//                 <button\r\n//                   onClick={() => handleEditAccount(account)}\r\n//                   className=\"p-1 hover:bg-blue-100 rounded text-blue-600\"\r\n//                   title=\"Edit Account\"\r\n//                 >\r\n//                   <Edit size={14} />\r\n//                 </button>\r\n//                 <button\r\n//                   onClick={() => handleDeleteAccount(account.id)}\r\n//                   className=\"p-1 hover:bg-red-100 rounded text-red-600\"\r\n//                   disabled={account.category === 'header'}\r\n//                   title=\"Delete Account\"\r\n//                 >\r\n//                   <Trash2 size={14} />\r\n//                 </button>\r\n//                 <button\r\n//                   onClick={() => handleAddAccount(account.id)}\r\n//                   className=\"p-1 hover:bg-green-100 rounded text-green-600\"\r\n//                   title=\"Add Sub-Account\"\r\n//                 >\r\n//                   <Plus size={14} />\r\n//                 </button>\r\n//               </div>\r\n//             )}\r\n//           </div>\r\n//         </div>\r\n        \r\n//         {account.description && (\r\n//           <div className=\"px-4 py-1 text-sm text-gray-500\" style={{ paddingLeft: `${account.level * 20 + 36}px` }}>\r\n//             {account.description}\r\n//           </div>\r\n//         )}\r\n\r\n//         {isExpanded && hasChildren && (\r\n//           <div>\r\n//             {account.children.map(child => renderAccountNode(child))}\r\n//           </div>\r\n//         )}\r\n//       </div>\r\n//     );\r\n//   };\r\n\r\n//   const filteredAccounts = getFilteredAccounts();\r\n//   const hierarchicalAccounts = buildHierarchy(filteredAccounts);\r\n\r\n//   return (\r\n//     <div className=\"max-w-7xl mx-auto p-6 bg-white\">\r\n//       <div className=\"mb-6\">\r\n//         <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Chart of Accounts</h1>\r\n//         <p className=\"text-gray-600\">Manage your company's account structure and hierarchy</p>\r\n//       </div>\r\n\r\n//       {/* Controls */}\r\n//       <div className=\"mb-6 flex flex-wrap items-center justify-between gap-4\">\r\n//         <div className=\"flex items-center space-x-4\">\r\n//           <div className=\"relative\">\r\n//             <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n//             <input\r\n//               type=\"text\"\r\n//               placeholder=\"Search accounts...\"\r\n//               value={searchTerm}\r\n//               onChange={(e) => setSearchTerm(e.target.value)}\r\n//               className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//             />\r\n//           </div>\r\n          \r\n//           <div className=\"relative\">\r\n//             <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n//             <select\r\n//               value={selectedCategory}\r\n//               onChange={(e) => setSelectedCategory(e.target.value)}\r\n//               className=\"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//             >\r\n//               <option value=\"all\">All Types</option>\r\n//               {Object.entries(accountTypes).map(([key, type]) => (\r\n//                 <option key={key} value={key}>{type.label}</option>\r\n//               ))}\r\n//             </select>\r\n//           </div>\r\n//         </div>\r\n\r\n//         <button\r\n//           onClick={() => handleAddAccount()}\r\n//           className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\r\n//         >\r\n//           <Plus size={20} />\r\n//           <span>Add Account</span>\r\n//         </button>\r\n//       </div>\r\n\r\n//       {/* Account Form */}\r\n//       {(isAddingAccount || editingAccount) && (\r\n//         <div className=\"mb-6 p-6 bg-gray-50 rounded-lg border\">\r\n//           <h3 className=\"text-lg font-semibold mb-4\">\r\n//             {editingAccount ? 'Edit Account' : 'Add New Account'}\r\n//           </h3>\r\n          \r\n//           <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Account Code *\r\n//               </label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={formData.code}\r\n//                 onChange={(e) => setFormData({...formData, code: e.target.value})}\r\n//                 placeholder=\"Enter account code\"\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//               />\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Account Name *\r\n//               </label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={formData.name}\r\n//                 onChange={(e) => setFormData({...formData, name: e.target.value})}\r\n//                 placeholder=\"Enter account name\"\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//               />\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Account Type\r\n//               </label>\r\n//               <select\r\n//                 value={formData.type}\r\n//                 onChange={(e) => setFormData({...formData, type: e.target.value})}\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//               >\r\n//                 {Object.entries(accountTypes).map(([key, type]) => (\r\n//                   <option key={key} value={key}>{type.label} ({type.codeRange})</option>\r\n//                 ))}\r\n//               </select>\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Category\r\n//               </label>\r\n//               <select\r\n//                 value={formData.category}\r\n//                 onChange={(e) => setFormData({...formData, category: e.target.value})}\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//               >\r\n//                 <option value=\"header\">Header</option>\r\n//                 <option value=\"group\">Group</option>\r\n//                 <option value=\"account\">Account</option>\r\n//               </select>\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Parent Account\r\n//               </label>\r\n//               <select\r\n//                 value={formData.parentId || ''}\r\n//                 onChange={(e) => setFormData({...formData, parentId: e.target.value || null})}\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//               >\r\n//                 <option value=\"\">None (Top Level)</option>\r\n//                 {accounts\r\n//                   .filter(a => a.id !== editingAccount && a.category !== 'account')\r\n//                   .map(account => (\r\n//                     <option key={account.id} value={account.id}>\r\n//                       {account.code} - {account.name}\r\n//                     </option>\r\n//                   ))\r\n//                 }\r\n//               </select>\r\n//             </div>\r\n            \r\n//             <div className=\"flex items-center\">\r\n//               <input\r\n//                 type=\"checkbox\"\r\n//                 id=\"isActive\"\r\n//                 checked={formData.isActive}\r\n//                 onChange={(e) => setFormData({...formData, isActive: e.target.checked})}\r\n//                 className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n//               />\r\n//               <label htmlFor=\"isActive\" className=\"ml-2 block text-sm text-gray-900\">\r\n//                 Active\r\n//               </label>\r\n//             </div>\r\n            \r\n//             <div className=\"md:col-span-2 lg:col-span-3\">\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Description\r\n//               </label>\r\n//               <textarea\r\n//                 value={formData.description}\r\n//                 onChange={(e) => setFormData({...formData, description: e.target.value})}\r\n//                 rows={2}\r\n//                 placeholder=\"Enter account description\"\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//               />\r\n//             </div>\r\n//           </div>\r\n          \r\n//           <div className=\"mt-4 flex space-x-3\">\r\n//             <button\r\n//               onClick={handleSaveAccount}\r\n//               className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\"\r\n//             >\r\n//               <Save size={16} />\r\n//               <span>Save</span>\r\n//             </button>\r\n//             <button\r\n//               onClick={handleCancel}\r\n//               className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center space-x-2\"\r\n//             >\r\n//               <X size={16} />\r\n//               <span>Cancel</span>\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Accounts Tree */}\r\n//       <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\r\n//         <div className=\"px-4 py-3 bg-gray-50 border-b border-gray-200\">\r\n//           <div className=\"flex items-center justify-between\">\r\n//             <h2 className=\"text-lg font-semibold text-gray-900\">Account Structure</h2>\r\n//             <span className=\"text-sm text-gray-500\">\r\n//               {filteredAccounts.length} accounts\r\n//             </span>\r\n//           </div>\r\n//         </div>\r\n        \r\n//         <div className=\"max-h-[600px] overflow-y-auto\">\r\n//           {hierarchicalAccounts.length > 0 ? (\r\n//             hierarchicalAccounts.map(account => renderAccountNode(account))\r\n//           ) : (\r\n//             <div className=\"p-8 text-center text-gray-500\">\r\n//               No accounts found matching your criteria.\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Account Type Legend */}\r\n//       <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n//         <h3 className=\"text-sm font-semibold text-gray-700 mb-3\">Account Types & Code Ranges</h3>\r\n//         <div className=\"flex flex-wrap gap-4\">\r\n//           {Object.entries(accountTypes).map(([key, type]) => (\r\n//             <div key={key} className=\"flex items-center space-x-2\">\r\n//               <span className={`px-2 py-1 rounded-full text-xs font-medium ${type.color}`}>\r\n//                 {type.label}\r\n//               </span>\r\n//               <span className=\"text-sm text-gray-600 font-mono\">{type.codeRange}</span>\r\n//             </div>\r\n//           ))}\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Quick Actions Info */}\r\n//       <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\r\n//         <h3 className=\"text-sm font-semibold text-blue-800 mb-2\">Quick Actions Guide</h3>\r\n//         <div className=\"text-xs text-blue-700 space-y-1\">\r\n//           <p>• Click the expand/collapse arrow to show/hide sub-accounts</p>\r\n//           <p>• Use the Edit button to modify account details</p>\r\n//           <p>• Use the Plus button to add a sub-account under any account</p>\r\n//           <p>• Delete accounts that have no sub-accounts or transactions</p>\r\n//           <p>• Search by account code, name, or description</p>\r\n//           <p>• Filter by account type to focus on specific categories</p>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default ChartOfAccounts;\r\n\r\n\r\n//perferc integrated\r\n// import React, { useState, useEffect } from 'react';\r\n// import { ChevronDown, ChevronRight, Plus, Edit, Trash2, Save, X, Search, Filter, RefreshCw } from 'lucide-react';\r\n\r\n// const ChartOfAccounts = () => {\r\n//   const [accounts, setAccounts] = useState([]);\r\n//   const [expandedNodes, setExpandedNodes] = useState(new Set());\r\n//   const [searchTerm, setSearchTerm] = useState('');\r\n//   const [selectedCategory, setSelectedCategory] = useState('all');\r\n//   const [isAddingAccount, setIsAddingAccount] = useState(false);\r\n//   const [editingAccount, setEditingAccount] = useState(null);\r\n//   const [loading, setLoading] = useState(false);\r\n//   const [error, setError] = useState(null);\r\n//   const [formData, setFormData] = useState({\r\n//     code: '',\r\n//     name: '',\r\n//     type: 'assets',\r\n//     category: 'account',\r\n//     parentId: null,\r\n//     description: '',\r\n//     active: true\r\n//   });\r\n\r\n//   // API Base URL\r\n//   const API_BASE_URL = 'http://localhost:8080/api/accounts';\r\n\r\n//   // Account types configuration\r\n//   const accountTypes = {\r\n//     assets: { label: 'Assets', color: 'bg-green-100 text-green-800', codeRange: '1000-1999' },\r\n//     liabilities: { label: 'Liabilities', color: 'bg-red-100 text-red-800', codeRange: '2000-2999' },\r\n//     equity: { label: 'Equity', color: 'bg-blue-100 text-blue-800', codeRange: '3000-3999' },\r\n//     revenue: { label: 'Revenue', color: 'bg-purple-100 text-purple-800', codeRange: '4000-4999' },\r\n//     expenses: { label: 'Expenses', color: 'bg-orange-100 text-orange-800', codeRange: '5000-5999' }\r\n//   };\r\n\r\n//   // Fetch accounts from API\r\n//   const fetchAccounts = async () => {\r\n//     try {\r\n//       setLoading(true);\r\n//       setError(null);\r\n//       const response = await fetch(API_BASE_URL);\r\n      \r\n//       if (!response.ok) {\r\n//         throw new Error(`HTTP error! status: ${response.status}`);\r\n//       }\r\n      \r\n//       const data = await response.json();\r\n//       setAccounts(data);\r\n      \r\n//       // Expand main categories by default\r\n//       const mainCategories = data\r\n//         .filter(account => account.level === 0)\r\n//         .map(account => account.id);\r\n//       setExpandedNodes(new Set(mainCategories));\r\n      \r\n//     } catch (err) {\r\n//       setError('Failed to fetch accounts: ' + err.message);\r\n//       console.error('Error fetching accounts:', err);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   // Initialize component\r\n//   useEffect(() => {\r\n//     fetchAccounts();\r\n//   }, []);\r\n\r\n//   // Create account\r\n//   const createAccount = async (accountData) => {\r\n//     try {\r\n//       setLoading(true);\r\n//       const response = await fetch(API_BASE_URL, {\r\n//         method: 'POST',\r\n//         headers: {\r\n//           'Content-Type': 'application/json',\r\n//         },\r\n//         body: JSON.stringify(accountData)\r\n//       });\r\n\r\n//       if (!response.ok) {\r\n//         const errorText = await response.text();\r\n//         throw new Error(errorText || `HTTP error! status: ${response.status}`);\r\n//       }\r\n\r\n//       await fetchAccounts(); // Refresh the list\r\n//       return true;\r\n//     } catch (err) {\r\n//       setError('Failed to create account: ' + err.message);\r\n//       console.error('Error creating account:', err);\r\n//       return false;\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   // Update account\r\n//   const updateAccount = async (accountId, accountData) => {\r\n//     try {\r\n//       setLoading(true);\r\n//       const response = await fetch(`${API_BASE_URL}/${accountId}`, {\r\n//         method: 'PUT',\r\n//         headers: {\r\n//           'Content-Type': 'application/json',\r\n//         },\r\n//         body: JSON.stringify(accountData)\r\n//       });\r\n\r\n//       if (!response.ok) {\r\n//         const errorText = await response.text();\r\n//         throw new Error(errorText || `HTTP error! status: ${response.status}`);\r\n//       }\r\n\r\n//       await fetchAccounts(); // Refresh the list\r\n//       return true;\r\n//     } catch (err) {\r\n//       setError('Failed to update account: ' + err.message);\r\n//       console.error('Error updating account:', err);\r\n//       return false;\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   // Delete account\r\n//   const deleteAccount = async (accountId) => {\r\n//     try {\r\n//       setLoading(true);\r\n//       const response = await fetch(`${API_BASE_URL}/${accountId}`, {\r\n//         method: 'DELETE'\r\n//       });\r\n\r\n//       if (!response.ok) {\r\n//         const errorText = await response.text();\r\n//         throw new Error(errorText || `HTTP error! status: ${response.status}`);\r\n//       }\r\n\r\n//       await fetchAccounts(); // Refresh the list\r\n//       return true;\r\n//     } catch (err) {\r\n//       setError('Failed to delete account: ' + err.message);\r\n//       console.error('Error deleting account:', err);\r\n//       return false;\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   // Helper function to flatten hierarchy for filtering\r\n//   const flattenAccounts = (accounts) => {\r\n//     const result = [];\r\n//     const flatten = (items) => {\r\n//       items.forEach(item => {\r\n//         result.push(item);\r\n//         if (item.children && item.children.length > 0) {\r\n//           flatten(item.children);\r\n//         }\r\n//       });\r\n//     };\r\n//     flatten(accounts);\r\n//     return result;\r\n//   };\r\n\r\n//   // Filter accounts based on search and category\r\n//   const getFilteredAccounts = () => {\r\n//     const flatAccounts = flattenAccounts(accounts);\r\n//     let filtered = flatAccounts;\r\n\r\n//     if (searchTerm) {\r\n//       filtered = filtered.filter(account => \r\n//         account.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n//         account.code.includes(searchTerm) ||\r\n//         (account.description && account.description.toLowerCase().includes(searchTerm.toLowerCase()))\r\n//       );\r\n//     }\r\n\r\n//     if (selectedCategory !== 'all') {\r\n//       filtered = filtered.filter(account => account.type === selectedCategory);\r\n//     }\r\n\r\n//     return filtered;\r\n//   };\r\n\r\n//   // Build hierarchy from flat accounts (for display when not searching)\r\n//   const buildHierarchy = (accounts, parentId = null) => {\r\n//     return accounts\r\n//       .filter(account => account.parentId === parentId)\r\n//       .sort((a, b) => a.code.localeCompare(b.code))\r\n//       .map(account => ({\r\n//         ...account,\r\n//         children: buildHierarchy(accounts, account.id)\r\n//       }));\r\n//   };\r\n\r\n//   // Toggle expand/collapse\r\n//   const toggleExpand = (nodeId) => {\r\n//     const newExpanded = new Set(expandedNodes);\r\n//     if (newExpanded.has(nodeId)) {\r\n//       newExpanded.delete(nodeId);\r\n//     } else {\r\n//       newExpanded.add(nodeId);\r\n//     }\r\n//     setExpandedNodes(newExpanded);\r\n//   };\r\n\r\n//   // Handle add account\r\n//   const handleAddAccount = (parentId = null) => {\r\n//     const flatAccounts = flattenAccounts(accounts);\r\n//     const parentAccount = parentId ? flatAccounts.find(a => a.id === parentId) : null;\r\n//     const accountType = parentAccount ? parentAccount.type : 'assets';\r\n    \r\n//     setFormData({\r\n//       code: '', // Will be generated by backend\r\n//       name: '',\r\n//       type: accountType,\r\n//       category: 'account',\r\n//       parentId,\r\n//       description: '',\r\n//       active: true\r\n//     });\r\n//     setIsAddingAccount(true);\r\n//   };\r\n\r\n//   // Handle edit account\r\n//   const handleEditAccount = (account) => {\r\n//     setFormData({\r\n//       code: account.code,\r\n//       name: account.name,\r\n//       type: account.type,\r\n//       category: account.category,\r\n//       parentId: account.parentId,\r\n//       description: account.description || '',\r\n//       active: account.active !== undefined ? account.active : true\r\n//     });\r\n//     setEditingAccount(account.id);\r\n//   };\r\n\r\n//   // Handle save account\r\n//   const handleSaveAccount = async () => {\r\n//     if (!formData.name) {\r\n//       alert('Please fill in the account name');\r\n//       return;\r\n//     }\r\n\r\n//     const success = editingAccount \r\n//       ? await updateAccount(editingAccount, formData)\r\n//       : await createAccount(formData);\r\n\r\n//     if (success) {\r\n//       // Reset form\r\n//       setFormData({\r\n//         code: '',\r\n//         name: '',\r\n//         type: 'assets',\r\n//         category: 'account',\r\n//         parentId: null,\r\n//         description: '',\r\n//         active: true\r\n//       });\r\n//       setIsAddingAccount(false);\r\n//       setEditingAccount(null);\r\n//     }\r\n//   };\r\n\r\n//   // Handle delete account\r\n//   const handleDeleteAccount = async (accountId) => {\r\n//     const flatAccounts = flattenAccounts(accounts);\r\n//     const hasChildren = flatAccounts.some(a => a.parentId === accountId);\r\n    \r\n//     if (hasChildren) {\r\n//       alert('Cannot delete account with sub-accounts. Please delete sub-accounts first.');\r\n//       return;\r\n//     }\r\n\r\n//     if (window.confirm('Are you sure you want to delete this account?')) {\r\n//       await deleteAccount(accountId);\r\n//     }\r\n//   };\r\n\r\n//   // Handle cancel\r\n//   const handleCancel = () => {\r\n//     setIsAddingAccount(false);\r\n//     setEditingAccount(null);\r\n//     setFormData({\r\n//       code: '',\r\n//       name: '',\r\n//       type: 'assets',\r\n//       category: 'account',\r\n//       parentId: null,\r\n//       description: '',\r\n//       active: true\r\n//     });\r\n//   };\r\n\r\n//   // Render account node\r\n//   const renderAccountNode = (account) => {\r\n//     const hasChildren = account.children && account.children.length > 0;\r\n//     const isExpanded = expandedNodes.has(account.id);\r\n//     const typeConfig = accountTypes[account.type];\r\n\r\n//     return (\r\n//       <div key={account.id} className=\"account-node\">\r\n//         <div \r\n//           className={`flex items-center py-2 px-4 hover:bg-gray-50 border-l-4 ${\r\n//             account.category === 'header' ? 'border-gray-400 bg-gray-100 font-bold' :\r\n//             account.category === 'group' ? 'border-gray-300 bg-gray-50 font-semibold' :\r\n//             'border-transparent'\r\n//           }`}\r\n//           style={{ paddingLeft: `${account.level * 20 + 16}px` }}\r\n//         >\r\n//           {hasChildren && (\r\n//             <button\r\n//               onClick={() => toggleExpand(account.id)}\r\n//               className=\"mr-2 p-1 hover:bg-gray-200 rounded\"\r\n//             >\r\n//               {isExpanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\r\n//             </button>\r\n//           )}\r\n          \r\n//           <div className=\"flex-1 flex items-center space-x-4\">\r\n//             <span className=\"font-mono text-sm text-gray-600 min-w-[80px]\">\r\n//               {account.code}\r\n//             </span>\r\n            \r\n//             <span className={`flex-1 ${account.category === 'header' ? 'text-lg' : ''}`}>\r\n//               {account.name}\r\n//               {!account.active && <span className=\"ml-2 text-red-500 text-xs\">(Inactive)</span>}\r\n//             </span>\r\n            \r\n//             <span className={`px-2 py-1 rounded-full text-xs font-medium ${typeConfig.color}`}>\r\n//               {typeConfig.label}\r\n//             </span>\r\n            \r\n//             <div className=\"flex space-x-1\">\r\n//               <button\r\n//                 onClick={() => handleEditAccount(account)}\r\n//                 className=\"p-1 hover:bg-blue-100 rounded text-blue-600\"\r\n//                 title=\"Edit Account\"\r\n//                 disabled={loading}\r\n//               >\r\n//                 <Edit size={14} />\r\n//               </button>\r\n//               <button\r\n//                 onClick={() => handleDeleteAccount(account.id)}\r\n//                 className=\"p-1 hover:bg-red-100 rounded text-red-600\"\r\n//                 title=\"Delete Account\"\r\n//                 disabled={loading}\r\n//               >\r\n//                 <Trash2 size={14} />\r\n//               </button>\r\n//               <button\r\n//                 onClick={() => handleAddAccount(account.id)}\r\n//                 className=\"p-1 hover:bg-green-100 rounded text-green-600\"\r\n//                 title=\"Add Sub-Account\"\r\n//                 disabled={loading}\r\n//               >\r\n//                 <Plus size={14} />\r\n//               </button>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n        \r\n//         {account.description && (\r\n//           <div className=\"px-4 py-1 text-sm text-gray-500\" style={{ paddingLeft: `${account.level * 20 + 36}px` }}>\r\n//             {account.description}\r\n//           </div>\r\n//         )}\r\n\r\n//         {isExpanded && hasChildren && (\r\n//           <div>\r\n//             {account.children.map(child => renderAccountNode(child))}\r\n//           </div>\r\n//         )}\r\n//       </div>\r\n//     );\r\n//   };\r\n\r\n//   const flatAccounts = flattenAccounts(accounts);\r\n//   const filteredAccounts = getFilteredAccounts();\r\n//   const displayAccounts = searchTerm || selectedCategory !== 'all' \r\n//     ? filteredAccounts \r\n//     : buildHierarchy(flatAccounts);\r\n\r\n//   return (\r\n//     <div className=\"max-w-7xl mx-auto p-6 bg-white\">\r\n//       <div className=\"mb-6\">\r\n//         <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Chart of Accounts</h1>\r\n//         <p className=\"text-gray-600\">Manage your company's account structure and hierarchy</p>\r\n//       </div>\r\n\r\n//       {/* Error Message */}\r\n//       {error && (\r\n//         <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n//           <div className=\"flex\">\r\n//             <div className=\"flex-1\">\r\n//               <p className=\"text-red-700\">{error}</p>\r\n//             </div>\r\n//             <button\r\n//               onClick={() => setError(null)}\r\n//               className=\"text-red-400 hover:text-red-600\"\r\n//             >\r\n//               <X size={16} />\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Controls */}\r\n//       <div className=\"mb-6 flex flex-wrap items-center justify-between gap-4\">\r\n//         <div className=\"flex items-center space-x-4\">\r\n//           <div className=\"relative\">\r\n//             <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n//             <input\r\n//               type=\"text\"\r\n//               placeholder=\"Search accounts...\"\r\n//               value={searchTerm}\r\n//               onChange={(e) => setSearchTerm(e.target.value)}\r\n//               className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//             />\r\n//           </div>\r\n          \r\n//           <div className=\"relative\">\r\n//             <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n//             <select\r\n//               value={selectedCategory}\r\n//               onChange={(e) => setSelectedCategory(e.target.value)}\r\n//               className=\"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//             >\r\n//               <option value=\"all\">All Types</option>\r\n//               {Object.entries(accountTypes).map(([key, type]) => (\r\n//                 <option key={key} value={key}>{type.label}</option>\r\n//               ))}\r\n//             </select>\r\n//           </div>\r\n\r\n//           <button\r\n//             onClick={fetchAccounts}\r\n//             className=\"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center space-x-2\"\r\n//             disabled={loading}\r\n//           >\r\n//             <RefreshCw size={16} className={loading ? 'animate-spin' : ''} />\r\n//             <span>Refresh</span>\r\n//           </button>\r\n//         </div>\r\n\r\n//         <button\r\n//           onClick={() => handleAddAccount()}\r\n//           className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\r\n//           disabled={loading}\r\n//         >\r\n//           <Plus size={20} />\r\n//           <span>Add Account</span>\r\n//         </button>\r\n//       </div>\r\n\r\n//       {/* Account Form */}\r\n//       {(isAddingAccount || editingAccount) && (\r\n//         <div className=\"mb-6 p-6 bg-gray-50 rounded-lg border\">\r\n//           <h3 className=\"text-lg font-semibold mb-4\">\r\n//             {editingAccount ? 'Edit Account' : 'Add New Account'}\r\n//           </h3>\r\n          \r\n//           <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Account Code\r\n//               </label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={formData.code}\r\n//                 onChange={(e) => setFormData({...formData, code: e.target.value})}\r\n//                 placeholder=\"Auto-generated if empty\"\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//               />\r\n//               <p className=\"text-xs text-gray-500 mt-1\">Leave empty for auto-generation</p>\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Account Name *\r\n//               </label>\r\n//               <input\r\n//                 type=\"text\"\r\n//                 value={formData.name}\r\n//                 onChange={(e) => setFormData({...formData, name: e.target.value})}\r\n//                 placeholder=\"Enter account name\"\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//                 required\r\n//               />\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Account Type\r\n//               </label>\r\n//               <select\r\n//                 value={formData.type}\r\n//                 onChange={(e) => setFormData({...formData, type: e.target.value})}\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//               >\r\n//                 {Object.entries(accountTypes).map(([key, type]) => (\r\n//                   <option key={key} value={key}>{type.label} ({type.codeRange})</option>\r\n//                 ))}\r\n//               </select>\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Category\r\n//               </label>\r\n//               <select\r\n//                 value={formData.category}\r\n//                 onChange={(e) => setFormData({...formData, category: e.target.value})}\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//               >\r\n//                 <option value=\"header\">Header</option>\r\n//                 <option value=\"group\">Group</option>\r\n//                 <option value=\"account\">Account</option>\r\n//               </select>\r\n//             </div>\r\n            \r\n//             <div>\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Parent Account\r\n//               </label>\r\n//               <select\r\n//                 value={formData.parentId || ''}\r\n//                 onChange={(e) => setFormData({...formData, parentId: e.target.value || null})}\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//               >\r\n//                 <option value=\"\">None (Top Level)</option>\r\n//                 {flatAccounts\r\n//                   .filter(a => a.id !== editingAccount && a.category !== 'account')\r\n//                   .map(account => (\r\n//                     <option key={account.id} value={account.id}>\r\n//                       {account.code} - {account.name}\r\n//                     </option>\r\n//                   ))\r\n//                 }\r\n//               </select>\r\n//             </div>\r\n            \r\n//             <div className=\"flex items-center\">\r\n//               <input\r\n//                 type=\"checkbox\"\r\n//                 id=\"active\"\r\n//                 checked={formData.active}\r\n//                 onChange={(e) => setFormData({...formData, active: e.target.checked})}\r\n//                 className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n//               />\r\n//               <label htmlFor=\"active\" className=\"ml-2 block text-sm text-gray-900\">\r\n//                 Active\r\n//               </label>\r\n//             </div>\r\n            \r\n//             <div className=\"md:col-span-2 lg:col-span-3\">\r\n//               <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n//                 Description\r\n//               </label>\r\n//               <textarea\r\n//                 value={formData.description}\r\n//                 onChange={(e) => setFormData({...formData, description: e.target.value})}\r\n//                 rows={2}\r\n//                 placeholder=\"Enter account description\"\r\n//                 className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n//               />\r\n//             </div>\r\n//           </div>\r\n          \r\n//           <div className=\"mt-4 flex space-x-3\">\r\n//             <button\r\n//               onClick={handleSaveAccount}\r\n//               className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\"\r\n//               disabled={loading}\r\n//             >\r\n//               <Save size={16} />\r\n//               <span>{loading ? 'Saving...' : 'Save'}</span>\r\n//             </button>\r\n//             <button\r\n//               onClick={handleCancel}\r\n//               className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center space-x-2\"\r\n//               disabled={loading}\r\n//             >\r\n//               <X size={16} />\r\n//               <span>Cancel</span>\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Accounts Tree */}\r\n//       <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\r\n//         <div className=\"px-4 py-3 bg-gray-50 border-b border-gray-200\">\r\n//           <div className=\"flex items-center justify-between\">\r\n//             <h2 className=\"text-lg font-semibold text-gray-900\">Account Structure</h2>\r\n//             <span className=\"text-sm text-gray-500\">\r\n//               {filteredAccounts.length} accounts\r\n//               {loading && <span className=\"ml-2 text-blue-600\">Loading...</span>}\r\n//             </span>\r\n//           </div>\r\n//         </div>\r\n        \r\n//         <div className=\"max-h-[600px] overflow-y-auto\">\r\n//           {loading && accounts.length === 0 ? (\r\n//             <div className=\"p-8 text-center text-gray-500\">\r\n//               <RefreshCw className=\"animate-spin mx-auto mb-2\" size={24} />\r\n//               Loading accounts...\r\n//             </div>\r\n//           ) : displayAccounts.length > 0 ? (\r\n//             searchTerm || selectedCategory !== 'all' ? (\r\n//               // Flat view for search results\r\n//               <div>\r\n//                 {filteredAccounts.map(account => (\r\n//                   <div key={account.id}>\r\n//                     {renderAccountNode({...account, children: []})}\r\n//                   </div>\r\n//                 ))}\r\n//               </div>\r\n//             ) : (\r\n//               // Hierarchical view\r\n//               displayAccounts.map(account => renderAccountNode(account))\r\n//             )\r\n//           ) : (\r\n//             <div className=\"p-8 text-center text-gray-500\">\r\n//               No accounts found matching your criteria.\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Account Type Legend */}\r\n//       <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n//         <h3 className=\"text-sm font-semibold text-gray-700 mb-3\">Account Types & Code Ranges</h3>\r\n//         <div className=\"flex flex-wrap gap-4\">\r\n//           {Object.entries(accountTypes).map(([key, type]) => (\r\n//             <div key={key} className=\"flex items-center space-x-2\">\r\n//               <span className={`px-2 py-1 rounded-full text-xs font-medium ${type.color}`}>\r\n//                 {type.label}\r\n//               </span>\r\n//               <span className=\"text-sm text-gray-600 font-mono\">{type.codeRange}</span>\r\n//             </div>\r\n//           ))}\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* API Integration Info */}\r\n//       <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\r\n//         <h3 className=\"text-sm font-semibold text-blue-800 mb-2\">API Integration Status</h3>\r\n//         <div className=\"text-xs text-blue-700 space-y-1\">\r\n//           <p>• Connected to: {API_BASE_URL}</p>\r\n//           <p>• Auto-refresh after CRUD operations</p>\r\n//           <p>• Real-time data from Spring Boot backend</p>\r\n//           <p>• Hierarchical structure maintained server-side</p>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default ChartOfAccounts;1230\r\n\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { ChevronDown, ChevronRight, Plus, Edit, Trash2, Save, X, Search, Filter, RefreshCw, CheckCircle, AlertCircle, XCircle } from 'lucide-react';\r\n\r\nconst ChartOfAccounts = () => {\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [expandedNodes, setExpandedNodes] = useState(new Set());\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [isAddingAccount, setIsAddingAccount] = useState(false);\r\n  const [editingAccount, setEditingAccount] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [toasts, setToasts] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    code: '',\r\n    name: '',\r\n    type: 'assets',\r\n    category: 'account',\r\n    parentId: null,\r\n    description: '',\r\n    active: true\r\n  });\r\n\r\n  // API Base URL\r\n  const API_BASE_URL = 'http://localhost:8080/api/accounts';\r\n\r\n  // Toast notification system\r\n  const showToast = (message, type = 'success') => {\r\n    const id = Date.now();\r\n    const toast = { id, message, type };\r\n    setToasts(prev => [...prev, toast]);\r\n    \r\n    // Auto remove after 5 seconds\r\n    setTimeout(() => {\r\n      setToasts(prev => prev.filter(t => t.id !== id));\r\n    }, 5000);\r\n  };\r\n\r\n  const removeToast = (id) => {\r\n    setToasts(prev => prev.filter(t => t.id !== id));\r\n  };\r\n\r\n  // Account types configuration\r\n  const accountTypes = {\r\n    assets: { label: 'Assets', color: 'bg-green-100 text-green-800', codeRange: '1000-1999' },\r\n    liabilities: { label: 'Liabilities', color: 'bg-red-100 text-red-800', codeRange: '2000-2999' },\r\n    equity: { label: 'Equity', color: 'bg-blue-100 text-blue-800', codeRange: '3000-3999' },\r\n    revenue: { label: 'Revenue', color: 'bg-purple-100 text-purple-800', codeRange: '4000-4999' },\r\n    expenses: { label: 'Expenses', color: 'bg-orange-100 text-orange-800', codeRange: '5000-5999' }\r\n  };\r\n\r\n  // Fetch accounts from API\r\n  const fetchAccounts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await fetch(API_BASE_URL);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      setAccounts(data);\r\n      \r\n      // Expand main categories by default\r\n      const mainCategories = data\r\n        .filter(account => account.level === 0)\r\n        .map(account => account.id);\r\n      setExpandedNodes(new Set(mainCategories));\r\n      \r\n    } catch (err) {\r\n      const errorMsg = 'Failed to fetch accounts: ' + err.message;\r\n      setError(errorMsg);\r\n      showToast(errorMsg, 'error');\r\n      console.error('Error fetching accounts:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Initialize component\r\n  useEffect(() => {\r\n    fetchAccounts();\r\n  }, []);\r\n\r\n  // Create account\r\n  const createAccount = async (accountData) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(API_BASE_URL, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(accountData)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(errorText || `HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.text();\r\n      showToast(result || 'Account created successfully!', 'success');\r\n      await fetchAccounts(); // Refresh the list\r\n      return true;\r\n    } catch (err) {\r\n      const errorMsg = 'Failed to create account: ' + err.message;\r\n      setError(errorMsg);\r\n      showToast(errorMsg, 'error');\r\n      console.error('Error creating account:', err);\r\n      return false;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Update account\r\n  const updateAccount = async (accountId, accountData) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(`${API_BASE_URL}/${accountId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(accountData)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(errorText || `HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.text();\r\n      showToast(result || 'Account updated successfully!', 'success');\r\n      await fetchAccounts(); // Refresh the list\r\n      return true;\r\n    } catch (err) {\r\n      const errorMsg = 'Failed to update account: ' + err.message;\r\n      setError(errorMsg);\r\n      showToast(errorMsg, 'error');\r\n      console.error('Error updating account:', err);\r\n      return false;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Delete account\r\n  const deleteAccount = async (accountId) => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(`${API_BASE_URL}/${accountId}`, {\r\n        method: 'DELETE'\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(errorText || `HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.text();\r\n      showToast(result || 'Account deleted successfully!', 'success');\r\n      await fetchAccounts(); // Refresh the list\r\n      return true;\r\n    } catch (err) {\r\n      const errorMsg = 'Failed to delete account: ' + err.message;\r\n      setError(errorMsg);\r\n      showToast(errorMsg, 'error');\r\n      console.error('Error deleting account:', err);\r\n      return false;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Helper function to flatten hierarchy for filtering\r\n  const flattenAccounts = (accounts) => {\r\n    const result = [];\r\n    const flatten = (items) => {\r\n      items.forEach(item => {\r\n        result.push(item);\r\n        if (item.children && item.children.length > 0) {\r\n          flatten(item.children);\r\n        }\r\n      });\r\n    };\r\n    flatten(accounts);\r\n    return result;\r\n  };\r\n\r\n  // Filter accounts based on search and category\r\n  const getFilteredAccounts = () => {\r\n    const flatAccounts = flattenAccounts(accounts);\r\n    let filtered = flatAccounts;\r\n\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(account => \r\n        account.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        account.code.includes(searchTerm) ||\r\n        (account.description && account.description.toLowerCase().includes(searchTerm.toLowerCase()))\r\n      );\r\n    }\r\n\r\n    if (selectedCategory !== 'all') {\r\n      filtered = filtered.filter(account => account.type === selectedCategory);\r\n    }\r\n\r\n    return filtered;\r\n  };\r\n\r\n  // Build hierarchy from flat accounts (for display when not searching)\r\n  const buildHierarchy = (accounts, parentId = null) => {\r\n    return accounts\r\n      .filter(account => account.parentId === parentId)\r\n      .sort((a, b) => a.code.localeCompare(b.code))\r\n      .map(account => ({\r\n        ...account,\r\n        children: buildHierarchy(accounts, account.id)\r\n      }));\r\n  };\r\n\r\n  // Toggle expand/collapse\r\n  const toggleExpand = (nodeId) => {\r\n    const newExpanded = new Set(expandedNodes);\r\n    if (newExpanded.has(nodeId)) {\r\n      newExpanded.delete(nodeId);\r\n    } else {\r\n      newExpanded.add(nodeId);\r\n    }\r\n    setExpandedNodes(newExpanded);\r\n  };\r\n\r\n  // Handle add account\r\n  const handleAddAccount = (parentId = null) => {\r\n    const flatAccounts = flattenAccounts(accounts);\r\n    const parentAccount = parentId ? flatAccounts.find(a => a.id === parentId) : null;\r\n    const accountType = parentAccount ? parentAccount.type : 'assets';\r\n    \r\n    setFormData({\r\n      code: '', // Will be generated by backend\r\n      name: '',\r\n      type: accountType,\r\n      category: 'account',\r\n      parentId,\r\n      description: '',\r\n      active: true\r\n    });\r\n    setIsAddingAccount(true);\r\n  };\r\n\r\n  // Handle edit account\r\n  const handleEditAccount = (account) => {\r\n    setFormData({\r\n      code: account.code,\r\n      name: account.name,\r\n      type: account.type,\r\n      category: account.category,\r\n      parentId: account.parentId,\r\n      description: account.description || '',\r\n      active: account.active !== undefined ? account.active : true\r\n    });\r\n    setEditingAccount(account.id);\r\n  };\r\n\r\n  // Handle save account\r\n  const handleSaveAccount = async () => {\r\n    if (!formData.name) {\r\n      showToast('Please fill in the account name', 'error');\r\n      return;\r\n    }\r\n\r\n    const success = editingAccount \r\n      ? await updateAccount(editingAccount, formData)\r\n      : await createAccount(formData);\r\n\r\n    if (success) {\r\n      // Reset form\r\n      setFormData({\r\n        code: '',\r\n        name: '',\r\n        type: 'assets',\r\n        category: 'account',\r\n        parentId: null,\r\n        description: '',\r\n        active: true\r\n      });\r\n      setIsAddingAccount(false);\r\n      setEditingAccount(null);\r\n    }\r\n  };\r\n\r\n  // Handle delete account\r\n  const handleDeleteAccount = async (accountId) => {\r\n    const flatAccounts = flattenAccounts(accounts);\r\n    const hasChildren = flatAccounts.some(a => a.parentId === accountId);\r\n    \r\n    if (hasChildren) {\r\n      showToast('Cannot delete account with sub-accounts. Please delete sub-accounts first.', 'error');\r\n      return;\r\n    }\r\n\r\n    if (window.confirm('Are you sure you want to delete this account?')) {\r\n      await deleteAccount(accountId);\r\n    }\r\n  };\r\n\r\n  // Handle cancel\r\n  const handleCancel = () => {\r\n    setIsAddingAccount(false);\r\n    setEditingAccount(null);\r\n    setFormData({\r\n      code: '',\r\n      name: '',\r\n      type: 'assets',\r\n      category: 'account',\r\n      parentId: null,\r\n      description: '',\r\n      active: true\r\n    });\r\n  };\r\n\r\n  // Render account node\r\n  const renderAccountNode = (account) => {\r\n    const hasChildren = account.children && account.children.length > 0;\r\n    const isExpanded = expandedNodes.has(account.id);\r\n    const typeConfig = accountTypes[account.type];\r\n\r\n    return (\r\n      <div key={account.id} className=\"account-node\">\r\n        <div \r\n          className={`flex items-center py-2 px-4 hover:bg-gray-50 border-l-4 ${\r\n            account.category === 'header' ? 'border-gray-400 bg-gray-100 font-bold' :\r\n            account.category === 'group' ? 'border-gray-300 bg-gray-50 font-semibold' :\r\n            'border-transparent'\r\n          }`}\r\n          style={{ paddingLeft: `${account.level * 20 + 16}px` }}\r\n        >\r\n          {hasChildren && (\r\n            <button\r\n              onClick={() => toggleExpand(account.id)}\r\n              className=\"mr-2 p-1 hover:bg-gray-200 rounded\"\r\n            >\r\n              {isExpanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\r\n            </button>\r\n          )}\r\n          \r\n          <div className=\"flex-1 flex items-center space-x-4\">\r\n            <span className=\"font-mono text-sm text-gray-600 min-w-[80px]\">\r\n              {account.code}\r\n            </span>\r\n            \r\n            <span className={`flex-1 ${account.category === 'header' ? 'text-lg' : ''}`}>\r\n              {account.name}\r\n              {!account.active && <span className=\"ml-2 text-red-500 text-xs\">(Inactive)</span>}\r\n            </span>\r\n            \r\n            <span className={`px-2 py-1 rounded-full text-xs font-medium ${typeConfig.color}`}>\r\n              {typeConfig.label}\r\n            </span>\r\n            \r\n            <div className=\"flex space-x-1\">\r\n              <button\r\n                onClick={() => handleEditAccount(account)}\r\n                className=\"p-1 hover:bg-blue-100 rounded text-blue-600\"\r\n                title=\"Edit Account\"\r\n                disabled={loading}\r\n              >\r\n                <Edit size={14} />\r\n              </button>\r\n              <button\r\n                onClick={() => handleDeleteAccount(account.id)}\r\n                className=\"p-1 hover:bg-red-100 rounded text-red-600\"\r\n                title=\"Delete Account\"\r\n                disabled={loading}\r\n              >\r\n                <Trash2 size={14} />\r\n              </button>\r\n              <button\r\n                onClick={() => handleAddAccount(account.id)}\r\n                className=\"p-1 hover:bg-green-100 rounded text-green-600\"\r\n                title=\"Add Sub-Account\"\r\n                disabled={loading}\r\n              >\r\n                <Plus size={14} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {account.description && (\r\n          <div className=\"px-4 py-1 text-sm text-gray-500\" style={{ paddingLeft: `${account.level * 20 + 36}px` }}>\r\n            {account.description}\r\n          </div>\r\n        )}\r\n\r\n        {isExpanded && hasChildren && (\r\n          <div>\r\n            {account.children.map(child => renderAccountNode(child))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const flatAccounts = flattenAccounts(accounts);\r\n  const filteredAccounts = getFilteredAccounts();\r\n  const displayAccounts = searchTerm || selectedCategory !== 'all' \r\n    ? filteredAccounts \r\n    : buildHierarchy(flatAccounts);\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto p-6 bg-white\">\r\n      {/* Toast Notifications */}\r\n      <div className=\"fixed top-4 right-4 z-50 space-y-2\">\r\n        {toasts.map((toast) => (\r\n          <div\r\n            key={toast.id}\r\n            className={`flex items-center p-4 rounded-lg shadow-lg max-w-sm transform transition-all duration-300 ease-in-out ${\r\n              toast.type === 'success' \r\n                ? 'bg-green-50 border border-green-200 text-green-800' \r\n                : toast.type === 'error'\r\n                ? 'bg-red-50 border border-red-200 text-red-800'\r\n                : 'bg-blue-50 border border-blue-200 text-blue-800'\r\n            }`}\r\n          >\r\n            <div className=\"flex-shrink-0\">\r\n              {toast.type === 'success' && <CheckCircle size={20} className=\"text-green-600\" />}\r\n              {toast.type === 'error' && <XCircle size={20} className=\"text-red-600\" />}\r\n              {toast.type === 'info' && <AlertCircle size={20} className=\"text-blue-600\" />}\r\n            </div>\r\n            <div className=\"ml-3 flex-1\">\r\n              <p className=\"text-sm font-medium\">{toast.message}</p>\r\n            </div>\r\n            <button\r\n              onClick={() => removeToast(toast.id)}\r\n              className={`ml-3 flex-shrink-0 rounded-md p-1.5 inline-flex focus:outline-none focus:ring-2 focus:ring-offset-2 ${\r\n                toast.type === 'success' \r\n                  ? 'text-green-400 hover:bg-green-100 focus:ring-green-600' \r\n                  : toast.type === 'error'\r\n                  ? 'text-red-400 hover:bg-red-100 focus:ring-red-600'\r\n                  : 'text-blue-400 hover:bg-blue-100 focus:ring-blue-600'\r\n              }`}\r\n            >\r\n              <X size={16} />\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Chart of Accounts</h1>\r\n        <p className=\"text-gray-600\">Manage your company's account structure and hierarchy</p>\r\n      </div>\r\n\r\n      {/* Error Message */}\r\n      {error && (\r\n        <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n          <div className=\"flex\">\r\n            <div className=\"flex-1\">\r\n              <p className=\"text-red-700\">{error}</p>\r\n            </div>\r\n            <button\r\n              onClick={() => setError(null)}\r\n              className=\"text-red-400 hover:text-red-600\"\r\n            >\r\n              <X size={16} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Controls */}\r\n      <div className=\"mb-6 flex flex-wrap items-center justify-between gap-4\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search accounts...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"relative\">\r\n            <Filter className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n            <select\r\n              value={selectedCategory}\r\n              onChange={(e) => setSelectedCategory(e.target.value)}\r\n              className=\"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            >\r\n              <option value=\"all\">All Types</option>\r\n              {Object.entries(accountTypes).map(([key, type]) => (\r\n                <option key={key} value={key}>{type.label}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <button\r\n            onClick={fetchAccounts}\r\n            className=\"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center space-x-2\"\r\n            disabled={loading}\r\n          >\r\n            <RefreshCw size={16} className={loading ? 'animate-spin' : ''} />\r\n            <span>Refresh</span>\r\n          </button>\r\n        </div>\r\n\r\n        <button\r\n          onClick={() => handleAddAccount()}\r\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2\"\r\n          disabled={loading}\r\n        >\r\n          <Plus size={20} />\r\n          <span>Add Account</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Account Form */}\r\n      {(isAddingAccount || editingAccount) && (\r\n        <div className=\"mb-6 p-6 bg-gray-50 rounded-lg border\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">\r\n            {editingAccount ? 'Edit Account' : 'Add New Account'}\r\n          </h3>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Account Code\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.code}\r\n                onChange={(e) => setFormData({...formData, code: e.target.value})}\r\n                placeholder=\"Auto-generated if empty\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 mt-1\">Leave empty for auto-generation</p>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Account Name *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.name}\r\n                onChange={(e) => setFormData({...formData, name: e.target.value})}\r\n                placeholder=\"Enter account name\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                required\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Account Type\r\n              </label>\r\n              <select\r\n                value={formData.type}\r\n                onChange={(e) => setFormData({...formData, type: e.target.value})}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                {Object.entries(accountTypes).map(([key, type]) => (\r\n                  <option key={key} value={key}>{type.label} ({type.codeRange})</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Category\r\n              </label>\r\n              <select\r\n                value={formData.category}\r\n                onChange={(e) => setFormData({...formData, category: e.target.value})}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"header\">Header</option>\r\n                <option value=\"group\">Group</option>\r\n                <option value=\"account\">Account</option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Parent Account\r\n              </label>\r\n              <select\r\n                value={formData.parentId || ''}\r\n                onChange={(e) => setFormData({...formData, parentId: e.target.value || null})}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"\">None (Top Level)</option>\r\n                {flatAccounts\r\n                  .filter(a => a.id !== editingAccount && a.category !== 'account')\r\n                  .map(account => (\r\n                    <option key={account.id} value={account.id}>\r\n                      {account.code} - {account.name}\r\n                    </option>\r\n                  ))\r\n                }\r\n              </select>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"active\"\r\n                checked={formData.active}\r\n                onChange={(e) => setFormData({...formData, active: e.target.checked})}\r\n                className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n              />\r\n              <label htmlFor=\"active\" className=\"ml-2 block text-sm text-gray-900\">\r\n                Active\r\n              </label>\r\n            </div>\r\n            \r\n            <div className=\"md:col-span-2 lg:col-span-3\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Description\r\n              </label>\r\n              <textarea\r\n                value={formData.description}\r\n                onChange={(e) => setFormData({...formData, description: e.target.value})}\r\n                rows={2}\r\n                placeholder=\"Enter account description\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"mt-4 flex space-x-3\">\r\n            <button\r\n              onClick={handleSaveAccount}\r\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2\"\r\n              disabled={loading}\r\n            >\r\n              <Save size={16} />\r\n              <span>{loading ? 'Saving...' : 'Save'}</span>\r\n            </button>\r\n            <button\r\n              onClick={handleCancel}\r\n              className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 flex items-center space-x-2\"\r\n              disabled={loading}\r\n            >\r\n              <X size={16} />\r\n              <span>Cancel</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Accounts Tree */}\r\n      <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\r\n        <div className=\"px-4 py-3 bg-gray-50 border-b border-gray-200\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900\">Account Structure</h2>\r\n            <span className=\"text-sm text-gray-500\">\r\n              {filteredAccounts.length} accounts\r\n              {loading && <span className=\"ml-2 text-blue-600\">Loading...</span>}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"max-h-[600px] overflow-y-auto\">\r\n          {loading && accounts.length === 0 ? (\r\n            <div className=\"p-8 text-center text-gray-500\">\r\n              <RefreshCw className=\"animate-spin mx-auto mb-2\" size={24} />\r\n              Loading accounts...\r\n            </div>\r\n          ) : displayAccounts.length > 0 ? (\r\n            searchTerm || selectedCategory !== 'all' ? (\r\n              // Flat view for search results\r\n              <div>\r\n                {filteredAccounts.map(account => (\r\n                  <div key={account.id}>\r\n                    {renderAccountNode({...account, children: []})}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              // Hierarchical view\r\n              displayAccounts.map(account => renderAccountNode(account))\r\n            )\r\n          ) : (\r\n            <div className=\"p-8 text-center text-gray-500\">\r\n              No accounts found matching your criteria.\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Account Type Legend */}\r\n      <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n        <h3 className=\"text-sm font-semibold text-gray-700 mb-3\">Account Types & Code Ranges</h3>\r\n        <div className=\"flex flex-wrap gap-4\">\r\n          {Object.entries(accountTypes).map(([key, type]) => (\r\n            <div key={key} className=\"flex items-center space-x-2\">\r\n              <span className={`px-2 py-1 rounded-full text-xs font-medium ${type.color}`}>\r\n                {type.label}\r\n              </span>\r\n              <span className=\"text-sm text-gray-600 font-mono\">{type.codeRange}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* API Integration Info */}\r\n      <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\r\n        <h3 className=\"text-sm font-semibold text-blue-800 mb-2\">API Integration Status</h3>\r\n        <div className=\"text-xs text-blue-700 space-y-1\">\r\n          <p>• Connected to: {API_BASE_URL}</p>\r\n          <p>• Auto-refresh after CRUD operations</p>\r\n          <p>• Real-time data from Spring Boot backend</p>\r\n          <p>• Hierarchical structure maintained server-side</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChartOfAccounts;"],"mappings":";;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,YAAY,EAAEC,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAEC,IAAI,EAAEC,CAAC,EAAEC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,WAAW,EAAEC,WAAW,EAAEC,OAAO,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpJ,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGpB,QAAQ,CAAC,EAAE,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}